var zx=e=>{throw TypeError(e)};var Pp=(e,t,r)=>t.has(e)||zx("Cannot "+r);var N=(e,t,r)=>(Pp(e,t,"read from private field"),r?r.call(e):t.get(e)),ve=(e,t,r)=>t.has(e)?zx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),le=(e,t,r,n)=>(Pp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ae=(e,t,r)=>(Pp(e,t,"access private method"),r);var Wu=(e,t,r,n)=>({set _(s){le(e,t,s,r)},get _(){return N(e,t,n)}});function iO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function FS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var US={exports:{}},dh={},BS={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),aO=Symbol.for("react.portal"),lO=Symbol.for("react.fragment"),cO=Symbol.for("react.strict_mode"),uO=Symbol.for("react.profiler"),dO=Symbol.for("react.provider"),fO=Symbol.for("react.context"),hO=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),mO=Symbol.for("react.memo"),gO=Symbol.for("react.lazy"),Vx=Symbol.iterator;function vO(e){return e===null||typeof e!="object"?null:(e=Vx&&e[Vx]||e["@@iterator"],typeof e=="function"?e:null)}var zS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VS=Object.assign,WS={};function Xa(e,t,r){this.props=e,this.context=t,this.refs=WS,this.updater=r||zS}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function HS(){}HS.prototype=Xa.prototype;function Sy(e,t,r){this.props=e,this.context=t,this.refs=WS,this.updater=r||zS}var Cy=Sy.prototype=new HS;Cy.constructor=Sy;VS(Cy,Xa.prototype);Cy.isPureReactComponent=!0;var Wx=Array.isArray,KS=Object.prototype.hasOwnProperty,ky={current:null},GS={key:!0,ref:!0,__self:!0,__source:!0};function qS(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)KS.call(t,n)&&!GS.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:vu,type:e,key:o,ref:i,props:s,_owner:ky.current}}function yO(e,t){return{$$typeof:vu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ey(e){return typeof e=="object"&&e!==null&&e.$$typeof===vu}function wO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hx=/\/+/g;function Ap(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wO(""+e.key):t.toString(36)}function Dd(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case vu:case aO:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Ap(i,0):n,Wx(s)?(r="",e!=null&&(r=e.replace(Hx,"$&/")+"/"),Dd(s,t,r,"",function(u){return u})):s!=null&&(Ey(s)&&(s=yO(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Hx,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Wx(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+Ap(o,a);i+=Dd(o,t,r,c,s)}else if(c=vO(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+Ap(o,a++),i+=Dd(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Hu(e,t,r){if(e==null)return e;var n=[],s=0;return Dd(e,n,"","",function(o){return t.call(r,o,s++)}),n}function xO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ar={current:null},Md={transition:null},bO={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:Md,ReactCurrentOwner:ky};function YS(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Hu,forEach:function(e,t,r){Hu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hu(e,function(){t++}),t},toArray:function(e){return Hu(e,function(t){return t})||[]},only:function(e){if(!Ey(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Xa;De.Fragment=lO;De.Profiler=uO;De.PureComponent=Sy;De.StrictMode=cO;De.Suspense=pO;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bO;De.act=YS;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=VS({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ky.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)KS.call(t,c)&&!GS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:vu,type:e.type,key:s,ref:o,props:n,_owner:i}};De.createContext=function(e){return e={$$typeof:fO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dO,_context:e},e.Consumer=e};De.createElement=qS;De.createFactory=function(e){var t=qS.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:hO,render:e}};De.isValidElement=Ey;De.lazy=function(e){return{$$typeof:gO,_payload:{_status:-1,_result:e},_init:xO}};De.memo=function(e,t){return{$$typeof:mO,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Md.transition;Md.transition={};try{e()}finally{Md.transition=t}};De.unstable_act=YS;De.useCallback=function(e,t){return ar.current.useCallback(e,t)};De.useContext=function(e){return ar.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return ar.current.useDeferredValue(e)};De.useEffect=function(e,t){return ar.current.useEffect(e,t)};De.useId=function(){return ar.current.useId()};De.useImperativeHandle=function(e,t,r){return ar.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return ar.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return ar.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return ar.current.useMemo(e,t)};De.useReducer=function(e,t,r){return ar.current.useReducer(e,t,r)};De.useRef=function(e){return ar.current.useRef(e)};De.useState=function(e){return ar.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return ar.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return ar.current.useTransition()};De.version="18.3.1";BS.exports=De;var d=BS.exports;const L=FS(d),jy=iO({__proto__:null,default:L},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O=d,SO=Symbol.for("react.element"),CO=Symbol.for("react.fragment"),kO=Object.prototype.hasOwnProperty,EO=_O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jO={key:!0,ref:!0,__self:!0,__source:!0};function ZS(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)kO.call(t,n)&&!jO.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:SO,type:e,key:o,ref:i,props:s,_owner:EO.current}}dh.Fragment=CO;dh.jsx=ZS;dh.jsxs=ZS;US.exports=dh;var l=US.exports,QS={exports:{}},Fr={},JS={exports:{}},XS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,R){var U=I.length;I.push(R);e:for(;0<U;){var q=U-1>>>1,A=I[q];if(0<s(A,R))I[q]=R,I[U]=A,U=q;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var R=I[0],U=I.pop();if(U!==R){I[0]=U;e:for(var q=0,A=I.length,W=A>>>1;q<W;){var Z=2*(q+1)-1,Q=I[Z],ae=Z+1,K=I[ae];if(0>s(Q,U))ae<A&&0>s(K,Q)?(I[q]=K,I[ae]=U,q=ae):(I[q]=Q,I[Z]=U,q=Z);else if(ae<A&&0>s(K,U))I[q]=K,I[ae]=U,q=ae;else break e}}return R}function s(I,R){var U=I.sortIndex-R.sortIndex;return U!==0?U:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],f=1,h=null,m=3,p=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=I)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function _(I){if(g=!1,x(I),!y)if(r(c)!==null)y=!0,V(S);else{var R=r(u);R!==null&&H(_,R.startTime-I)}}function S(I,R){y=!1,g&&(g=!1,w(E),E=-1),p=!0;var U=m;try{for(x(R),h=r(c);h!==null&&(!(h.expirationTime>R)||I&&!M());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var A=q(h.expirationTime<=R);R=e.unstable_now(),typeof A=="function"?h.callback=A:h===r(c)&&n(c),x(R)}else n(c);h=r(c)}if(h!==null)var W=!0;else{var Z=r(u);Z!==null&&H(_,Z.startTime-R),W=!1}return W}finally{h=null,m=U,p=!1}}var C=!1,k=null,E=-1,P=5,O=-1;function M(){return!(e.unstable_now()-O<P)}function T(){if(k!==null){var I=e.unstable_now();O=I;var R=!0;try{R=k(!0,I)}finally{R?F():(C=!1,k=null)}}else C=!1}var F;if(typeof v=="function")F=function(){v(T)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Y=$.port2;$.port1.onmessage=T,F=function(){Y.postMessage(null)}}else F=function(){b(T,0)};function V(I){k=I,C||(C=!0,F())}function H(I,R){E=b(function(){I(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,V(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var U=m;m=R;try{return I()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=m;m=I;try{return R()}finally{m=U}},e.unstable_scheduleCallback=function(I,R,U){var q=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=U+A,I={id:f++,callback:R,priorityLevel:I,startTime:U,expirationTime:A,sortIndex:-1},U>q?(I.sortIndex=U,t(u,I),r(c)===null&&I===r(u)&&(g?(w(E),E=-1):g=!0,H(_,U-q))):(I.sortIndex=A,t(c,I),y||p||(y=!0,V(S))),I},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(I){var R=m;return function(){var U=m;m=R;try{return I.apply(this,arguments)}finally{m=U}}}})(XS);JS.exports=XS;var NO=JS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO=d,$r=NO;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eC=new Set,_c={};function bi(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(_c[e]=t,e=0;e<t.length;e++)eC.add(t[e])}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hg=Object.prototype.hasOwnProperty,TO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kx={},Gx={};function PO(e){return hg.call(Gx,e)?!0:hg.call(Kx,e)?!1:TO.test(e)?Gx[e]=!0:(Kx[e]=!0,!1)}function AO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OO(e,t,r,n){if(t===null||typeof t>"u"||AO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ny=/[\-:]([a-z])/g;function Ry(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ny,Ry);Wt[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ny,Ry);Wt[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ny,Ry);Wt[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ty(e,t,r,n){var s=Wt.hasOwnProperty(t)?Wt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OO(t,r,s,n)&&(r=null),n||s===null?PO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ds=RO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Py=Symbol.for("react.strict_mode"),pg=Symbol.for("react.profiler"),tC=Symbol.for("react.provider"),rC=Symbol.for("react.context"),Ay=Symbol.for("react.forward_ref"),mg=Symbol.for("react.suspense"),gg=Symbol.for("react.suspense_list"),Oy=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),nC=Symbol.for("react.offscreen"),qx=Symbol.iterator;function Pl(e){return e===null||typeof e!="object"?null:(e=qx&&e[qx]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,Op;function ql(e){if(Op===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Op=t&&t[1]||""}return`
`+Op+e}var Ip=!1;function Dp(e,t){if(!e||Ip)return"";Ip=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Ip=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ql(e):""}function IO(e){switch(e.tag){case 5:return ql(e.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return e=Dp(e.type,!1),e;case 11:return e=Dp(e.type.render,!1),e;case 1:return e=Dp(e.type,!0),e;default:return""}}function vg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case Zi:return"Portal";case pg:return"Profiler";case Py:return"StrictMode";case mg:return"Suspense";case gg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rC:return(e.displayName||"Context")+".Consumer";case tC:return(e._context.displayName||"Context")+".Provider";case Ay:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oy:return t=e.displayName||null,t!==null?t:vg(e.type)||"Memo";case ks:t=e._payload,e=e._init;try{return vg(e(t))}catch{}}return null}function DO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(t);case 8:return t===Py?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MO(e){var t=sC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gu(e){e._valueTracker||(e._valueTracker=MO(e))}function oC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yg(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=io(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iC(e,t){t=t.checked,t!=null&&Ty(e,"checked",t,!1)}function wg(e,t){iC(e,t);var r=io(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xg(e,t.type,r):t.hasOwnProperty("defaultValue")&&xg(e,t.type,io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xg(e,t,r){(t!=="number"||tf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yl=Array.isArray;function fa(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+io(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(Yl(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:io(r)}}function aC(e,t){var r=io(t.value),n=io(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _g(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qu,cC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qu=qu||document.createElement("div"),qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$O=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(e){$O.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nc[t]=nc[e]})});function uC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nc.hasOwnProperty(e)&&nc[e]?(""+t).trim():t+"px"}function dC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=uC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var LO=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sg(e,t){if(t){if(LO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Cg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kg=null;function Iy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eg=null,ha=null,pa=null;function Xx(e){if(e=xu(e)){if(typeof Eg!="function")throw Error(J(280));var t=e.stateNode;t&&(t=gh(t),Eg(e.stateNode,e.type,t))}}function fC(e){ha?pa?pa.push(e):pa=[e]:ha=e}function hC(){if(ha){var e=ha,t=pa;if(pa=ha=null,Xx(e),t)for(e=0;e<t.length;e++)Xx(t[e])}}function pC(e,t){return e(t)}function mC(){}var Mp=!1;function gC(e,t,r){if(Mp)return e(t,r);Mp=!0;try{return pC(e,t,r)}finally{Mp=!1,(ha!==null||pa!==null)&&(mC(),hC())}}function Cc(e,t){var r=e.stateNode;if(r===null)return null;var n=gh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var jg=!1;if(rs)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){jg=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{jg=!1}function FO(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var sc=!1,rf=null,nf=!1,Ng=null,UO={onError:function(e){sc=!0,rf=e}};function BO(e,t,r,n,s,o,i,a,c){sc=!1,rf=null,FO.apply(UO,arguments)}function zO(e,t,r,n,s,o,i,a,c){if(BO.apply(this,arguments),sc){if(sc){var u=rf;sc=!1,rf=null}else throw Error(J(198));nf||(nf=!0,Ng=u)}}function _i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eb(e){if(_i(e)!==e)throw Error(J(188))}function VO(e){var t=e.alternate;if(!t){if(t=_i(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return eb(s),e;if(o===n)return eb(s),t;o=o.sibling}throw Error(J(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function yC(e){return e=VO(e),e!==null?wC(e):null}function wC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wC(e);if(t!==null)return t;e=e.sibling}return null}var xC=$r.unstable_scheduleCallback,tb=$r.unstable_cancelCallback,WO=$r.unstable_shouldYield,HO=$r.unstable_requestPaint,mt=$r.unstable_now,KO=$r.unstable_getCurrentPriorityLevel,Dy=$r.unstable_ImmediatePriority,bC=$r.unstable_UserBlockingPriority,sf=$r.unstable_NormalPriority,GO=$r.unstable_LowPriority,_C=$r.unstable_IdlePriority,fh=null,Dn=null;function qO(e){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(fh,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:QO,YO=Math.log,ZO=Math.LN2;function QO(e){return e>>>=0,e===0?32:31-(YO(e)/ZO|0)|0}var Yu=64,Zu=4194304;function Zl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function of(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Zl(a):(o&=i,o!==0&&(n=Zl(o)))}else i=r&~s,i!==0?n=Zl(i):o!==0&&(n=Zl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-yn(t),s=1<<r,n|=e[r],t&=~s;return n}function JO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-yn(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=JO(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Rg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function SC(){var e=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),e}function $p(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=r}function eI(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-yn(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function My(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var We=0;function CC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kC,$y,EC,jC,NC,Tg=!1,Qu=[],Gs=null,qs=null,Ys=null,kc=new Map,Ec=new Map,Ts=[],tI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rb(e,t){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":kc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(t.pointerId)}}function Ol(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=xu(t),t!==null&&$y(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rI(e,t,r,n,s){switch(t){case"focusin":return Gs=Ol(Gs,e,t,r,n,s),!0;case"dragenter":return qs=Ol(qs,e,t,r,n,s),!0;case"mouseover":return Ys=Ol(Ys,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return kc.set(o,Ol(kc.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ec.set(o,Ol(Ec.get(o)||null,e,t,r,n,s)),!0}return!1}function RC(e){var t=$o(e.target);if(t!==null){var r=_i(t);if(r!==null){if(t=r.tag,t===13){if(t=vC(r),t!==null){e.blockedOn=t,NC(e.priority,function(){EC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $d(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);kg=n,r.target.dispatchEvent(n),kg=null}else return t=xu(r),t!==null&&$y(t),e.blockedOn=r,!1;t.shift()}return!0}function nb(e,t,r){$d(e)&&r.delete(t)}function nI(){Tg=!1,Gs!==null&&$d(Gs)&&(Gs=null),qs!==null&&$d(qs)&&(qs=null),Ys!==null&&$d(Ys)&&(Ys=null),kc.forEach(nb),Ec.forEach(nb)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,Tg||(Tg=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,nI)))}function jc(e){function t(s){return Il(s,e)}if(0<Qu.length){Il(Qu[0],e);for(var r=1;r<Qu.length;r++){var n=Qu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gs!==null&&Il(Gs,e),qs!==null&&Il(qs,e),Ys!==null&&Il(Ys,e),kc.forEach(t),Ec.forEach(t),r=0;r<Ts.length;r++)n=Ts[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ts.length&&(r=Ts[0],r.blockedOn===null);)RC(r),r.blockedOn===null&&Ts.shift()}var ma=ds.ReactCurrentBatchConfig,af=!0;function sI(e,t,r,n){var s=We,o=ma.transition;ma.transition=null;try{We=1,Ly(e,t,r,n)}finally{We=s,ma.transition=o}}function oI(e,t,r,n){var s=We,o=ma.transition;ma.transition=null;try{We=4,Ly(e,t,r,n)}finally{We=s,ma.transition=o}}function Ly(e,t,r,n){if(af){var s=Pg(e,t,r,n);if(s===null)Gp(e,t,n,lf,r),rb(e,n);else if(rI(s,e,t,r,n))n.stopPropagation();else if(rb(e,n),t&4&&-1<tI.indexOf(e)){for(;s!==null;){var o=xu(s);if(o!==null&&kC(o),o=Pg(e,t,r,n),o===null&&Gp(e,t,n,lf,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Gp(e,t,n,null,r)}}var lf=null;function Pg(e,t,r,n){if(lf=null,e=Iy(n),e=$o(e),e!==null)if(t=_i(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lf=e,null}function TC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KO()){case Dy:return 1;case bC:return 4;case sf:case GO:return 16;case _C:return 536870912;default:return 16}default:return 16}}var Vs=null,Fy=null,Ld=null;function PC(){if(Ld)return Ld;var e,t=Fy,r=t.length,n,s="value"in Vs?Vs.value:Vs.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Ld=s.slice(e,1<n?1-n:void 0)}function Fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ju(){return!0}function sb(){return!1}function Ur(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ju:sb,this.isPropagationStopped=sb,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),t}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=Ur(el),wu=it({},el,{view:0,detail:0}),iI=Ur(wu),Lp,Fp,Dl,hh=it({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(Lp=e.screenX-Dl.screenX,Fp=e.screenY-Dl.screenY):Fp=Lp=0,Dl=e),Lp)},movementY:function(e){return"movementY"in e?e.movementY:Fp}}),ob=Ur(hh),aI=it({},hh,{dataTransfer:0}),lI=Ur(aI),cI=it({},wu,{relatedTarget:0}),Up=Ur(cI),uI=it({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),dI=Ur(uI),fI=it({},el,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hI=Ur(fI),pI=it({},el,{data:0}),ib=Ur(pI),mI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vI[e])?!!t[e]:!1}function By(){return yI}var wI=it({},wu,{key:function(e){if(e.key){var t=mI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(e){return e.type==="keypress"?Fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xI=Ur(wI),bI=it({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ab=Ur(bI),_I=it({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),SI=Ur(_I),CI=it({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),kI=Ur(CI),EI=it({},hh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jI=Ur(EI),NI=[9,13,27,32],zy=rs&&"CompositionEvent"in window,oc=null;rs&&"documentMode"in document&&(oc=document.documentMode);var RI=rs&&"TextEvent"in window&&!oc,AC=rs&&(!zy||oc&&8<oc&&11>=oc),lb=" ",cb=!1;function OC(e,t){switch(e){case"keyup":return NI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function TI(e,t){switch(e){case"compositionend":return IC(t);case"keypress":return t.which!==32?null:(cb=!0,lb);case"textInput":return e=t.data,e===lb&&cb?null:e;default:return null}}function PI(e,t){if(Ji)return e==="compositionend"||!zy&&OC(e,t)?(e=PC(),Ld=Fy=Vs=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AC&&t.locale!=="ko"?null:t.data;default:return null}}var AI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ub(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AI[e.type]:t==="textarea"}function DC(e,t,r,n){fC(n),t=cf(t,"onChange"),0<t.length&&(r=new Uy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ic=null,Nc=null;function OI(e){KC(e,0)}function ph(e){var t=ta(e);if(oC(t))return e}function II(e,t){if(e==="change")return t}var MC=!1;if(rs){var Bp;if(rs){var zp="oninput"in document;if(!zp){var db=document.createElement("div");db.setAttribute("oninput","return;"),zp=typeof db.oninput=="function"}Bp=zp}else Bp=!1;MC=Bp&&(!document.documentMode||9<document.documentMode)}function fb(){ic&&(ic.detachEvent("onpropertychange",$C),Nc=ic=null)}function $C(e){if(e.propertyName==="value"&&ph(Nc)){var t=[];DC(t,Nc,e,Iy(e)),gC(OI,t)}}function DI(e,t,r){e==="focusin"?(fb(),ic=t,Nc=r,ic.attachEvent("onpropertychange",$C)):e==="focusout"&&fb()}function MI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ph(Nc)}function $I(e,t){if(e==="click")return ph(t)}function LI(e,t){if(e==="input"||e==="change")return ph(t)}function FI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:FI;function Rc(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hg.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function hb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pb(e,t){var r=hb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hb(r)}}function LC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FC(){for(var e=window,t=tf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tf(e.document)}return t}function Vy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UI(e){var t=FC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&LC(r.ownerDocument.documentElement,r)){if(n!==null&&Vy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=pb(r,o);var i=pb(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BI=rs&&"documentMode"in document&&11>=document.documentMode,Xi=null,Ag=null,ac=null,Og=!1;function mb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Og||Xi==null||Xi!==tf(n)||(n=Xi,"selectionStart"in n&&Vy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ac&&Rc(ac,n)||(ac=n,n=cf(Ag,"onSelect"),0<n.length&&(t=new Uy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xi)))}function Xu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ea={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},Vp={},UC={};rs&&(UC=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function mh(e){if(Vp[e])return Vp[e];if(!ea[e])return e;var t=ea[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in UC)return Vp[e]=t[r];return e}var BC=mh("animationend"),zC=mh("animationiteration"),VC=mh("animationstart"),WC=mh("transitionend"),HC=new Map,gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(e,t){HC.set(e,t),bi(t,[e])}for(var Wp=0;Wp<gb.length;Wp++){var Hp=gb[Wp],zI=Hp.toLowerCase(),VI=Hp[0].toUpperCase()+Hp.slice(1);mo(zI,"on"+VI)}mo(BC,"onAnimationEnd");mo(zC,"onAnimationIteration");mo(VC,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(WC,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function vb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zO(n,t,void 0,e),e.currentTarget=null}function KC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;vb(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;vb(s,a,u),o=c}}}if(nf)throw e=Ng,nf=!1,Ng=null,e}function et(e,t){var r=t[Lg];r===void 0&&(r=t[Lg]=new Set);var n=e+"__bubble";r.has(n)||(GC(t,e,2,!1),r.add(n))}function Kp(e,t,r){var n=0;t&&(n|=4),GC(r,e,n,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[ed]){e[ed]=!0,eC.forEach(function(r){r!=="selectionchange"&&(WI.has(r)||Kp(r,!1,e),Kp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ed]||(t[ed]=!0,Kp("selectionchange",!1,t))}}function GC(e,t,r,n){switch(TC(t)){case 1:var s=sI;break;case 4:s=oI;break;default:s=Ly}r=s.bind(null,t,r,e),s=void 0,!jg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gp(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=$o(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}gC(function(){var u=o,f=Iy(r),h=[];e:{var m=HC.get(e);if(m!==void 0){var p=Uy,y=e;switch(e){case"keypress":if(Fd(r)===0)break e;case"keydown":case"keyup":p=xI;break;case"focusin":y="focus",p=Up;break;case"focusout":y="blur",p=Up;break;case"beforeblur":case"afterblur":p=Up;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SI;break;case BC:case zC:case VC:p=dI;break;case WC:p=kI;break;case"scroll":p=iI;break;case"wheel":p=jI;break;case"copy":case"cut":case"paste":p=hI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ab}var g=(t&4)!==0,b=!g&&e==="scroll",w=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,x;v!==null;){x=v;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,w!==null&&(_=Cc(v,w),_!=null&&g.push(Pc(v,_,x)))),b)break;v=v.return}0<g.length&&(m=new p(m,y,null,r,f),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==kg&&(y=r.relatedTarget||r.fromElement)&&($o(y)||y[ns]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?$o(y):null,y!==null&&(b=_i(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=ob,_="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=ab,_="onPointerLeave",w="onPointerEnter",v="pointer"),b=p==null?m:ta(p),x=y==null?m:ta(y),m=new g(_,v+"leave",p,r,f),m.target=b,m.relatedTarget=x,_=null,$o(f)===u&&(g=new g(w,v+"enter",y,r,f),g.target=x,g.relatedTarget=b,_=g),b=_,p&&y)t:{for(g=p,w=y,v=0,x=g;x;x=Pi(x))v++;for(x=0,_=w;_;_=Pi(_))x++;for(;0<v-x;)g=Pi(g),v--;for(;0<x-v;)w=Pi(w),x--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Pi(g),w=Pi(w)}g=null}else g=null;p!==null&&yb(h,m,p,g,!1),y!==null&&b!==null&&yb(h,b,y,g,!0)}}e:{if(m=u?ta(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=II;else if(ub(m))if(MC)S=LI;else{S=MI;var C=DI}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=$I);if(S&&(S=S(e,u))){DC(h,S,r,f);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&xg(m,"number",m.value)}switch(C=u?ta(u):window,e){case"focusin":(ub(C)||C.contentEditable==="true")&&(Xi=C,Ag=u,ac=null);break;case"focusout":ac=Ag=Xi=null;break;case"mousedown":Og=!0;break;case"contextmenu":case"mouseup":case"dragend":Og=!1,mb(h,r,f);break;case"selectionchange":if(BI)break;case"keydown":case"keyup":mb(h,r,f)}var k;if(zy)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ji?OC(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(AC&&r.locale!=="ko"&&(Ji||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ji&&(k=PC()):(Vs=f,Fy="value"in Vs?Vs.value:Vs.textContent,Ji=!0)),C=cf(u,E),0<C.length&&(E=new ib(E,e,null,r,f),h.push({event:E,listeners:C}),k?E.data=k:(k=IC(r),k!==null&&(E.data=k)))),(k=RI?TI(e,r):PI(e,r))&&(u=cf(u,"onBeforeInput"),0<u.length&&(f=new ib("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:u}),f.data=k))}KC(h,t)})}function Pc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cf(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Cc(e,r),o!=null&&n.unshift(Pc(e,o,s)),o=Cc(e,t),o!=null&&n.push(Pc(e,o,s))),e=e.return}return n}function Pi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yb(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Cc(r,o),c!=null&&i.unshift(Pc(r,c,a))):s||(c=Cc(r,o),c!=null&&i.push(Pc(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var HI=/\r\n?/g,KI=/\u0000|\uFFFD/g;function wb(e){return(typeof e=="string"?e:""+e).replace(HI,`
`).replace(KI,"")}function td(e,t,r){if(t=wb(t),wb(e)!==t&&r)throw Error(J(425))}function uf(){}var Ig=null,Dg=null;function Mg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $g=typeof setTimeout=="function"?setTimeout:void 0,GI=typeof clearTimeout=="function"?clearTimeout:void 0,xb=typeof Promise=="function"?Promise:void 0,qI=typeof queueMicrotask=="function"?queueMicrotask:typeof xb<"u"?function(e){return xb.resolve(null).then(e).catch(YI)}:$g;function YI(e){setTimeout(function(){throw e})}function qp(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),jc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);jc(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Pn="__reactFiber$"+tl,Ac="__reactProps$"+tl,ns="__reactContainer$"+tl,Lg="__reactEvents$"+tl,ZI="__reactListeners$"+tl,QI="__reactHandles$"+tl;function $o(e){var t=e[Pn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ns]||r[Pn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bb(e);e!==null;){if(r=e[Pn])return r;e=bb(e)}return t}e=r,r=e.parentNode}return null}function xu(e){return e=e[Pn]||e[ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ta(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function gh(e){return e[Ac]||null}var Fg=[],ra=-1;function go(e){return{current:e}}function tt(e){0>ra||(e.current=Fg[ra],Fg[ra]=null,ra--)}function Ze(e,t){ra++,Fg[ra]=e.current,e.current=t}var ao={},Zt=go(ao),wr=go(!1),oi=ao;function Fa(e,t){var r=e.type.contextTypes;if(!r)return ao;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xr(e){return e=e.childContextTypes,e!=null}function df(){tt(wr),tt(Zt)}function _b(e,t,r){if(Zt.current!==ao)throw Error(J(168));Ze(Zt,t),Ze(wr,r)}function qC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(J(108,DO(e)||"Unknown",s));return it({},r,n)}function ff(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ao,oi=Zt.current,Ze(Zt,e),Ze(wr,wr.current),!0}function Sb(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=qC(e,t,oi),n.__reactInternalMemoizedMergedChildContext=e,tt(wr),tt(Zt),Ze(Zt,e)):tt(wr),Ze(wr,r)}var qn=null,vh=!1,Yp=!1;function YC(e){qn===null?qn=[e]:qn.push(e)}function JI(e){vh=!0,YC(e)}function vo(){if(!Yp&&qn!==null){Yp=!0;var e=0,t=We;try{var r=qn;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qn=null,vh=!1}catch(s){throw qn!==null&&(qn=qn.slice(e+1)),xC(Dy,vo),s}finally{We=t,Yp=!1}}return null}var na=[],sa=0,hf=null,pf=0,qr=[],Yr=0,ii=null,Jn=1,Xn="";function Po(e,t){na[sa++]=pf,na[sa++]=hf,hf=e,pf=t}function ZC(e,t,r){qr[Yr++]=Jn,qr[Yr++]=Xn,qr[Yr++]=ii,ii=e;var n=Jn;e=Xn;var s=32-yn(n)-1;n&=~(1<<s),r+=1;var o=32-yn(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Jn=1<<32-yn(t)+s|r<<s|n,Xn=o+e}else Jn=1<<o|r<<s|n,Xn=e}function Wy(e){e.return!==null&&(Po(e,1),ZC(e,1,0))}function Hy(e){for(;e===hf;)hf=na[--sa],na[sa]=null,pf=na[--sa],na[sa]=null;for(;e===ii;)ii=qr[--Yr],qr[Yr]=null,Xn=qr[--Yr],qr[Yr]=null,Jn=qr[--Yr],qr[Yr]=null}var Dr=null,Pr=null,rt=!1,mn=null;function QC(e,t){var r=Zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dr=e,Pr=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dr=e,Pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ii!==null?{id:Jn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dr=e,Pr=null,!0):!1;default:return!1}}function Ug(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bg(e){if(rt){var t=Pr;if(t){var r=t;if(!Cb(e,t)){if(Ug(e))throw Error(J(418));t=Zs(r.nextSibling);var n=Dr;t&&Cb(e,t)?QC(n,r):(e.flags=e.flags&-4097|2,rt=!1,Dr=e)}}else{if(Ug(e))throw Error(J(418));e.flags=e.flags&-4097|2,rt=!1,Dr=e}}}function kb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dr=e}function rd(e){if(e!==Dr)return!1;if(!rt)return kb(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mg(e.type,e.memoizedProps)),t&&(t=Pr)){if(Ug(e))throw JC(),Error(J(418));for(;t;)QC(e,t),t=Zs(t.nextSibling)}if(kb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pr=Zs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pr=null}}else Pr=Dr?Zs(e.stateNode.nextSibling):null;return!0}function JC(){for(var e=Pr;e;)e=Zs(e.nextSibling)}function Ua(){Pr=Dr=null,rt=!1}function Ky(e){mn===null?mn=[e]:mn.push(e)}var XI=ds.ReactCurrentBatchConfig;function Ml(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function nd(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eb(e){var t=e._init;return t(e._payload)}function XC(e){function t(w,v){if(e){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function r(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=eo(w,v),w.index=0,w.sibling=null,w}function o(w,v,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,v,x,_){return v===null||v.tag!==6?(v=rm(x,w.mode,_),v.return=w,v):(v=s(v,x),v.return=w,v)}function c(w,v,x,_){var S=x.type;return S===Qi?f(w,v,x.props.children,_,x.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ks&&Eb(S)===v.type)?(_=s(v,x.props),_.ref=Ml(w,v,x),_.return=w,_):(_=Kd(x.type,x.key,x.props,null,w.mode,_),_.ref=Ml(w,v,x),_.return=w,_)}function u(w,v,x,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=nm(x,w.mode,_),v.return=w,v):(v=s(v,x.children||[]),v.return=w,v)}function f(w,v,x,_,S){return v===null||v.tag!==7?(v=ni(x,w.mode,_,S),v.return=w,v):(v=s(v,x),v.return=w,v)}function h(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=rm(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ku:return x=Kd(v.type,v.key,v.props,null,w.mode,x),x.ref=Ml(w,null,v),x.return=w,x;case Zi:return v=nm(v,w.mode,x),v.return=w,v;case ks:var _=v._init;return h(w,_(v._payload),x)}if(Yl(v)||Pl(v))return v=ni(v,w.mode,x,null),v.return=w,v;nd(w,v)}return null}function m(w,v,x,_){var S=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(w,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ku:return x.key===S?c(w,v,x,_):null;case Zi:return x.key===S?u(w,v,x,_):null;case ks:return S=x._init,m(w,v,S(x._payload),_)}if(Yl(x)||Pl(x))return S!==null?null:f(w,v,x,_,null);nd(w,x)}return null}function p(w,v,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(x)||null,a(v,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return w=w.get(_.key===null?x:_.key)||null,c(v,w,_,S);case Zi:return w=w.get(_.key===null?x:_.key)||null,u(v,w,_,S);case ks:var C=_._init;return p(w,v,x,C(_._payload),S)}if(Yl(_)||Pl(_))return w=w.get(x)||null,f(v,w,_,S,null);nd(v,_)}return null}function y(w,v,x,_){for(var S=null,C=null,k=v,E=v=0,P=null;k!==null&&E<x.length;E++){k.index>E?(P=k,k=null):P=k.sibling;var O=m(w,k,x[E],_);if(O===null){k===null&&(k=P);break}e&&k&&O.alternate===null&&t(w,k),v=o(O,v,E),C===null?S=O:C.sibling=O,C=O,k=P}if(E===x.length)return r(w,k),rt&&Po(w,E),S;if(k===null){for(;E<x.length;E++)k=h(w,x[E],_),k!==null&&(v=o(k,v,E),C===null?S=k:C.sibling=k,C=k);return rt&&Po(w,E),S}for(k=n(w,k);E<x.length;E++)P=p(k,w,E,x[E],_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?E:P.key),v=o(P,v,E),C===null?S=P:C.sibling=P,C=P);return e&&k.forEach(function(M){return t(w,M)}),rt&&Po(w,E),S}function g(w,v,x,_){var S=Pl(x);if(typeof S!="function")throw Error(J(150));if(x=S.call(x),x==null)throw Error(J(151));for(var C=S=null,k=v,E=v=0,P=null,O=x.next();k!==null&&!O.done;E++,O=x.next()){k.index>E?(P=k,k=null):P=k.sibling;var M=m(w,k,O.value,_);if(M===null){k===null&&(k=P);break}e&&k&&M.alternate===null&&t(w,k),v=o(M,v,E),C===null?S=M:C.sibling=M,C=M,k=P}if(O.done)return r(w,k),rt&&Po(w,E),S;if(k===null){for(;!O.done;E++,O=x.next())O=h(w,O.value,_),O!==null&&(v=o(O,v,E),C===null?S=O:C.sibling=O,C=O);return rt&&Po(w,E),S}for(k=n(w,k);!O.done;E++,O=x.next())O=p(k,w,E,O.value,_),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?E:O.key),v=o(O,v,E),C===null?S=O:C.sibling=O,C=O);return e&&k.forEach(function(T){return t(w,T)}),rt&&Po(w,E),S}function b(w,v,x,_){if(typeof x=="object"&&x!==null&&x.type===Qi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ku:e:{for(var S=x.key,C=v;C!==null;){if(C.key===S){if(S=x.type,S===Qi){if(C.tag===7){r(w,C.sibling),v=s(C,x.props.children),v.return=w,w=v;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ks&&Eb(S)===C.type){r(w,C.sibling),v=s(C,x.props),v.ref=Ml(w,C,x),v.return=w,w=v;break e}r(w,C);break}else t(w,C);C=C.sibling}x.type===Qi?(v=ni(x.props.children,w.mode,_,x.key),v.return=w,w=v):(_=Kd(x.type,x.key,x.props,null,w.mode,_),_.ref=Ml(w,v,x),_.return=w,w=_)}return i(w);case Zi:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(w,v.sibling),v=s(v,x.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else t(w,v);v=v.sibling}v=nm(x,w.mode,_),v.return=w,w=v}return i(w);case ks:return C=x._init,b(w,v,C(x._payload),_)}if(Yl(x))return y(w,v,x,_);if(Pl(x))return g(w,v,x,_);nd(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(w,v.sibling),v=s(v,x),v.return=w,w=v):(r(w,v),v=rm(x,w.mode,_),v.return=w,w=v),i(w)):r(w,v)}return b}var Ba=XC(!0),ek=XC(!1),mf=go(null),gf=null,oa=null,Gy=null;function qy(){Gy=oa=gf=null}function Yy(e){var t=mf.current;tt(mf),e._currentValue=t}function zg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ga(e,t){gf=e,Gy=oa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gr=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(Gy!==e)if(e={context:e,memoizedValue:t,next:null},oa===null){if(gf===null)throw Error(J(308));oa=e,gf.dependencies={lanes:0,firstContext:e}}else oa=oa.next=e;return t}var Lo=null;function Zy(e){Lo===null?Lo=[e]:Lo.push(e)}function tk(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Zy(t)):(r.next=s.next,s.next=r),t.interleaved=r,ss(e,n)}function ss(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Es=!1;function Qy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ss(e,r)}return s=n.interleaved,s===null?(t.next=t,Zy(n)):(t.next=s.next,s.next=t),n.interleaved=t,ss(e,r)}function Ud(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,My(e,r)}}function jb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vf(e,t,r,n){var s=e.updateQueue;Es=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,f=u=c=null,a=o;do{var m=a.lane,p=a.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,g=a;switch(m=t,p=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(p,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(p,h,m):y,m==null)break e;h=it({},h,m);break e;case 2:Es=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,c=h):f=f.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);li|=i,e.lanes=i,e.memoizedState=h}}function Nb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(J(191,s));s.call(n)}}}var bu={},Mn=go(bu),Oc=go(bu),Ic=go(bu);function Fo(e){if(e===bu)throw Error(J(174));return e}function Jy(e,t){switch(Ze(Ic,t),Ze(Oc,e),Ze(Mn,bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_g(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_g(t,e)}tt(Mn),Ze(Mn,t)}function za(){tt(Mn),tt(Oc),tt(Ic)}function nk(e){Fo(Ic.current);var t=Fo(Mn.current),r=_g(t,e.type);t!==r&&(Ze(Oc,e),Ze(Mn,r))}function Xy(e){Oc.current===e&&(tt(Mn),tt(Oc))}var nt=go(0);function yf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zp=[];function ew(){for(var e=0;e<Zp.length;e++)Zp[e]._workInProgressVersionPrimary=null;Zp.length=0}var Bd=ds.ReactCurrentDispatcher,Qp=ds.ReactCurrentBatchConfig,ai=0,st=null,jt=null,Mt=null,wf=!1,lc=!1,Dc=0,eD=0;function Kt(){throw Error(J(321))}function tw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xn(e[r],t[r]))return!1;return!0}function rw(e,t,r,n,s,o){if(ai=o,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bd.current=e===null||e.memoizedState===null?sD:oD,e=r(n,s),lc){o=0;do{if(lc=!1,Dc=0,25<=o)throw Error(J(301));o+=1,Mt=jt=null,t.updateQueue=null,Bd.current=iD,e=r(n,s)}while(lc)}if(Bd.current=xf,t=jt!==null&&jt.next!==null,ai=0,Mt=jt=st=null,wf=!1,t)throw Error(J(300));return e}function nw(){var e=Dc!==0;return Dc=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?st.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function en(){if(jt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Mt===null?st.memoizedState:Mt.next;if(t!==null)Mt=t,jt=e;else{if(e===null)throw Error(J(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Mt===null?st.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Mc(e,t){return typeof t=="function"?t(e):t}function Jp(e){var t=en(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=jt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var f=u.lane;if((ai&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,i=n):c=c.next=h,st.lanes|=f,li|=f}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,xn(n,t.memoizedState)||(gr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,st.lanes|=o,li|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xp(e){var t=en(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);xn(o,t.memoizedState)||(gr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function sk(){}function ok(e,t){var r=st,n=en(),s=t(),o=!xn(n.memoizedState,s);if(o&&(n.memoizedState=s,gr=!0),n=n.queue,sw(lk.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Mt!==null&&Mt.memoizedState.tag&1){if(r.flags|=2048,$c(9,ak.bind(null,r,n,s,t),void 0,null),Lt===null)throw Error(J(349));ai&30||ik(r,t,s)}return s}function ik(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ak(e,t,r,n){t.value=r,t.getSnapshot=n,ck(t)&&uk(e)}function lk(e,t,r){return r(function(){ck(t)&&uk(e)})}function ck(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xn(e,r)}catch{return!0}}function uk(e){var t=ss(e,1);t!==null&&wn(t,e,1,-1)}function Rb(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:e},t.queue=e,e=e.dispatch=nD.bind(null,st,e),[t.memoizedState,e]}function $c(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dk(){return en().memoizedState}function zd(e,t,r,n){var s=jn();st.flags|=e,s.memoizedState=$c(1|t,r,void 0,n===void 0?null:n)}function yh(e,t,r,n){var s=en();n=n===void 0?null:n;var o=void 0;if(jt!==null){var i=jt.memoizedState;if(o=i.destroy,n!==null&&tw(n,i.deps)){s.memoizedState=$c(t,r,o,n);return}}st.flags|=e,s.memoizedState=$c(1|t,r,o,n)}function Tb(e,t){return zd(8390656,8,e,t)}function sw(e,t){return yh(2048,8,e,t)}function fk(e,t){return yh(4,2,e,t)}function hk(e,t){return yh(4,4,e,t)}function pk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mk(e,t,r){return r=r!=null?r.concat([e]):null,yh(4,4,pk.bind(null,t,e),r)}function ow(){}function gk(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vk(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yk(e,t,r){return ai&21?(xn(r,t)||(r=SC(),st.lanes|=r,li|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gr=!0),e.memoizedState=r)}function tD(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=Qp.transition;Qp.transition={};try{e(!1),t()}finally{We=r,Qp.transition=n}}function wk(){return en().memoizedState}function rD(e,t,r){var n=Xs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xk(e))bk(t,r);else if(r=tk(e,t,r,n),r!==null){var s=ir();wn(r,e,n,s),_k(r,t,n)}}function nD(e,t,r){var n=Xs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xk(e))bk(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,xn(a,i)){var c=t.interleaved;c===null?(s.next=s,Zy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=tk(e,t,s,n),r!==null&&(s=ir(),wn(r,e,n,s),_k(r,t,n))}}function xk(e){var t=e.alternate;return e===st||t!==null&&t===st}function bk(e,t){lc=wf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _k(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,My(e,r)}}var xf={readContext:Xr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},sD={readContext:Xr,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:Xr,useEffect:Tb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zd(4194308,4,pk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return zd(4,2,e,t)},useMemo:function(e,t){var r=jn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rD.bind(null,st,e),[n.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:Rb,useDebugValue:ow,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=Rb(!1),t=e[0];return e=tD.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=st,s=jn();if(rt){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),Lt===null)throw Error(J(349));ai&30||ik(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Tb(lk.bind(null,n,o,e),[e]),n.flags|=2048,$c(9,ak.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=jn(),t=Lt.identifierPrefix;if(rt){var r=Xn,n=Jn;r=(n&~(1<<32-yn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oD={readContext:Xr,useCallback:gk,useContext:Xr,useEffect:sw,useImperativeHandle:mk,useInsertionEffect:fk,useLayoutEffect:hk,useMemo:vk,useReducer:Jp,useRef:dk,useState:function(){return Jp(Mc)},useDebugValue:ow,useDeferredValue:function(e){var t=en();return yk(t,jt.memoizedState,e)},useTransition:function(){var e=Jp(Mc)[0],t=en().memoizedState;return[e,t]},useMutableSource:sk,useSyncExternalStore:ok,useId:wk,unstable_isNewReconciler:!1},iD={readContext:Xr,useCallback:gk,useContext:Xr,useEffect:sw,useImperativeHandle:mk,useInsertionEffect:fk,useLayoutEffect:hk,useMemo:vk,useReducer:Xp,useRef:dk,useState:function(){return Xp(Mc)},useDebugValue:ow,useDeferredValue:function(e){var t=en();return jt===null?t.memoizedState=e:yk(t,jt.memoizedState,e)},useTransition:function(){var e=Xp(Mc)[0],t=en().memoizedState;return[e,t]},useMutableSource:sk,useSyncExternalStore:ok,useId:wk,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wh={isMounted:function(e){return(e=e._reactInternals)?_i(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ir(),s=Xs(e),o=es(n,s);o.payload=t,r!=null&&(o.callback=r),t=Qs(e,o,s),t!==null&&(wn(t,e,s,n),Ud(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ir(),s=Xs(e),o=es(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Qs(e,o,s),t!==null&&(wn(t,e,s,n),Ud(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ir(),n=Xs(e),s=es(r,n);s.tag=2,t!=null&&(s.callback=t),t=Qs(e,s,n),t!==null&&(wn(t,e,n,r),Ud(t,e,n))}};function Pb(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Rc(r,n)||!Rc(s,o):!0}function Sk(e,t,r){var n=!1,s=ao,o=t.contextType;return typeof o=="object"&&o!==null?o=Xr(o):(s=xr(t)?oi:Zt.current,n=t.contextTypes,o=(n=n!=null)?Fa(e,s):ao),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ab(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wh.enqueueReplaceState(t,t.state,null)}function Wg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Qy(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Xr(o):(o=xr(t)?oi:Zt.current,s.context=Fa(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vg(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wh.enqueueReplaceState(s,s.state,null),vf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Va(e,t){try{var r="",n=t;do r+=IO(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function em(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Hg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aD=typeof WeakMap=="function"?WeakMap:Map;function Ck(e,t,r){r=es(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_f||(_f=!0,tv=n),Hg(e,t)},r}function kk(e,t,r){r=es(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Hg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Hg(e,t),typeof n!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Ob(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aD;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=bD.bind(null,e,t,r),t.then(e,e))}function Ib(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Db(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=es(-1,1),t.tag=2,Qs(r,t,1))),r.lanes|=1),e)}var lD=ds.ReactCurrentOwner,gr=!1;function nr(e,t,r,n){t.child=e===null?ek(t,null,r,n):Ba(t,e.child,r,n)}function Mb(e,t,r,n,s){r=r.render;var o=t.ref;return ga(t,s),n=rw(e,t,r,n,o,s),r=nw(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(rt&&r&&Wy(t),t.flags|=1,nr(e,t,n,s),t.child)}function $b(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!hw(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Ek(e,t,o,n,s)):(e=Kd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Rc,r(i,n)&&e.ref===t.ref)return os(e,t,s)}return t.flags|=1,e=eo(o,n),e.ref=t.ref,e.return=t,t.child=e}function Ek(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Rc(o,n)&&e.ref===t.ref)if(gr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(gr=!0);else return t.lanes=e.lanes,os(e,t,s)}return Kg(e,t,r,n,s)}function jk(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(aa,jr),jr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(aa,jr),jr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ze(aa,jr),jr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ze(aa,jr),jr|=n;return nr(e,t,s,r),t.child}function Nk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Kg(e,t,r,n,s){var o=xr(r)?oi:Zt.current;return o=Fa(t,o),ga(t,s),r=rw(e,t,r,n,o,s),n=nw(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(rt&&n&&Wy(t),t.flags|=1,nr(e,t,r,s),t.child)}function Lb(e,t,r,n,s){if(xr(r)){var o=!0;ff(t)}else o=!1;if(ga(t,s),t.stateNode===null)Vd(e,t),Sk(t,r,n),Wg(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xr(u):(u=xr(r)?oi:Zt.current,u=Fa(t,u));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Ab(t,i,n,u),Es=!1;var m=t.memoizedState;i.state=m,vf(t,n,i,s),c=t.memoizedState,a!==n||m!==c||wr.current||Es?(typeof f=="function"&&(Vg(t,r,f,n),c=t.memoizedState),(a=Es||Pb(t,r,a,n,m,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,rk(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:cn(t.type,a),i.props=u,h=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xr(c):(c=xr(r)?oi:Zt.current,c=Fa(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==c)&&Ab(t,i,n,c),Es=!1,m=t.memoizedState,i.state=m,vf(t,n,i,s);var y=t.memoizedState;a!==h||m!==y||wr.current||Es?(typeof p=="function"&&(Vg(t,r,p,n),y=t.memoizedState),(u=Es||Pb(t,r,u,n,m,y,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Gg(e,t,r,n,o,s)}function Gg(e,t,r,n,s,o){Nk(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Sb(t,r,!1),os(e,t,o);n=t.stateNode,lD.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ba(t,e.child,null,o),t.child=Ba(t,null,a,o)):nr(e,t,a,o),t.memoizedState=n.state,s&&Sb(t,r,!0),t.child}function Rk(e){var t=e.stateNode;t.pendingContext?_b(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_b(e,t.context,!1),Jy(e,t.containerInfo)}function Fb(e,t,r,n,s){return Ua(),Ky(s),t.flags|=256,nr(e,t,r,n),t.child}var qg={dehydrated:null,treeContext:null,retryLane:0};function Yg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tk(e,t,r){var n=t.pendingProps,s=nt.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ze(nt,s&1),e===null)return Bg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=_h(i,n,0,null),e=ni(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Yg(r),t.memoizedState=qg,e):iw(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cD(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=eo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=eo(a,o):(o=ni(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Yg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=qg,n}return o=e.child,e=o.sibling,n=eo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function iw(e,t){return t=_h({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sd(e,t,r,n){return n!==null&&Ky(n),Ba(t,e.child,null,r),e=iw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cD(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=em(Error(J(422))),sd(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=_h({mode:"visible",children:n.children},s,0,null),o=ni(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ba(t,e.child,null,i),t.child.memoizedState=Yg(i),t.memoizedState=qg,o);if(!(t.mode&1))return sd(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(J(419)),n=em(o,n,void 0),sd(e,t,i,n)}if(a=(i&e.childLanes)!==0,gr||a){if(n=Lt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ss(e,s),wn(n,e,s,-1))}return fw(),n=em(Error(J(421))),sd(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_D.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Pr=Zs(s.nextSibling),Dr=t,rt=!0,mn=null,e!==null&&(qr[Yr++]=Jn,qr[Yr++]=Xn,qr[Yr++]=ii,Jn=e.id,Xn=e.overflow,ii=t),t=iw(t,n.children),t.flags|=4096,t)}function Ub(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zg(e.return,t,r)}function tm(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Pk(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(nr(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ub(e,r,t);else if(e.tag===19)Ub(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ze(nt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&yf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),tm(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}tm(t,!0,r,null,o);break;case"together":tm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function os(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=eo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=eo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uD(e,t,r){switch(t.tag){case 3:Rk(t),Ua();break;case 5:nk(t);break;case 1:xr(t.type)&&ff(t);break;case 4:Jy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ze(mf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ze(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?Tk(e,t,r):(Ze(nt,nt.current&1),e=os(e,t,r),e!==null?e.sibling:null);Ze(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Pk(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,jk(e,t,r)}return os(e,t,r)}var Ak,Zg,Ok,Ik;Ak=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zg=function(){};Ok=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Fo(Mn.current);var o=null;switch(r){case"input":s=yg(e,s),n=yg(e,n),o=[];break;case"select":s=it({},s,{value:void 0}),n=it({},n,{value:void 0}),o=[];break;case"textarea":s=bg(e,s),n=bg(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uf)}Sg(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_c.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_c.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&et("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ik=function(e,t,r,n){r!==n&&(t.flags|=4)};function $l(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dD(e,t,r){var n=t.pendingProps;switch(Hy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return xr(t.type)&&df(),Gt(t),null;case 3:return n=t.stateNode,za(),tt(wr),tt(Zt),ew(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(sv(mn),mn=null))),Zg(e,t),Gt(t),null;case 5:Xy(t);var s=Fo(Ic.current);if(r=t.type,e!==null&&t.stateNode!=null)Ok(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return Gt(t),null}if(e=Fo(Mn.current),rd(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Pn]=t,n[Ac]=o,e=(t.mode&1)!==0,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(s=0;s<Ql.length;s++)et(Ql[s],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":Yx(n,o),et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},et("invalid",n);break;case"textarea":Qx(n,o),et("invalid",n)}Sg(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&td(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&td(n.textContent,a,e),s=["children",""+a]):_c.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&et("scroll",n)}switch(r){case"input":Gu(n),Zx(n,o,!0);break;case"textarea":Gu(n),Jx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=uf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Pn]=t,e[Ac]=n,Ak(e,t,!1,!1),t.stateNode=e;e:{switch(i=Cg(r,n),r){case"dialog":et("cancel",e),et("close",e),s=n;break;case"iframe":case"object":case"embed":et("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ql.length;s++)et(Ql[s],e);s=n;break;case"source":et("error",e),s=n;break;case"img":case"image":case"link":et("error",e),et("load",e),s=n;break;case"details":et("toggle",e),s=n;break;case"input":Yx(e,n),s=yg(e,n),et("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=it({},n,{value:void 0}),et("invalid",e);break;case"textarea":Qx(e,n),s=bg(e,n),et("invalid",e);break;default:s=n}Sg(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?dC(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cC(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sc(e,c):typeof c=="number"&&Sc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_c.hasOwnProperty(o)?c!=null&&o==="onScroll"&&et("scroll",e):c!=null&&Ty(e,o,c,i))}switch(r){case"input":Gu(e),Zx(e,n,!1);break;case"textarea":Gu(e),Jx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+io(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?fa(e,!!n.multiple,o,!1):n.defaultValue!=null&&fa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=uf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)Ik(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=Fo(Ic.current),Fo(Mn.current),rd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pn]=t,(o=n.nodeValue!==r)&&(e=Dr,e!==null))switch(e.tag){case 3:td(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&td(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pn]=t,t.stateNode=n}return Gt(t),null;case 13:if(tt(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&Pr!==null&&t.mode&1&&!(t.flags&128))JC(),Ua(),t.flags|=98560,o=!1;else if(o=rd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(J(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Pn]=t}else Ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),o=!1}else mn!==null&&(sv(mn),mn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?Tt===0&&(Tt=3):fw())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return za(),Zg(e,t),e===null&&Tc(t.stateNode.containerInfo),Gt(t),null;case 10:return Yy(t.type._context),Gt(t),null;case 17:return xr(t.type)&&df(),Gt(t),null;case 19:if(tt(nt),o=t.memoizedState,o===null)return Gt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)$l(o,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yf(e),i!==null){for(t.flags|=128,$l(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ze(nt,nt.current&1|2),t.child}e=e.sibling}o.tail!==null&&mt()>Wa&&(t.flags|=128,n=!0,$l(o,!1),t.lanes=4194304)}else{if(!n)if(e=yf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$l(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!rt)return Gt(t),null}else 2*mt()-o.renderingStartTime>Wa&&r!==1073741824&&(t.flags|=128,n=!0,$l(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=mt(),t.sibling=null,r=nt.current,Ze(nt,n?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return dw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jr&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function fD(e,t){switch(Hy(t),t.tag){case 1:return xr(t.type)&&df(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return za(),tt(wr),tt(Zt),ew(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xy(t),null;case 13:if(tt(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(nt),null;case 4:return za(),null;case 10:return Yy(t.type._context),null;case 22:case 23:return dw(),null;case 24:return null;default:return null}}var od=!1,Yt=!1,hD=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ia(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ht(e,t,n)}else r.current=null}function Qg(e,t,r){try{r()}catch(n){ht(e,t,n)}}var Bb=!1;function pD(e,t){if(Ig=af,e=FC(),Vy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=i+s),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++u===s&&(a=i),m===o&&++f===n&&(c=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dg={focusedElem:e,selectionRange:r},af=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:cn(t.type,g),b);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(_){ht(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return y=Bb,Bb=!1,y}function cc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Qg(t,r,o)}s=s.next}while(s!==n)}}function xh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Dk(e){var t=e.alternate;t!==null&&(e.alternate=null,Dk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[Ac],delete t[Lg],delete t[ZI],delete t[QI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mk(e){return e.tag===5||e.tag===3||e.tag===4}function zb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uf));else if(n!==4&&(e=e.child,e!==null))for(Xg(e,t,r),e=e.sibling;e!==null;)Xg(e,t,r),e=e.sibling}function ev(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ev(e,t,r),e=e.sibling;e!==null;)ev(e,t,r),e=e.sibling}var zt=null,hn=!1;function ws(e,t,r){for(r=r.child;r!==null;)$k(e,t,r),r=r.sibling}function $k(e,t,r){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(fh,r)}catch{}switch(r.tag){case 5:Yt||ia(r,t);case 6:var n=zt,s=hn;zt=null,ws(e,t,r),zt=n,hn=s,zt!==null&&(hn?(e=zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(hn?(e=zt,r=r.stateNode,e.nodeType===8?qp(e.parentNode,r):e.nodeType===1&&qp(e,r),jc(e)):qp(zt,r.stateNode));break;case 4:n=zt,s=hn,zt=r.stateNode.containerInfo,hn=!0,ws(e,t,r),zt=n,hn=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Qg(r,t,i),s=s.next}while(s!==n)}ws(e,t,r);break;case 1:if(!Yt&&(ia(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ht(r,t,a)}ws(e,t,r);break;case 21:ws(e,t,r);break;case 22:r.mode&1?(Yt=(n=Yt)||r.memoizedState!==null,ws(e,t,r),Yt=n):ws(e,t,r);break;default:ws(e,t,r)}}function Vb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hD),t.forEach(function(n){var s=SD.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,hn=!1;break e;case 3:zt=a.stateNode.containerInfo,hn=!0;break e;case 4:zt=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(zt===null)throw Error(J(160));$k(o,i,s),zt=null,hn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ht(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lk(t,e),t=t.sibling}function Lk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),En(e),n&4){try{cc(3,e,e.return),xh(3,e)}catch(g){ht(e,e.return,g)}try{cc(5,e,e.return)}catch(g){ht(e,e.return,g)}}break;case 1:nn(t,e),En(e),n&512&&r!==null&&ia(r,r.return);break;case 5:if(nn(t,e),En(e),n&512&&r!==null&&ia(r,r.return),e.flags&32){var s=e.stateNode;try{Sc(s,"")}catch(g){ht(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&iC(s,o),Cg(a,i);var u=Cg(a,o);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?dC(s,h):f==="dangerouslySetInnerHTML"?cC(s,h):f==="children"?Sc(s,h):Ty(s,f,h,u)}switch(a){case"input":wg(s,o);break;case"textarea":aC(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?fa(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?fa(s,!!o.multiple,o.defaultValue,!0):fa(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ac]=o}catch(g){ht(e,e.return,g)}}break;case 6:if(nn(t,e),En(e),n&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){ht(e,e.return,g)}}break;case 3:if(nn(t,e),En(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jc(t.containerInfo)}catch(g){ht(e,e.return,g)}break;case 4:nn(t,e),En(e);break;case 13:nn(t,e),En(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(cw=mt())),n&4&&Vb(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||f,nn(t,e),Yt=u):nn(t,e),En(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ue=e,f=e.child;f!==null;){for(h=ue=f;ue!==null;){switch(m=ue,p=m.child,m.tag){case 0:case 11:case 14:case 15:cc(4,m,m.return);break;case 1:ia(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){ht(n,r,g)}}break;case 5:ia(m,m.return);break;case 22:if(m.memoizedState!==null){Hb(h);continue}}p!==null?(p.return=m,ue=p):Hb(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=uC("display",i))}catch(g){ht(e,e.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){ht(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nn(t,e),En(e),n&4&&Vb(e);break;case 21:break;default:nn(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mk(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Sc(s,""),n.flags&=-33);var o=zb(e);ev(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=zb(e);Xg(e,a,i);break;default:throw Error(J(161))}}catch(c){ht(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mD(e,t,r){ue=e,Fk(e)}function Fk(e,t,r){for(var n=(e.mode&1)!==0;ue!==null;){var s=ue,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||od;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Yt;a=od;var u=Yt;if(od=i,(Yt=c)&&!u)for(ue=s;ue!==null;)i=ue,c=i.child,i.tag===22&&i.memoizedState!==null?Kb(s):c!==null?(c.return=i,ue=c):Kb(s);for(;o!==null;)ue=o,Fk(o),o=o.sibling;ue=s,od=a,Yt=u}Wb(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ue=o):Wb(e)}}function Wb(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||xh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:cn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Nb(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Nb(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&jc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Yt||t.flags&512&&Jg(t)}catch(m){ht(t,t.return,m)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Hb(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Kb(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xh(4,t)}catch(c){ht(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ht(t,s,c)}}var o=t.return;try{Jg(t)}catch(c){ht(t,o,c)}break;case 5:var i=t.return;try{Jg(t)}catch(c){ht(t,i,c)}}}catch(c){ht(t,t.return,c)}if(t===e){ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ue=a;break}ue=t.return}}var gD=Math.ceil,bf=ds.ReactCurrentDispatcher,aw=ds.ReactCurrentOwner,Qr=ds.ReactCurrentBatchConfig,Le=0,Lt=null,bt=null,Vt=0,jr=0,aa=go(0),Tt=0,Lc=null,li=0,bh=0,lw=0,uc=null,mr=null,cw=0,Wa=1/0,Kn=null,_f=!1,tv=null,Js=null,id=!1,Ws=null,Sf=0,dc=0,rv=null,Wd=-1,Hd=0;function ir(){return Le&6?mt():Wd!==-1?Wd:Wd=mt()}function Xs(e){return e.mode&1?Le&2&&Vt!==0?Vt&-Vt:XI.transition!==null?(Hd===0&&(Hd=SC()),Hd):(e=We,e!==0||(e=window.event,e=e===void 0?16:TC(e.type)),e):1}function wn(e,t,r,n){if(50<dc)throw dc=0,rv=null,Error(J(185));yu(e,r,n),(!(Le&2)||e!==Lt)&&(e===Lt&&(!(Le&2)&&(bh|=r),Tt===4&&Ps(e,Vt)),br(e,n),r===1&&Le===0&&!(t.mode&1)&&(Wa=mt()+500,vh&&vo()))}function br(e,t){var r=e.callbackNode;XO(e,t);var n=of(e,e===Lt?Vt:0);if(n===0)r!==null&&tb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tb(r),t===1)e.tag===0?JI(Gb.bind(null,e)):YC(Gb.bind(null,e)),qI(function(){!(Le&6)&&vo()}),r=null;else{switch(CC(n)){case 1:r=Dy;break;case 4:r=bC;break;case 16:r=sf;break;case 536870912:r=_C;break;default:r=sf}r=Gk(r,Uk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uk(e,t){if(Wd=-1,Hd=0,Le&6)throw Error(J(327));var r=e.callbackNode;if(va()&&e.callbackNode!==r)return null;var n=of(e,e===Lt?Vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Cf(e,n);else{t=n;var s=Le;Le|=2;var o=zk();(Lt!==e||Vt!==t)&&(Kn=null,Wa=mt()+500,ri(e,t));do try{wD();break}catch(a){Bk(e,a)}while(!0);qy(),bf.current=o,Le=s,bt!==null?t=0:(Lt=null,Vt=0,t=Tt)}if(t!==0){if(t===2&&(s=Rg(e),s!==0&&(n=s,t=nv(e,s))),t===1)throw r=Lc,ri(e,0),Ps(e,n),br(e,mt()),r;if(t===6)Ps(e,n);else{if(s=e.current.alternate,!(n&30)&&!vD(s)&&(t=Cf(e,n),t===2&&(o=Rg(e),o!==0&&(n=o,t=nv(e,o))),t===1))throw r=Lc,ri(e,0),Ps(e,n),br(e,mt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:Ao(e,mr,Kn);break;case 3:if(Ps(e,n),(n&130023424)===n&&(t=cw+500-mt(),10<t)){if(of(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ir(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$g(Ao.bind(null,e,mr,Kn),t);break}Ao(e,mr,Kn);break;case 4:if(Ps(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-yn(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gD(n/1960))-n,10<n){e.timeoutHandle=$g(Ao.bind(null,e,mr,Kn),n);break}Ao(e,mr,Kn);break;case 5:Ao(e,mr,Kn);break;default:throw Error(J(329))}}}return br(e,mt()),e.callbackNode===r?Uk.bind(null,e):null}function nv(e,t){var r=uc;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=Cf(e,t),e!==2&&(t=mr,mr=r,t!==null&&sv(t)),e}function sv(e){mr===null?mr=e:mr.push.apply(mr,e)}function vD(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!xn(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t){for(t&=~lw,t&=~bh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yn(t),n=1<<r;e[r]=-1,t&=~n}}function Gb(e){if(Le&6)throw Error(J(327));va();var t=of(e,0);if(!(t&1))return br(e,mt()),null;var r=Cf(e,t);if(e.tag!==0&&r===2){var n=Rg(e);n!==0&&(t=n,r=nv(e,n))}if(r===1)throw r=Lc,ri(e,0),Ps(e,t),br(e,mt()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ao(e,mr,Kn),br(e,mt()),null}function uw(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Wa=mt()+500,vh&&vo())}}function ci(e){Ws!==null&&Ws.tag===0&&!(Le&6)&&va();var t=Le;Le|=1;var r=Qr.transition,n=We;try{if(Qr.transition=null,We=1,e)return e()}finally{We=n,Qr.transition=r,Le=t,!(Le&6)&&vo()}}function dw(){jr=aa.current,tt(aa)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,GI(r)),bt!==null)for(r=bt.return;r!==null;){var n=r;switch(Hy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&df();break;case 3:za(),tt(wr),tt(Zt),ew();break;case 5:Xy(n);break;case 4:za();break;case 13:tt(nt);break;case 19:tt(nt);break;case 10:Yy(n.type._context);break;case 22:case 23:dw()}r=r.return}if(Lt=e,bt=e=eo(e.current,null),Vt=jr=t,Tt=0,Lc=null,lw=bh=li=0,mr=uc=null,Lo!==null){for(t=0;t<Lo.length;t++)if(r=Lo[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Lo=null}return e}function Bk(e,t){do{var r=bt;try{if(qy(),Bd.current=xf,wf){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}wf=!1}if(ai=0,Mt=jt=st=null,lc=!1,Dc=0,aw.current=null,r===null||r.return===null){Tt=1,Lc=t,bt=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=Vt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ib(i);if(p!==null){p.flags&=-257,Db(p,i,a,o,t),p.mode&1&&Ob(o,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){Ob(o,u,t),fw();break e}c=Error(J(426))}}else if(rt&&a.mode&1){var b=Ib(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Db(b,i,a,o,t),Ky(Va(c,a));break e}}o=c=Va(c,a),Tt!==4&&(Tt=2),uc===null?uc=[o]:uc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Ck(o,c,t);jb(o,w);break e;case 1:a=c;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Js===null||!Js.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=kk(o,a,t);jb(o,_);break e}}o=o.return}while(o!==null)}Wk(r)}catch(S){t=S,bt===r&&r!==null&&(bt=r=r.return);continue}break}while(!0)}function zk(){var e=bf.current;return bf.current=xf,e===null?xf:e}function fw(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Lt===null||!(li&268435455)&&!(bh&268435455)||Ps(Lt,Vt)}function Cf(e,t){var r=Le;Le|=2;var n=zk();(Lt!==e||Vt!==t)&&(Kn=null,ri(e,t));do try{yD();break}catch(s){Bk(e,s)}while(!0);if(qy(),Le=r,bf.current=n,bt!==null)throw Error(J(261));return Lt=null,Vt=0,Tt}function yD(){for(;bt!==null;)Vk(bt)}function wD(){for(;bt!==null&&!WO();)Vk(bt)}function Vk(e){var t=Kk(e.alternate,e,jr);e.memoizedProps=e.pendingProps,t===null?Wk(e):bt=t,aw.current=null}function Wk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fD(r,t),r!==null){r.flags&=32767,bt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,bt=null;return}}else if(r=dD(r,t,jr),r!==null){bt=r;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Ao(e,t,r){var n=We,s=Qr.transition;try{Qr.transition=null,We=1,xD(e,t,r,n)}finally{Qr.transition=s,We=n}return null}function xD(e,t,r,n){do va();while(Ws!==null);if(Le&6)throw Error(J(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(eI(e,o),e===Lt&&(bt=Lt=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||id||(id=!0,Gk(sf,function(){return va(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Qr.transition,Qr.transition=null;var i=We;We=1;var a=Le;Le|=4,aw.current=null,pD(e,r),Lk(r,e),UI(Dg),af=!!Ig,Dg=Ig=null,e.current=r,mD(r),HO(),Le=a,We=i,Qr.transition=o}else e.current=r;if(id&&(id=!1,Ws=e,Sf=s),o=e.pendingLanes,o===0&&(Js=null),qO(r.stateNode),br(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(_f)throw _f=!1,e=tv,tv=null,e;return Sf&1&&e.tag!==0&&va(),o=e.pendingLanes,o&1?e===rv?dc++:(dc=0,rv=e):dc=0,vo(),null}function va(){if(Ws!==null){var e=CC(Sf),t=Qr.transition,r=We;try{if(Qr.transition=null,We=16>e?16:e,Ws===null)var n=!1;else{if(e=Ws,Ws=null,Sf=0,Le&6)throw Error(J(331));var s=Le;for(Le|=4,ue=e.current;ue!==null;){var o=ue,i=o.child;if(ue.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ue=u;ue!==null;){var f=ue;switch(f.tag){case 0:case 11:case 15:cc(8,f,o)}var h=f.child;if(h!==null)h.return=f,ue=h;else for(;ue!==null;){f=ue;var m=f.sibling,p=f.return;if(Dk(f),f===u){ue=null;break}if(m!==null){m.return=p,ue=m;break}ue=p}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ue=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ue=i;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ue=w;break e}ue=o.return}}var v=e.current;for(ue=v;ue!==null;){i=ue;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ue=x;else e:for(i=v;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xh(9,a)}}catch(S){ht(a,a.return,S)}if(a===i){ue=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ue=_;break e}ue=a.return}}if(Le=s,vo(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(fh,e)}catch{}n=!0}return n}finally{We=r,Qr.transition=t}}return!1}function qb(e,t,r){t=Va(r,t),t=Ck(e,t,1),e=Qs(e,t,1),t=ir(),e!==null&&(yu(e,1,t),br(e,t))}function ht(e,t,r){if(e.tag===3)qb(e,e,r);else for(;t!==null;){if(t.tag===3){qb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Js===null||!Js.has(n))){e=Va(r,e),e=kk(t,e,1),t=Qs(t,e,1),e=ir(),t!==null&&(yu(t,1,e),br(t,e));break}}t=t.return}}function bD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ir(),e.pingedLanes|=e.suspendedLanes&r,Lt===e&&(Vt&r)===r&&(Tt===4||Tt===3&&(Vt&130023424)===Vt&&500>mt()-cw?ri(e,0):lw|=r),br(e,t)}function Hk(e,t){t===0&&(e.mode&1?(t=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):t=1);var r=ir();e=ss(e,t),e!==null&&(yu(e,t,r),br(e,r))}function _D(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Hk(e,r)}function SD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),Hk(e,r)}var Kk;Kk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gr=!1,uD(e,t,r);gr=!!(e.flags&131072)}else gr=!1,rt&&t.flags&1048576&&ZC(t,pf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vd(e,t),e=t.pendingProps;var s=Fa(t,Zt.current);ga(t,r),s=rw(null,t,n,e,s,r);var o=nw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(n)?(o=!0,ff(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qy(t),s.updater=wh,t.stateNode=s,s._reactInternals=t,Wg(t,n,e,r),t=Gg(null,t,n,!0,o,r)):(t.tag=0,rt&&o&&Wy(t),nr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=kD(n),e=cn(n,e),s){case 0:t=Kg(null,t,n,e,r);break e;case 1:t=Lb(null,t,n,e,r);break e;case 11:t=Mb(null,t,n,e,r);break e;case 14:t=$b(null,t,n,cn(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),Kg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),Lb(e,t,n,s,r);case 3:e:{if(Rk(t),e===null)throw Error(J(387));n=t.pendingProps,o=t.memoizedState,s=o.element,rk(e,t),vf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Va(Error(J(423)),t),t=Fb(e,t,n,r,s);break e}else if(n!==s){s=Va(Error(J(424)),t),t=Fb(e,t,n,r,s);break e}else for(Pr=Zs(t.stateNode.containerInfo.firstChild),Dr=t,rt=!0,mn=null,r=ek(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ua(),n===s){t=os(e,t,r);break e}nr(e,t,n,r)}t=t.child}return t;case 5:return nk(t),e===null&&Bg(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Mg(n,s)?i=null:o!==null&&Mg(n,o)&&(t.flags|=32),Nk(e,t),nr(e,t,i,r),t.child;case 6:return e===null&&Bg(t),null;case 13:return Tk(e,t,r);case 4:return Jy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ba(t,null,n,r):nr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),Mb(e,t,n,s,r);case 7:return nr(e,t,t.pendingProps,r),t.child;case 8:return nr(e,t,t.pendingProps.children,r),t.child;case 12:return nr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ze(mf,n._currentValue),n._currentValue=i,o!==null)if(xn(o.value,i)){if(o.children===s.children&&!wr.current){t=os(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=es(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),zg(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(J(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),zg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}nr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ga(t,r),s=Xr(s),n=n(s),t.flags|=1,nr(e,t,n,r),t.child;case 14:return n=t.type,s=cn(n,t.pendingProps),s=cn(n.type,s),$b(e,t,n,s,r);case 15:return Ek(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),Vd(e,t),t.tag=1,xr(n)?(e=!0,ff(t)):e=!1,ga(t,r),Sk(t,n,s),Wg(t,n,s,r),Gg(null,t,n,!0,e,r);case 19:return Pk(e,t,r);case 22:return jk(e,t,r)}throw Error(J(156,t.tag))};function Gk(e,t){return xC(e,t)}function CD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,r,n){return new CD(e,t,r,n)}function hw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kD(e){if(typeof e=="function")return hw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ay)return 11;if(e===Oy)return 14}return 2}function eo(e,t){var r=e.alternate;return r===null?(r=Zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kd(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")hw(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Qi:return ni(r.children,s,o,t);case Py:i=8,s|=8;break;case pg:return e=Zr(12,r,t,s|2),e.elementType=pg,e.lanes=o,e;case mg:return e=Zr(13,r,t,s),e.elementType=mg,e.lanes=o,e;case gg:return e=Zr(19,r,t,s),e.elementType=gg,e.lanes=o,e;case nC:return _h(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tC:i=10;break e;case rC:i=9;break e;case Ay:i=11;break e;case Oy:i=14;break e;case ks:i=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Zr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function ni(e,t,r,n){return e=Zr(7,e,n,t),e.lanes=r,e}function _h(e,t,r,n){return e=Zr(22,e,n,t),e.elementType=nC,e.lanes=r,e.stateNode={isHidden:!1},e}function rm(e,t,r){return e=Zr(6,e,null,t),e.lanes=r,e}function nm(e,t,r){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ED(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$p(0),this.expirationTimes=$p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pw(e,t,r,n,s,o,i,a,c){return e=new ED(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Zr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qy(o),e}function jD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qk(e){if(!e)return ao;e=e._reactInternals;e:{if(_i(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(xr(r))return qC(e,r,t)}return t}function Yk(e,t,r,n,s,o,i,a,c){return e=pw(r,n,!0,e,s,o,i,a,c),e.context=qk(null),r=e.current,n=ir(),s=Xs(r),o=es(n,s),o.callback=t??null,Qs(r,o,s),e.current.lanes=s,yu(e,s,n),br(e,n),e}function Sh(e,t,r,n){var s=t.current,o=ir(),i=Xs(s);return r=qk(r),t.context===null?t.context=r:t.pendingContext=r,t=es(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qs(s,t,i),e!==null&&(wn(e,s,i,o),Ud(e,s,i)),i}function kf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mw(e,t){Yb(e,t),(e=e.alternate)&&Yb(e,t)}function ND(){return null}var Zk=typeof reportError=="function"?reportError:function(e){console.error(e)};function gw(e){this._internalRoot=e}Ch.prototype.render=gw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Sh(e,t,null,null)};Ch.prototype.unmount=gw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ci(function(){Sh(null,e,null,null)}),t[ns]=null}};function Ch(e){this._internalRoot=e}Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=jC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ts.length&&t!==0&&t<Ts[r].priority;r++);Ts.splice(r,0,e),r===0&&RC(e)}};function vw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zb(){}function RD(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=kf(i);o.call(u)}}var i=Yk(t,n,e,0,null,!1,!1,"",Zb);return e._reactRootContainer=i,e[ns]=i.current,Tc(e.nodeType===8?e.parentNode:e),ci(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=kf(c);a.call(u)}}var c=pw(e,0,!1,null,null,!1,!1,"",Zb);return e._reactRootContainer=c,e[ns]=c.current,Tc(e.nodeType===8?e.parentNode:e),ci(function(){Sh(t,c,r,n)}),c}function Eh(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=kf(i);a.call(c)}}Sh(t,i,e,s)}else i=RD(r,t,e,s,n);return kf(i)}kC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zl(t.pendingLanes);r!==0&&(My(t,r|1),br(t,mt()),!(Le&6)&&(Wa=mt()+500,vo()))}break;case 13:ci(function(){var n=ss(e,1);if(n!==null){var s=ir();wn(n,e,1,s)}}),mw(e,1)}};$y=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var r=ir();wn(t,e,134217728,r)}mw(e,134217728)}};EC=function(e){if(e.tag===13){var t=Xs(e),r=ss(e,t);if(r!==null){var n=ir();wn(r,e,t,n)}mw(e,t)}};jC=function(){return We};NC=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};Eg=function(e,t,r){switch(t){case"input":if(wg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=gh(n);if(!s)throw Error(J(90));oC(n),wg(n,s)}}}break;case"textarea":aC(e,r);break;case"select":t=r.value,t!=null&&fa(e,!!r.multiple,t,!1)}};pC=uw;mC=ci;var TD={usingClientEntryPoint:!1,Events:[xu,ta,gh,fC,hC,uw]},Ll={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PD={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yC(e),e===null?null:e.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||ND,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{fh=ad.inject(PD),Dn=ad}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TD;Fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vw(t))throw Error(J(200));return jD(e,t,null,r)};Fr.createRoot=function(e,t){if(!vw(e))throw Error(J(299));var r=!1,n="",s=Zk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pw(e,1,!1,null,null,r,!1,n,s),e[ns]=t.current,Tc(e.nodeType===8?e.parentNode:e),new gw(t)};Fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=yC(t),e=e===null?null:e.stateNode,e};Fr.flushSync=function(e){return ci(e)};Fr.hydrate=function(e,t,r){if(!kh(t))throw Error(J(200));return Eh(null,e,t,!0,r)};Fr.hydrateRoot=function(e,t,r){if(!vw(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Zk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Yk(t,null,e,1,r??null,s,!1,o,i),e[ns]=t.current,Tc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ch(t)};Fr.render=function(e,t,r){if(!kh(t))throw Error(J(200));return Eh(null,e,t,!1,r)};Fr.unmountComponentAtNode=function(e){if(!kh(e))throw Error(J(40));return e._reactRootContainer?(ci(function(){Eh(null,null,e,!1,function(){e._reactRootContainer=null,e[ns]=null})}),!0):!1};Fr.unstable_batchedUpdates=uw;Fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kh(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Eh(e,t,r,!1,n)};Fr.version="18.3.1-next-f1338f8080-20240426";function Qk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qk)}catch(e){console.error(e)}}Qk(),QS.exports=Fr;var Ar=QS.exports;const Jk=FS(Ar);var Xk,Qb=Ar;Xk=Qb.createRoot,Qb.hydrateRoot;const AD=1,OD=1e6;let sm=0;function ID(){return sm=(sm+1)%Number.MAX_SAFE_INTEGER,sm.toString()}const om=new Map,Jb=e=>{if(om.has(e))return;const t=setTimeout(()=>{om.delete(e),fc({type:"REMOVE_TOAST",toastId:e})},OD);om.set(e,t)},DD=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Jb(r):e.toasts.forEach(n=>{Jb(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Gd=[];let qd={toasts:[]};function fc(e){qd=DD(qd,e),Gd.forEach(t=>{t(qd)})}function Ef({...e}){const t=ID(),r=s=>fc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>fc({type:"DISMISS_TOAST",toastId:t});return fc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function fs(){const[e,t]=d.useState(qd);return d.useEffect(()=>(Gd.push(t),()=>{const r=Gd.indexOf(t);r>-1&&Gd.splice(r,1)}),[e]),{...e,toast:Ef,dismiss:r=>fc({type:"DISMISS_TOAST",toastId:r})}}function ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Xb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function is(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Xb(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Xb(e[s],null)}}}}function Ne(...e){return d.useCallback(is(...e),e)}function MD(e,t){const r=d.createContext(t),n=o=>{const{children:i,...a}=o,c=d.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=d.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function At(e,t=[]){let r=[];function n(o,i){const a=d.createContext(i),c=r.length;r=[...r,i];const u=h=>{var w;const{scope:m,children:p,...y}=h,g=((w=m==null?void 0:m[e])==null?void 0:w[c])||a,b=d.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:b,children:p})};u.displayName=o+"Provider";function f(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||a,y=d.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(i=>d.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,$D(s,...t)]}function $D(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function lo(e){const t=LD(e),r=d.forwardRef((n,s)=>{const{children:o,...i}=n,a=d.Children.toArray(o),c=a.find(FD);if(c){const u=c.props.children,f=a.map(h=>h===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,f):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var Si=lo("Slot");function LD(e){const t=d.forwardRef((r,n)=>{const{children:s,...o}=r;if(d.isValidElement(s)){const i=BD(s),a=UD(o,s.props);return s.type!==d.Fragment&&(a.ref=n?is(n,i):i),d.cloneElement(s,a)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eE=Symbol("radix.slottable");function tE(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=eE,t}function FD(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eE}function UD(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function BD(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jh(e){const t=e+"CollectionProvider",[r,n]=At(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:w}=g,v=L.useRef(null),x=L.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:x,collectionRef:v,children:w})};i.displayName=t;const a=e+"CollectionSlot",c=lo(a),u=L.forwardRef((g,b)=>{const{scope:w,children:v}=g,x=o(a,w),_=Ne(b,x.collectionRef);return l.jsx(c,{ref:_,children:v})});u.displayName=a;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=lo(f),p=L.forwardRef((g,b)=>{const{scope:w,children:v,...x}=g,_=L.useRef(null),S=Ne(b,_),C=o(f,w);return L.useEffect(()=>(C.itemMap.set(_,{ref:_,...x}),()=>void C.itemMap.delete(_))),l.jsx(m,{[h]:"",ref:S,children:v})});p.displayName=f;function y(g){const b=o(e+"CollectionConsumer",g);return L.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((C,k)=>x.indexOf(C.ref.current)-x.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},y,n]}var zD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=zD.reduce((e,t)=>{const r=lo(`Primitive.${t}`),n=d.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yw(e,t){e&&Ar.flushSync(()=>e.dispatchEvent(t))}function _r(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function VD(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var WD="DismissableLayer",ov="dismissableLayer.update",HD="dismissableLayer.pointerDownOutside",KD="dismissableLayer.focusOutside",e0,rE=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ci=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=d.useContext(rE),[f,h]=d.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),y=Ne(t,k=>h(k)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),v=f?g.indexOf(f):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=w,S=qD(k=>{const E=k.target,P=[...u.branches].some(O=>O.contains(E));!_||P||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},m),C=YD(k=>{const E=k.target;[...u.branches].some(O=>O.contains(E))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},m);return VD(k=>{v===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},m),d.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(e0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),t0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=e0)}},[f,m,r,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),t0())},[f,u]),d.useEffect(()=>{const k=()=>p({});return document.addEventListener(ov,k),()=>document.removeEventListener(ov,k)},[]),l.jsx(ie.div,{...c,ref:y,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,S.onPointerDownCapture)})});Ci.displayName=WD;var GD="DismissableLayerBranch",nE=d.forwardRef((e,t)=>{const r=d.useContext(rE),n=d.useRef(null),s=Ne(t,n);return d.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(ie.div,{...e,ref:s})});nE.displayName=GD;function qD(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){sE(HD,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function YD(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),n=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!n.current&&sE(KD,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function t0(){const e=new CustomEvent(ov);document.dispatchEvent(e)}function sE(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yw(s,o):s.dispatchEvent(o)}var ZD=Ci,QD=nE,Ft=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},JD="Portal",rl=d.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=d.useState(!1);Ft(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Jk.createPortal(l.jsx(ie.div,{...n,ref:t}),i):null});rl.displayName=JD;function XD(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var Jt=e=>{const{present:t,children:r}=e,n=eM(t),s=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),o=Ne(n.ref,tM(s));return typeof r=="function"||n.isPresent?d.cloneElement(s,{ref:o}):null};Jt.displayName="Presence";function eM(e){const[t,r]=d.useState(),n=d.useRef(null),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[a,c]=XD(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=ld(n.current);o.current=a==="mounted"?u:"none"},[a]),Ft(()=>{const u=n.current,f=s.current;if(f!==e){const m=o.current,p=ld(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ft(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=p=>{const g=ld(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=ld(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ld(e){return(e==null?void 0:e.animationName)||"none"}function tM(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rM=jy[" useInsertionEffect ".trim().toString()]||Ft;function Qt({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=nM({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const f=d.useRef(e!==void 0);d.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=d.useCallback(f=>{var h;if(a){const m=sM(f)?f(e):f;m!==e&&((h=i.current)==null||h.call(i,m))}else o(f)},[a,e,o,i]);return[c,u]}function nM({defaultProp:e,onChange:t}){const[r,n]=d.useState(e),s=d.useRef(r),o=d.useRef(t);return rM(()=>{o.current=t},[t]),d.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function sM(e){return typeof e=="function"}var oE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oM="VisuallyHidden",Nh=d.forwardRef((e,t)=>l.jsx(ie.span,{...e,ref:t,style:{...oE,...e.style}}));Nh.displayName=oM;var iM=Nh,ww="ToastProvider",[xw,aM,lM]=jh("Toast"),[iE,mZ]=At("Toast",[lM]),[cM,Rh]=iE(ww),aE=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=d.useState(null),[u,f]=d.useState(0),h=d.useRef(!1),m=d.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ww}\`. Expected non-empty \`string\`.`),l.jsx(xw.Provider,{scope:t,children:l.jsx(cM,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:d.useCallback(()=>f(p=>p+1),[]),onToastRemove:d.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};aE.displayName=ww;var lE="ToastViewport",uM=["F8"],iv="toast.viewportPause",av="toast.viewportResume",cE=d.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=uM,label:s="Notifications ({hotkey})",...o}=e,i=Rh(lE,r),a=aM(r),c=d.useRef(null),u=d.useRef(null),f=d.useRef(null),h=d.useRef(null),m=Ne(t,h,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;d.useEffect(()=>{const b=w=>{var x;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),d.useEffect(()=>{const b=c.current,w=h.current;if(y&&b&&w){const v=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(iv);w.dispatchEvent(C),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(av);w.dispatchEvent(C),i.isClosePausedRef.current=!1}},_=C=>{!b.contains(C.relatedTarget)&&x()},S=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",v),b.addEventListener("focusout",_),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[y,i.isClosePausedRef]);const g=d.useCallback(({tabbingDirection:b})=>{const v=a().map(x=>{const _=x.ref.current,S=[_,...SM(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return d.useEffect(()=>{const b=h.current;if(b){const w=v=>{var S,C,k;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const E=document.activeElement,P=v.shiftKey;if(v.target===b&&P){(S=u.current)==null||S.focus();return}const T=g({tabbingDirection:P?"backwards":"forwards"}),F=T.findIndex($=>$===E);im(T.slice(F+1))?v.preventDefault():P?(C=u.current)==null||C.focus():(k=f.current)==null||k.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,g]),l.jsxs(QD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(lv,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});im(b)}}),l.jsx(xw.Slot,{scope:r,children:l.jsx(ie.ol,{tabIndex:-1,...o,ref:m})}),y&&l.jsx(lv,{ref:f,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});im(b)}})]})});cE.displayName=lE;var uE="ToastFocusProxy",lv=d.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Rh(uE,r);return l.jsx(Nh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});lv.displayName=uE;var _u="Toast",dM="toast.swipeStart",fM="toast.swipeMove",hM="toast.swipeCancel",pM="toast.swipeEnd",dE=d.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=Qt({prop:n,defaultProp:s??!0,onChange:o,caller:_u});return l.jsx(Jt,{present:r||a,children:l.jsx(vM,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:_r(e.onPause),onResume:_r(e.onResume),onSwipeStart:ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});dE.displayName=_u;var[mM,gM]=iE(_u,{onClose(){}}),vM=d.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...y}=e,g=Rh(_u,r),[b,w]=d.useState(null),v=Ne(t,$=>w($)),x=d.useRef(null),_=d.useRef(null),S=s||g.duration,C=d.useRef(0),k=d.useRef(S),E=d.useRef(0),{onToastAdd:P,onToastRemove:O}=g,M=_r(()=>{var Y;(b==null?void 0:b.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),i()}),T=d.useCallback($=>{!$||$===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(M,$))},[M]);d.useEffect(()=>{const $=g.viewport;if($){const Y=()=>{T(k.current),u==null||u()},V=()=>{const H=new Date().getTime()-C.current;k.current=k.current-H,window.clearTimeout(E.current),c==null||c()};return $.addEventListener(iv,V),$.addEventListener(av,Y),()=>{$.removeEventListener(iv,V),$.removeEventListener(av,Y)}}},[g.viewport,S,c,u,T]),d.useEffect(()=>{o&&!g.isClosePausedRef.current&&T(S)},[o,S,g.isClosePausedRef,T]),d.useEffect(()=>(P(),()=>O()),[P,O]);const F=d.useMemo(()=>b?yE(b):null,[b]);return g.viewport?l.jsxs(l.Fragment,{children:[F&&l.jsx(yM,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),l.jsx(mM,{scope:r,onClose:M,children:Ar.createPortal(l.jsx(xw.ItemSlot,{scope:r,children:l.jsx(ZD,{asChild:!0,onEscapeKeyDown:ee(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(e.onPointerDown,$=>{$.button===0&&(x.current={x:$.clientX,y:$.clientY})}),onPointerMove:ee(e.onPointerMove,$=>{if(!x.current)return;const Y=$.clientX-x.current.x,V=$.clientY-x.current.y,H=!!_.current,I=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=I?R(0,Y):0,q=I?0:R(0,V),A=$.pointerType==="touch"?10:2,W={x:U,y:q},Z={originalEvent:$,delta:W};H?(_.current=W,cd(fM,h,Z,{discrete:!1})):r0(W,g.swipeDirection,A)?(_.current=W,cd(dM,f,Z,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(Y)>A||Math.abs(V)>A)&&(x.current=null)}),onPointerUp:ee(e.onPointerUp,$=>{const Y=_.current,V=$.target;if(V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),_.current=null,x.current=null,Y){const H=$.currentTarget,I={originalEvent:$,delta:Y};r0(Y,g.swipeDirection,g.swipeThreshold)?cd(pM,p,I,{discrete:!0}):cd(hM,m,I,{discrete:!0}),H.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),yM=e=>{const{__scopeToast:t,children:r,...n}=e,s=Rh(_u,t),[o,i]=d.useState(!1),[a,c]=d.useState(!1);return bM(()=>i(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(rl,{asChild:!0,children:l.jsx(Nh,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},wM="ToastTitle",fE=d.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ie.div,{...n,ref:t})});fE.displayName=wM;var xM="ToastDescription",hE=d.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ie.div,{...n,ref:t})});hE.displayName=xM;var pE="ToastAction",mE=d.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(vE,{altText:r,asChild:!0,children:l.jsx(bw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pE}\`. Expected non-empty \`string\`.`),null)});mE.displayName=pE;var gE="ToastClose",bw=d.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=gM(gE,r);return l.jsx(vE,{asChild:!0,children:l.jsx(ie.button,{type:"button",...n,ref:t,onClick:ee(e.onClick,s.onClose)})})});bw.displayName=gE;var vE=d.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function yE(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),_M(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...yE(n))}}),t}function cd(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yw(s,o):s.dispatchEvent(o)}var r0=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function bM(e=()=>{}){const t=_r(e);Ft(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function _M(e){return e.nodeType===e.ELEMENT_NODE}function SM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function im(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var CM=aE,wE=cE,xE=dE,bE=fE,_E=hE,SE=mE,CE=bw;function kE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=kE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function EE(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=kE(e))&&(n&&(n+=" "),n+=t);return n}const n0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,s0=EE,ki=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return s0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],h=o==null?void 0:o[u];if(f===null)return null;const m=n0(f)||n0(h);return s[u][m]}),a=r&&Object.entries(r).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(y=>{let[g,b]=y;return Array.isArray(b)?b.includes({...o,...a}[g]):{...o,...a}[g]===b})?[...u,h,m]:u},[]);return s0(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>d.createElement("svg",{ref:c,...EM,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:jE("lucide",s),...a},[...i.map(([u,f])=>d.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=(e,t)=>{const r=d.forwardRef(({className:n,...s},o)=>d.createElement(jM,{ref:o,iconNode:t,className:jE(`lucide-${kM(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Br("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Br("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Br("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Br("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=Br("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Br("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Br("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Br("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Br("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Br("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Br("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Br("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Br("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kw="-",TM=e=>{const t=AM(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(kw);return a[0]===""&&a.length!==1&&a.shift(),OE(a,t)||PM(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},OE=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?OE(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(kw);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},o0=/^\[(.+)\]$/,PM=e=>{if(o0.test(e)){const t=o0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},AM=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return IM(Object.entries(e.classGroups),r).forEach(([o,i])=>{cv(i,n,o,t)}),n},cv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:i0(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(OM(s)){cv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{cv(i,i0(t,o),r,n)})})},i0=(e,t)=>{let r=e;return t.split(kw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},OM=e=>e.isThemeGetter,IM=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,DM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},IE="!",MM=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,f=0,h;for(let b=0;b<a.length;b++){let w=a[b];if(u===0){if(w===s&&(n||a.slice(b,b+o)===t)){c.push(a.slice(f,b)),f=b+o;continue}if(w==="/"){h=b;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?a:a.substring(f),p=m.startsWith(IE),y=p?m.substring(1):m,g=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},$M=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},LM=e=>({cache:DM(e.cacheSize),parseClassName:MM(e),...TM(e)}),FM=/\s+/,UM=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(FM);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let y=!!p,g=n(y?m.substring(0,p):m);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=n(m),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const b=$M(f).join(":"),w=h?b+IE:b,v=w+g;if(o.includes(v))continue;o.push(v);const x=s(g,y);for(let _=0;_<x.length;++_){const S=x[_];o.push(w+S)}a=u+(a.length>0?" "+a:a)}return a};function BM(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=DE(t))&&(n&&(n+=" "),n+=r);return n}const DE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=DE(e[n]))&&(r&&(r+=" "),r+=t);return r};function zM(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((f,h)=>h(f),e());return r=LM(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const f=UM(c,r);return s(c,f),f}return function(){return o(BM.apply(null,arguments))}}const Xe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ME=/^\[(?:([a-z-]+):)?(.+)\]$/i,VM=/^\d+\/\d+$/,WM=new Set(["px","full","screen"]),HM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vn=e=>ya(e)||WM.has(e)||VM.test(e),xs=e=>nl(e,"length",n$),ya=e=>!!e&&!Number.isNaN(Number(e)),lm=e=>nl(e,"number",ya),Fl=e=>!!e&&Number.isInteger(Number(e)),ZM=e=>e.endsWith("%")&&ya(e.slice(0,-1)),Te=e=>ME.test(e),bs=e=>HM.test(e),QM=new Set(["length","size","percentage"]),JM=e=>nl(e,QM,$E),XM=e=>nl(e,"position",$E),e$=new Set(["image","url"]),t$=e=>nl(e,e$,o$),r$=e=>nl(e,"",s$),Ul=()=>!0,nl=(e,t,r)=>{const n=ME.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},n$=e=>KM.test(e)&&!GM.test(e),$E=()=>!1,s$=e=>qM.test(e),o$=e=>YM.test(e),i$=()=>{const e=Xe("colors"),t=Xe("spacing"),r=Xe("blur"),n=Xe("brightness"),s=Xe("borderColor"),o=Xe("borderRadius"),i=Xe("borderSpacing"),a=Xe("borderWidth"),c=Xe("contrast"),u=Xe("grayscale"),f=Xe("hueRotate"),h=Xe("invert"),m=Xe("gap"),p=Xe("gradientColorStops"),y=Xe("gradientColorStopPositions"),g=Xe("inset"),b=Xe("margin"),w=Xe("opacity"),v=Xe("padding"),x=Xe("saturate"),_=Xe("scale"),S=Xe("sepia"),C=Xe("skew"),k=Xe("space"),E=Xe("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Te,t],T=()=>[Te,t],F=()=>["",Vn,xs],$=()=>["auto",ya,Te],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Te],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[ya,Te];return{cacheSize:500,separator:":",theme:{colors:[Ul],spacing:[Vn,xs],blur:["none","",bs,Te],brightness:q(),borderColor:[e],borderRadius:["none","","full",bs,Te],borderSpacing:T(),borderWidth:F(),contrast:q(),grayscale:R(),hueRotate:q(),invert:R(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[ZM,xs],inset:M(),margin:M(),opacity:q(),padding:T(),saturate:q(),scale:q(),sepia:R(),skew:q(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Te]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,Te]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Fl,Te]}],"grid-cols":[{"grid-cols":[Ul]}],"col-start-end":[{col:["auto",{span:["full",Fl,Te]},Te]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ul]}],"row-start-end":[{row:["auto",{span:[Fl,Te]},Te]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,t]}],"min-w":[{"min-w":[Te,t,"min","max","fit"]}],"max-w":[{"max-w":[Te,t,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[Te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lm]}],"font-family":[{font:[Ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",ya,lm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vn,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vn,xs]}],"underline-offset":[{"underline-offset":["auto",Vn,Te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),XM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Vn,Te]}],"outline-w":[{outline:[Vn,xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Vn,xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bs,r$]}],"shadow-color":[{shadow:[Ul]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bs,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Fl,Te]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vn,xs,lm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a$=zM(i$);function B(...e){return a$(EE(e))}const l$=CM,LE=d.forwardRef(({className:e,...t},r)=>l.jsx(wE,{ref:r,className:B("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));LE.displayName=wE.displayName;const c$=ki("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FE=d.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(xE,{ref:n,className:B(c$({variant:t}),e),...r}));FE.displayName=xE.displayName;const u$=d.forwardRef(({className:e,...t},r)=>l.jsx(SE,{ref:r,className:B("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));u$.displayName=SE.displayName;const UE=d.forwardRef(({className:e,...t},r)=>l.jsx(CE,{ref:r,className:B("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Cw,{className:"h-4 w-4"})}));UE.displayName=CE.displayName;const BE=d.forwardRef(({className:e,...t},r)=>l.jsx(bE,{ref:r,className:B("text-sm font-semibold",e),...t}));BE.displayName=bE.displayName;const zE=d.forwardRef(({className:e,...t},r)=>l.jsx(_E,{ref:r,className:B("text-sm opacity-90",e),...t}));zE.displayName=_E.displayName;function d$(){const{toasts:e}=fs();return l.jsxs(l$,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return l.jsxs(FE,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(BE,{children:r}),n&&l.jsx(zE,{children:n})]}),s,l.jsx(UE,{})]},t)}),l.jsx(LE,{})]})}var a0=["light","dark"],f$="(prefers-color-scheme: dark)",h$=d.createContext(void 0),p$={setTheme:e=>{},themes:[]},m$=()=>{var e;return(e=d.useContext(h$))!=null?e:p$};d.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?a0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,b=!0)=>{let w=i?i[y]:y,v=g?y+"|| ''":`'${w}'`,x="";return s&&b&&!g&&a0.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),r==="class"?g||w?x+=`c.add(${v})`:x+="null":w&&(x+=`d[s](n,${v})`),x},p=e?`!function(){${f}${m(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${f$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var g$=e=>{switch(e){case"success":return w$;case"info":return b$;case"warning":return x$;case"error":return _$;default:return null}},v$=Array(12).fill(0),y$=({visible:e,className:t})=>L.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},L.createElement("div",{className:"sonner-spinner"},v$.map((r,n)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w$=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x$=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),b$=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_$=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S$=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),C$=()=>{let[e,t]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},uv=1,k$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:uv++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],L.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(j$(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||uv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},pr=new k$,E$=(e,t)=>{let r=(t==null?void 0:t.id)||uv++;return pr.addToast({title:e,...t,id:r}),r},j$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",N$=E$,R$=()=>pr.toasts,T$=()=>pr.getActiveToasts(),P$=Object.assign(N$,{success:pr.success,info:pr.info,warning:pr.warning,error:pr.error,custom:pr.custom,message:pr.message,promise:pr.promise,dismiss:pr.dismiss,loading:pr.loading},{getHistory:R$,getToasts:T$});function A$(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}A$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fd(e){return e.label!==void 0}var O$=3,I$="32px",D$="16px",l0=4e3,M$=356,$$=14,L$=20,F$=200;function sn(...e){return e.filter(Boolean).join(" ")}function U$(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var B$=e=>{var t,r,n,s,o,i,a,c,u,f,h;let{invert:m,toast:p,unstyled:y,interacting:g,setHeights:b,visibleToasts:w,heights:v,index:x,toasts:_,expanded:S,removeToast:C,defaultRichColors:k,closeButton:E,style:P,cancelButtonStyle:O,actionButtonStyle:M,className:T="",descriptionClassName:F="",duration:$,position:Y,gap:V,loadingIcon:H,expandByDefault:I,classNames:R,icons:U,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:A}=e,[W,Z]=L.useState(null),[Q,ae]=L.useState(null),[K,he]=L.useState(!1),[de,se]=L.useState(!1),[Ce,_e]=L.useState(!1),[He,Ke]=L.useState(!1),[_t,St]=L.useState(!1),[ur,rn]=L.useState(0),[Xt,j]=L.useState(0),D=L.useRef(p.duration||$||l0),z=L.useRef(null),ne=L.useRef(null),re=x===0,X=x+1<=w,G=p.type,ge=p.dismissible!==!1,je=p.className||"",Ge=p.descriptionClassName||"",zr=L.useMemo(()=>v.findIndex(ye=>ye.toastId===p.id)||0,[v,p.id]),Ct=L.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:E},[p.closeButton,E]),jo=L.useMemo(()=>p.duration||$||l0,[p.duration,$]),zn=L.useRef(0),Vr=L.useRef(0),vs=L.useRef(0),Wr=L.useRef(null),[jl,No]=Y.split("-"),zu=L.useMemo(()=>v.reduce((ye,Re,Oe)=>Oe>=zr?ye:ye+Re.height,0),[v,zr]),Vu=C$(),Rp=p.invert||m,vt=G==="loading";Vr.current=L.useMemo(()=>zr*V+zu,[zr,zu]),L.useEffect(()=>{D.current=jo},[jo]),L.useEffect(()=>{he(!0)},[]),L.useEffect(()=>{let ye=ne.current;if(ye){let Re=ye.getBoundingClientRect().height;return j(Re),b(Oe=>[{toastId:p.id,height:Re,position:p.position},...Oe]),()=>b(Oe=>Oe.filter(lt=>lt.toastId!==p.id))}},[b,p.id]),L.useLayoutEffect(()=>{if(!K)return;let ye=ne.current,Re=ye.style.height;ye.style.height="auto";let Oe=ye.getBoundingClientRect().height;ye.style.height=Re,j(Oe),b(lt=>lt.find(It=>It.toastId===p.id)?lt.map(It=>It.toastId===p.id?{...It,height:Oe}:It):[{toastId:p.id,height:Oe,position:p.position},...lt])},[K,p.title,p.description,b,p.id]);let at=L.useCallback(()=>{se(!0),rn(Vr.current),b(ye=>ye.filter(Re=>Re.toastId!==p.id)),setTimeout(()=>{C(p)},F$)},[p,C,b,Vr]);L.useEffect(()=>{if(p.promise&&G==="loading"||p.duration===1/0||p.type==="loading")return;let ye;return S||g||A&&Vu?(()=>{if(vs.current<zn.current){let Re=new Date().getTime()-zn.current;D.current=D.current-Re}vs.current=new Date().getTime()})():D.current!==1/0&&(zn.current=new Date().getTime(),ye=setTimeout(()=>{var Re;(Re=p.onAutoClose)==null||Re.call(p,p),at()},D.current)),()=>clearTimeout(ye)},[S,g,p,G,A,Vu,at]),L.useEffect(()=>{p.delete&&at()},[at,p.delete]);function er(){var ye,Re,Oe;return U!=null&&U.loading?L.createElement("div",{className:sn(R==null?void 0:R.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":G==="loading"},U.loading):H?L.createElement("div",{className:sn(R==null?void 0:R.loader,(Re=p==null?void 0:p.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":G==="loading"},H):L.createElement(y$,{className:sn(R==null?void 0:R.loader,(Oe=p==null?void 0:p.classNames)==null?void 0:Oe.loader),visible:G==="loading"})}return L.createElement("li",{tabIndex:0,ref:ne,className:sn(T,je,R==null?void 0:R.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[G],(r=p==null?void 0:p.classNames)==null?void 0:r[G]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":_t,"data-removed":de,"data-visible":X,"data-y-position":jl,"data-x-position":No,"data-index":x,"data-front":re,"data-swiping":Ce,"data-dismissible":ge,"data-type":G,"data-invert":Rp,"data-swipe-out":He,"data-swipe-direction":Q,"data-expanded":!!(S||I&&K),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${de?ur:Vr.current}px`,"--initial-height":I?"auto":`${Xt}px`,...P,...p.style},onDragEnd:()=>{_e(!1),Z(null),Wr.current=null},onPointerDown:ye=>{vt||!ge||(z.current=new Date,rn(Vr.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(_e(!0),Wr.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Re,Oe,lt;if(He||!ge)return;Wr.current=null;let It=Number(((ye=ne.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qe=Number(((Re=ne.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((Oe=z.current)==null?void 0:Oe.getTime()),ct=W==="x"?It:qe,Dt=Math.abs(ct)/Ht;if(Math.abs(ct)>=L$||Dt>.11){rn(Vr.current),(lt=p.onDismiss)==null||lt.call(p,p),ae(W==="x"?It>0?"right":"left":qe>0?"down":"up"),at(),Ke(!0),St(!1);return}_e(!1),Z(null)},onPointerMove:ye=>{var Re,Oe,lt,It;if(!Wr.current||!ge||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let qe=ye.clientY-Wr.current.y,Ht=ye.clientX-Wr.current.x,ct=(Oe=e.swipeDirections)!=null?Oe:U$(Y);!W&&(Math.abs(Ht)>1||Math.abs(qe)>1)&&Z(Math.abs(Ht)>Math.abs(qe)?"x":"y");let Dt={x:0,y:0};W==="y"?(ct.includes("top")||ct.includes("bottom"))&&(ct.includes("top")&&qe<0||ct.includes("bottom")&&qe>0)&&(Dt.y=qe):W==="x"&&(ct.includes("left")||ct.includes("right"))&&(ct.includes("left")&&Ht<0||ct.includes("right")&&Ht>0)&&(Dt.x=Ht),(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&St(!0),(lt=ne.current)==null||lt.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(It=ne.current)==null||It.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},Ct&&!p.jsx?L.createElement("button",{"aria-label":q,"data-disabled":vt,"data-close-button":!0,onClick:vt||!ge?()=>{}:()=>{var ye;at(),(ye=p.onDismiss)==null||ye.call(p,p)},className:sn(R==null?void 0:R.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=U==null?void 0:U.close)!=null?o:S$):null,p.jsx||d.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:L.createElement(L.Fragment,null,G||p.icon||p.promise?L.createElement("div",{"data-icon":"",className:sn(R==null?void 0:R.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||er():null,p.type!=="loading"?p.icon||(U==null?void 0:U[G])||g$(G):null):null,L.createElement("div",{"data-content":"",className:sn(R==null?void 0:R.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},L.createElement("div",{"data-title":"",className:sn(R==null?void 0:R.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?L.createElement("div",{"data-description":"",className:sn(F,Ge,R==null?void 0:R.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),d.isValidElement(p.cancel)?p.cancel:p.cancel&&fd(p.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:ye=>{var Re,Oe;fd(p.cancel)&&ge&&((Oe=(Re=p.cancel).onClick)==null||Oe.call(Re,ye),at())},className:sn(R==null?void 0:R.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,d.isValidElement(p.action)?p.action:p.action&&fd(p.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:ye=>{var Re,Oe;fd(p.action)&&((Oe=(Re=p.action).onClick)==null||Oe.call(Re,ye),!ye.defaultPrevented&&at())},className:sn(R==null?void 0:R.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function c0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function z$(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?D$:I$;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(a)}),r}var V$=d.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:f="light",richColors:h,duration:m,style:p,visibleToasts:y=O$,toastOptions:g,dir:b=c0(),gap:w=$$,loadingIcon:v,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[C,k]=L.useState([]),E=L.useMemo(()=>Array.from(new Set([n].concat(C.filter(A=>A.position).map(A=>A.position)))),[C,n]),[P,O]=L.useState([]),[M,T]=L.useState(!1),[F,$]=L.useState(!1),[Y,V]=L.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=L.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=L.useRef(null),U=L.useRef(!1),q=L.useCallback(A=>{k(W=>{var Z;return(Z=W.find(Q=>Q.id===A.id))!=null&&Z.delete||pr.dismiss(A.id),W.filter(({id:Q})=>Q!==A.id)})},[]);return L.useEffect(()=>pr.subscribe(A=>{if(A.dismiss){k(W=>W.map(Z=>Z.id===A.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Jk.flushSync(()=>{k(W=>{let Z=W.findIndex(Q=>Q.id===A.id);return Z!==-1?[...W.slice(0,Z),{...W[Z],...A},...W.slice(Z+1)]:[A,...W]})})})}),[]),L.useEffect(()=>{if(f!=="system"){V(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:W})=>{V(W?"dark":"light")})}catch{A.addListener(({matches:Z})=>{try{V(Z?"dark":"light")}catch(Q){console.error(Q)}})}},[f]),L.useEffect(()=>{C.length<=1&&T(!1)},[C]),L.useEffect(()=>{let A=W=>{var Z,Q;s.every(ae=>W[ae]||W.code===ae)&&(T(!0),(Z=H.current)==null||Z.focus()),W.code==="Escape"&&(document.activeElement===H.current||(Q=H.current)!=null&&Q.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[s]),L.useEffect(()=>{if(H.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,U.current=!1)}},[H.current]),L.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((A,W)=>{var Z;let[Q,ae]=A.split("-");return C.length?L.createElement("ol",{key:A,dir:b==="auto"?c0():b,tabIndex:-1,ref:H,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":Q,"data-lifted":M&&C.length>1&&!o,"data-x-position":ae,style:{"--front-toast-height":`${((Z=P[0])==null?void 0:Z.height)||0}px`,"--width":`${M$}px`,"--gap":`${w}px`,...p,...z$(c,u)},onBlur:K=>{U.current&&!K.currentTarget.contains(K.relatedTarget)&&(U.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||U.current||(U.current=!0,R.current=K.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{F||T(!1)},onDragEnd:()=>T(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},C.filter(K=>!K.position&&W===0||K.position===A).map((K,he)=>{var de,se;return L.createElement(B$,{key:K.id,icons:x,index:he,toast:K,defaultRichColors:h,duration:(de=g==null?void 0:g.duration)!=null?de:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:y,closeButton:(se=g==null?void 0:g.closeButton)!=null?se:i,interacting:F,position:A,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:q,toasts:C.filter(Ce=>Ce.position==K.position),heights:P.filter(Ce=>Ce.position==K.position),setHeights:O,expandByDefault:o,gap:w,loadingIcon:v,expanded:M,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const W$=({...e})=>{const{theme:t="system"}=m$();return l.jsx(V$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var H$=jy[" useId ".trim().toString()]||(()=>{}),K$=0;function Pt(e){const[t,r]=d.useState(H$());return Ft(()=>{r(n=>n??String(K$++))},[e]),t?`radix-${t}`:""}const G$=["top","right","bottom","left"],co=Math.min,Rr=Math.max,jf=Math.round,hd=Math.floor,$n=e=>({x:e,y:e}),q$={left:"right",right:"left",bottom:"top",top:"bottom"},Y$={start:"end",end:"start"};function dv(e,t,r){return Rr(e,co(t,r))}function as(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function sl(e){return e.split("-")[1]}function Ew(e){return e==="x"?"y":"x"}function jw(e){return e==="y"?"height":"width"}const Z$=new Set(["top","bottom"]);function On(e){return Z$.has(ls(e))?"y":"x"}function Nw(e){return Ew(On(e))}function Q$(e,t,r){r===void 0&&(r=!1);const n=sl(e),s=Nw(e),o=jw(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Nf(i)),[i,Nf(i)]}function J$(e){const t=Nf(e);return[fv(e),t,fv(t)]}function fv(e){return e.replace(/start|end/g,t=>Y$[t])}const u0=["left","right"],d0=["right","left"],X$=["top","bottom"],eL=["bottom","top"];function tL(e,t,r){switch(e){case"top":case"bottom":return r?t?d0:u0:t?u0:d0;case"left":case"right":return t?X$:eL;default:return[]}}function rL(e,t,r,n){const s=sl(e);let o=tL(ls(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(fv)))),o}function Nf(e){return e.replace(/left|right|bottom|top/g,t=>q$[t])}function nL(e){return{top:0,right:0,bottom:0,left:0,...e}}function VE(e){return typeof e!="number"?nL(e):{top:e,right:e,bottom:e,left:e}}function Rf(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function f0(e,t,r){let{reference:n,floating:s}=e;const o=On(t),i=Nw(t),a=jw(i),c=ls(t),u=o==="y",f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(sl(t)){case"start":p[i]-=m*(r&&u?-1:1);break;case"end":p[i]+=m*(r&&u?-1:1);break}return p}const sL=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=f0(u,n,c),m=n,p={},y=0;for(let g=0;g<a.length;g++){const{name:b,fn:w}=a[g],{x:v,y:x,data:_,reset:S}=await w({x:f,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});f=v??f,h=x??h,p={...p,[b]:{...p[b],..._}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:h}=f0(u,m,c)),g=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function Fc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=as(t,e),y=VE(p),b=a[m?h==="floating"?"reference":"floating":h],w=Rf(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),v=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Rf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:c}):v);return{top:(w.top-S.top+y.top)/_.y,bottom:(S.bottom-w.bottom+y.bottom)/_.y,left:(w.left-S.left+y.left)/_.x,right:(S.right-w.right+y.right)/_.x}}const oL=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:f=0}=as(e,t)||{};if(u==null)return{};const h=VE(f),m={x:r,y:n},p=Nw(s),y=jw(p),g=await i.getDimensions(u),b=p==="y",w=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[p]-m[p]-o.floating[y],S=m[p]-o.reference[p],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=C?C[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(C)))&&(k=a.floating[x]||o.floating[y]);const E=_/2-S/2,P=k/2-g[y]/2-1,O=co(h[w],P),M=co(h[v],P),T=O,F=k-g[y]-M,$=k/2-g[y]/2+E,Y=dv(T,$,F),V=!c.arrow&&sl(s)!=null&&$!==Y&&o.reference[y]/2-($<T?O:M)-g[y]/2<0,H=V?$<T?$-T:$-F:0;return{[p]:m[p]+H,data:{[p]:Y,centerOffset:$-Y-H,...V&&{alignmentOffset:H}},reset:V}}}),iL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...b}=as(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=ls(s),v=On(a),x=ls(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(x||!g?[Nf(a)]:J$(a)),C=y!=="none";!m&&C&&S.push(...rL(a,g,y,_));const k=[a,...S],E=await Fc(t,b),P=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&P.push(E[w]),h){const $=Q$(s,i,_);P.push(E[$[0]],E[$[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every($=>$<=0)){var M,T;const $=(((M=o.flip)==null?void 0:M.index)||0)+1,Y=k[$];if(Y&&(!(h==="alignment"?v!==On(Y):!1)||O.every(I=>I.overflows[0]>0&&On(I.placement)===v)))return{data:{index:$,overflows:O},reset:{placement:Y}};let V=(T=O.filter(H=>H.overflows[0]<=0).sort((H,I)=>H.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!V)switch(p){case"bestFit":{var F;const H=(F=O.filter(I=>{if(C){const R=On(I.placement);return R===v||R==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(R=>R>0).reduce((R,U)=>R+U,0)]).sort((I,R)=>I[1]-R[1])[0])==null?void 0:F[0];H&&(V=H);break}case"initialPlacement":V=a;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function h0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p0(e){return G$.some(t=>e[t]>=0)}const aL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=as(e,t);switch(n){case"referenceHidden":{const o=await Fc(t,{...s,elementContext:"reference"}),i=h0(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:p0(i)}}}case"escaped":{const o=await Fc(t,{...s,altBoundary:!0}),i=h0(o,r.floating);return{data:{escapedOffsets:i,escaped:p0(i)}}}default:return{}}}}},WE=new Set(["left","top"]);async function lL(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=ls(r),a=sl(r),c=On(r)==="y",u=WE.has(i)?-1:1,f=o&&c?-1:1,h=as(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const cL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await lL(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},uL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:w,y:v}=b;return{x:w,y:v}}},...c}=as(e,t),u={x:r,y:n},f=await Fc(t,c),h=On(ls(s)),m=Ew(h);let p=u[m],y=u[h];if(o){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=p+f[b],x=p-f[w];p=dv(v,p,x)}if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=y+f[b],x=y-f[w];y=dv(v,y,x)}const g=a.fn({...t,[m]:p,[h]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[h]:i}}}}}},dL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=as(e,t),f={x:r,y:n},h=On(s),m=Ew(h);let p=f[m],y=f[h];const g=as(a,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",_=o.reference[m]-o.floating[x]+b.mainAxis,S=o.reference[m]+o.reference[x]-b.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var w,v;const x=m==="y"?"width":"height",_=WE.has(ls(s)),S=o.reference[h]-o.floating[x]+(_&&((w=i.offset)==null?void 0:w[h])||0)+(_?0:b.crossAxis),C=o.reference[h]+o.reference[x]+(_?0:((v=i.offset)==null?void 0:v[h])||0)-(_?b.crossAxis:0);y<S?y=S:y>C&&(y=C)}return{[m]:p,[h]:y}}}},fL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=as(e,t),f=await Fc(t,u),h=ls(s),m=sl(s),p=On(s)==="y",{width:y,height:g}=o.floating;let b,w;h==="top"||h==="bottom"?(b=h,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,b=m==="end"?"top":"bottom");const v=g-f.top-f.bottom,x=y-f.left-f.right,_=co(g-f[b],v),S=co(y-f[w],x),C=!t.middlewareData.shift;let k=_,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=v),C&&!m){const O=Rr(f.left,0),M=Rr(f.right,0),T=Rr(f.top,0),F=Rr(f.bottom,0);p?E=y-2*(O!==0||M!==0?O+M:Rr(f.left,f.right)):k=g-2*(T!==0||F!==0?T+F:Rr(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:k});const P=await i.getDimensions(a.floating);return y!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Th(){return typeof window<"u"}function ol(e){return HE(e)?(e.nodeName||"").toLowerCase():"#document"}function Mr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bn(e){var t;return(t=(HE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function HE(e){return Th()?e instanceof Node||e instanceof Mr(e).Node:!1}function bn(e){return Th()?e instanceof Element||e instanceof Mr(e).Element:!1}function Fn(e){return Th()?e instanceof HTMLElement||e instanceof Mr(e).HTMLElement:!1}function m0(e){return!Th()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mr(e).ShadowRoot}const hL=new Set(["inline","contents"]);function Su(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=_n(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!hL.has(s)}const pL=new Set(["table","td","th"]);function mL(e){return pL.has(ol(e))}const gL=[":popover-open",":modal"];function Ph(e){return gL.some(t=>{try{return e.matches(t)}catch{return!1}})}const vL=["transform","translate","scale","rotate","perspective"],yL=["transform","translate","scale","rotate","perspective","filter"],wL=["paint","layout","strict","content"];function Rw(e){const t=Tw(),r=bn(e)?_n(e):e;return vL.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yL.some(n=>(r.willChange||"").includes(n))||wL.some(n=>(r.contain||"").includes(n))}function xL(e){let t=uo(e);for(;Fn(t)&&!Ha(t);){if(Rw(t))return t;if(Ph(t))return null;t=uo(t)}return null}function Tw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bL=new Set(["html","body","#document"]);function Ha(e){return bL.has(ol(e))}function _n(e){return Mr(e).getComputedStyle(e)}function Ah(e){return bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function uo(e){if(ol(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m0(e)&&e.host||Bn(e);return m0(t)?t.host:t}function KE(e){const t=uo(e);return Ha(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fn(t)&&Su(t)?t:KE(t)}function Uc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=KE(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Mr(s);if(o){const a=hv(i);return t.concat(i,i.visualViewport||[],Su(s)?s:[],a&&r?Uc(a):[])}return t.concat(s,Uc(s,[],r))}function hv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function GE(e){const t=_n(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Fn(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=jf(r)!==o||jf(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Pw(e){return bn(e)?e:e.contextElement}function wa(e){const t=Pw(e);if(!Fn(t))return $n(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=GE(t);let i=(o?jf(r.width):r.width)/n,a=(o?jf(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const _L=$n(0);function qE(e){const t=Mr(e);return!Tw()||!t.visualViewport?_L:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Mr(e)?!1:t}function ui(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Pw(e);let i=$n(1);t&&(n?bn(n)&&(i=wa(n)):i=wa(e));const a=SL(o,r,n)?qE(o):$n(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const m=Mr(o),p=n&&bn(n)?Mr(n):n;let y=m,g=hv(y);for(;g&&n&&p!==y;){const b=wa(g),w=g.getBoundingClientRect(),v=_n(g),x=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,_=w.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,h*=b.y,c+=x,u+=_,y=Mr(g),g=hv(y)}}return Rf({width:f,height:h,x:c,y:u})}function Aw(e,t){const r=Ah(e).scrollLeft;return t?t.left+r:ui(Bn(e)).left+r}function YE(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Aw(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function CL(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Bn(n),a=t?Ph(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=$n(1);const f=$n(0),h=Fn(n);if((h||!h&&!o)&&((ol(n)!=="body"||Su(i))&&(c=Ah(n)),Fn(n))){const p=ui(n);u=wa(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const m=i&&!h&&!o?YE(i,c,!0):$n(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function kL(e){return Array.from(e.getClientRects())}function EL(e){const t=Bn(e),r=Ah(e),n=e.ownerDocument.body,s=Rr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Rr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Aw(e);const a=-r.scrollTop;return _n(n).direction==="rtl"&&(i+=Rr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function jL(e,t){const r=Mr(e),n=Bn(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=Tw();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}const NL=new Set(["absolute","fixed"]);function RL(e,t){const r=ui(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Fn(e)?wa(e):$n(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function g0(e,t,r){let n;if(t==="viewport")n=jL(e,r);else if(t==="document")n=EL(Bn(e));else if(bn(t))n=RL(t,r);else{const s=qE(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Rf(n)}function ZE(e,t){const r=uo(e);return r===t||!bn(r)||Ha(r)?!1:_n(r).position==="fixed"||ZE(r,t)}function TL(e,t){const r=t.get(e);if(r)return r;let n=Uc(e,[],!1).filter(a=>bn(a)&&ol(a)!=="body"),s=null;const o=_n(e).position==="fixed";let i=o?uo(e):e;for(;bn(i)&&!Ha(i);){const a=_n(i),c=Rw(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&NL.has(s.position)||Su(i)&&!c&&ZE(e,i))?n=n.filter(f=>f!==i):s=a,i=uo(i)}return t.set(e,n),n}function PL(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Ph(t)?[]:TL(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,f)=>{const h=g0(t,f,s);return u.top=Rr(h.top,u.top),u.right=co(h.right,u.right),u.bottom=co(h.bottom,u.bottom),u.left=Rr(h.left,u.left),u},g0(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function AL(e){const{width:t,height:r}=GE(e);return{width:t,height:r}}function OL(e,t,r){const n=Fn(t),s=Bn(t),o=r==="fixed",i=ui(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=$n(0);function u(){c.x=Aw(s)}if(n||!n&&!o)if((ol(t)!=="body"||Su(s))&&(a=Ah(t)),n){const p=ui(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!n&&s&&u();const f=s&&!n&&!o?YE(s,a):$n(0),h=i.left+a.scrollLeft-c.x-f.x,m=i.top+a.scrollTop-c.y-f.y;return{x:h,y:m,width:i.width,height:i.height}}function cm(e){return _n(e).position==="static"}function v0(e,t){if(!Fn(e)||_n(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bn(e)===r&&(r=r.ownerDocument.body),r}function QE(e,t){const r=Mr(e);if(Ph(e))return r;if(!Fn(e)){let s=uo(e);for(;s&&!Ha(s);){if(bn(s)&&!cm(s))return s;s=uo(s)}return r}let n=v0(e,t);for(;n&&mL(n)&&cm(n);)n=v0(n,t);return n&&Ha(n)&&cm(n)&&!Rw(n)?r:n||xL(e)||r}const IL=async function(e){const t=this.getOffsetParent||QE,r=this.getDimensions,n=await r(e.floating);return{reference:OL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function DL(e){return _n(e).direction==="rtl"}const ML={convertOffsetParentRelativeRectToViewportRelativeRect:CL,getDocumentElement:Bn,getClippingRect:PL,getOffsetParent:QE,getElementRects:IL,getClientRects:kL,getDimensions:AL,getScale:wa,isElement:bn,isRTL:DL};function JE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $L(e,t){let r=null,n;const s=Bn(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=u;if(a||t(),!m||!p)return;const y=hd(h),g=hd(s.clientWidth-(f+m)),b=hd(s.clientHeight-(h+p)),w=hd(f),x={rootMargin:-y+"px "+-g+"px "+-b+"px "+-w+"px",threshold:Rr(0,co(1,c))||1};let _=!0;function S(C){const k=C[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!JE(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return i(!0),o}function LL(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Pw(e),f=s||o?[...u?Uc(u):[],...Uc(t)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const h=u&&a?$L(u,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?ui(e):null;c&&b();function b(){const w=ui(e);g&&!JE(g,w)&&r(),g=w,y=requestAnimationFrame(b)}return r(),()=>{var w;f.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const FL=cL,UL=uL,BL=iL,zL=fL,VL=aL,y0=oL,WL=dL,HL=(e,t,r)=>{const n=new Map,s={platform:ML,...r},o={...s.platform,_c:n};return sL(e,t,{...s,platform:o})};var KL=typeof document<"u",GL=function(){},Yd=KL?d.useLayoutEffect:GL;function Tf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Tf(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Tf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function XE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function w0(e,t){const r=XE(e);return Math.round(t*r)/r}function um(e){const t=d.useRef(e);return Yd(()=>{t.current=e}),t}function qL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[f,h]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=d.useState(n);Tf(m,n)||p(n);const[y,g]=d.useState(null),[b,w]=d.useState(null),v=d.useCallback(I=>{I!==C.current&&(C.current=I,g(I))},[]),x=d.useCallback(I=>{I!==k.current&&(k.current=I,w(I))},[]),_=o||y,S=i||b,C=d.useRef(null),k=d.useRef(null),E=d.useRef(f),P=c!=null,O=um(c),M=um(s),T=um(u),F=d.useCallback(()=>{if(!C.current||!k.current)return;const I={placement:t,strategy:r,middleware:m};M.current&&(I.platform=M.current),HL(C.current,k.current,I).then(R=>{const U={...R,isPositioned:T.current!==!1};$.current&&!Tf(E.current,U)&&(E.current=U,Ar.flushSync(()=>{h(U)}))})},[m,t,r,M,T]);Yd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const $=d.useRef(!1);Yd(()=>($.current=!0,()=>{$.current=!1}),[]),Yd(()=>{if(_&&(C.current=_),S&&(k.current=S),_&&S){if(O.current)return O.current(_,S,F);F()}},[_,S,F,O,P]);const Y=d.useMemo(()=>({reference:C,floating:k,setReference:v,setFloating:x}),[v,x]),V=d.useMemo(()=>({reference:_,floating:S}),[_,S]),H=d.useMemo(()=>{const I={position:r,left:0,top:0};if(!V.floating)return I;const R=w0(V.floating,f.x),U=w0(V.floating,f.y);return a?{...I,transform:"translate("+R+"px, "+U+"px)",...XE(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:U}},[r,a,V.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:F,refs:Y,elements:V,floatingStyles:H}),[f,F,Y,V,H])}const YL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?y0({element:n.current,padding:s}).fn(r):{}:n?y0({element:n,padding:s}).fn(r):{}}}},ZL=(e,t)=>({...FL(e),options:[e,t]}),QL=(e,t)=>({...UL(e),options:[e,t]}),JL=(e,t)=>({...WL(e),options:[e,t]}),XL=(e,t)=>({...BL(e),options:[e,t]}),e5=(e,t)=>({...zL(e),options:[e,t]}),t5=(e,t)=>({...VL(e),options:[e,t]}),r5=(e,t)=>({...YL(e),options:[e,t]});var n5="Arrow",ej=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(ie.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ej.displayName=n5;var s5=ej;function Oh(e){const[t,r]=d.useState(void 0);return Ft(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ow="Popper",[tj,yo]=At(Ow),[o5,rj]=tj(Ow),nj=e=>{const{__scopePopper:t,children:r}=e,[n,s]=d.useState(null);return l.jsx(o5,{scope:t,anchor:n,onAnchorChange:s,children:r})};nj.displayName=Ow;var sj="PopperAnchor",oj=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=rj(sj,r),i=d.useRef(null),a=Ne(t,i);return d.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(ie.div,{...s,ref:a})});oj.displayName=sj;var Iw="PopperContent",[i5,a5]=tj(Iw),ij=d.forwardRef((e,t)=>{var K,he,de,se,Ce,_e;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,b=rj(Iw,r),[w,v]=d.useState(null),x=Ne(t,He=>v(He)),[_,S]=d.useState(null),C=Oh(_),k=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,P=n+(o!=="center"?"-"+o:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],T=M.length>0,F={padding:O,boundary:M.filter(c5),altBoundary:T},{refs:$,floatingStyles:Y,placement:V,isPositioned:H,middlewareData:I}=qL({strategy:"fixed",placement:P,whileElementsMounted:(...He)=>LL(...He,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[ZL({mainAxis:s+E,alignmentAxis:i}),c&&QL({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?JL():void 0,...F}),c&&XL({...F}),e5({...F,apply:({elements:He,rects:Ke,availableWidth:_t,availableHeight:St})=>{const{width:ur,height:rn}=Ke.reference,Xt=He.floating.style;Xt.setProperty("--radix-popper-available-width",`${_t}px`),Xt.setProperty("--radix-popper-available-height",`${St}px`),Xt.setProperty("--radix-popper-anchor-width",`${ur}px`),Xt.setProperty("--radix-popper-anchor-height",`${rn}px`)}}),_&&r5({element:_,padding:a}),u5({arrowWidth:k,arrowHeight:E}),m&&t5({strategy:"referenceHidden",...F})]}),[R,U]=cj(V),q=_r(y);Ft(()=>{H&&(q==null||q())},[H,q]);const A=(K=I.arrow)==null?void 0:K.x,W=(he=I.arrow)==null?void 0:he.y,Z=((de=I.arrow)==null?void 0:de.centerOffset)!==0,[Q,ae]=d.useState();return Ft(()=>{w&&ae(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:H?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(se=I.transformOrigin)==null?void 0:se.x,(Ce=I.transformOrigin)==null?void 0:Ce.y].join(" "),...((_e=I.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(i5,{scope:r,placedSide:R,onArrowChange:S,arrowX:A,arrowY:W,shouldHideArrow:Z,children:l.jsx(ie.div,{"data-side":R,"data-align":U,...g,ref:x,style:{...g.style,animation:H?void 0:"none"}})})})});ij.displayName=Iw;var aj="PopperArrow",l5={top:"bottom",right:"left",bottom:"top",left:"right"},lj=d.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=a5(aj,n),i=l5[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(s5,{...s,ref:r,style:{...s.style,display:"block"}})})});lj.displayName=aj;function c5(e){return e!==null}var u5=e=>({name:"transformOrigin",options:e,fn(t){var b,w,v;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=cj(r),h={start:"0%",center:"50%",end:"100%"}[f],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=i?h:`${m}px`,g=`${-c}px`):u==="top"?(y=i?h:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=i?h:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=i?h:`${p}px`),{data:{x:y,y:g}}}});function cj(e){const[t,r="center"]=e.split("-");return[t,r]}var Ih=nj,Cu=oj,Dh=ij,Mh=lj,[$h,gZ]=At("Tooltip",[yo]),Lh=yo(),uj="TooltipProvider",d5=700,pv="tooltip.open",[f5,Dw]=$h(uj),dj=e=>{const{__scopeTooltip:t,delayDuration:r=d5,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=d.useRef(!0),a=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(f5,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:d.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};dj.displayName=uj;var Bc="Tooltip",[h5,Fh]=$h(Bc),fj=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,c=Dw(Bc,e.__scopeTooltip),u=Lh(t),[f,h]=d.useState(null),m=Pt(),p=d.useRef(0),y=i??c.disableHoverableContent,g=a??c.delayDuration,b=d.useRef(!1),[w,v]=Qt({prop:n,defaultProp:s??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(pv))):c.onClose(),o==null||o(k)},caller:Bc}),x=d.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),_=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,v(!0)},[v]),S=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),C=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,v(!0),p.current=0},g)},[g,v]);return d.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(Ih,{...u,children:l.jsx(h5,{scope:t,contentId:m,open:w,stateAttribute:x,trigger:f,onTriggerChange:h,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayedRef.current?C():_()},[c.isOpenDelayedRef,C,_]),onTriggerLeave:d.useCallback(()=>{y?S():(window.clearTimeout(p.current),p.current=0)},[S,y]),onOpen:_,onClose:S,disableHoverableContent:y,children:r})})};fj.displayName=Bc;var mv="TooltipTrigger",hj=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Fh(mv,r),o=Dw(mv,r),i=Lh(r),a=d.useRef(null),c=Ne(t,a,s.onTriggerChange),u=d.useRef(!1),f=d.useRef(!1),h=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(Cu,{asChild:!0,...i,children:l.jsx(ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ee(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ee(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ee(e.onBlur,s.onClose),onClick:ee(e.onClick,s.onClose)})})});hj.displayName=mv;var p5="TooltipPortal",[vZ,m5]=$h(p5,{forceMount:void 0}),Ka="TooltipContent",pj=d.forwardRef((e,t)=>{const r=m5(Ka,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Fh(Ka,e.__scopeTooltip);return l.jsx(Jt,{present:n||i.open,children:i.disableHoverableContent?l.jsx(mj,{side:s,...o,ref:t}):l.jsx(g5,{side:s,...o,ref:t})})}),g5=d.forwardRef((e,t)=>{const r=Fh(Ka,e.__scopeTooltip),n=Dw(Ka,e.__scopeTooltip),s=d.useRef(null),o=Ne(t,s),[i,a]=d.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:h}=n,m=d.useCallback(()=>{a(null),h(!1)},[h]),p=d.useCallback((y,g)=>{const b=y.currentTarget,w={x:y.clientX,y:y.clientY},v=b5(w,b.getBoundingClientRect()),x=_5(w,v),_=S5(g.getBoundingClientRect()),S=k5([...x,..._]);a(S),h(!0)},[h]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(c&&f){const y=b=>p(b,f),g=b=>p(b,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",g)}}},[c,f,p,m]),d.useEffect(()=>{if(i){const y=g=>{const b=g.target,w={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),x=!C5(w,i);v?m():x&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,i,u,m]),l.jsx(mj,{...e,ref:o})}),[v5,y5]=$h(Bc,{isInside:!1}),w5=tE("TooltipContent"),mj=d.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=Fh(Ka,r),u=Lh(r),{onClose:f}=c;return d.useEffect(()=>(document.addEventListener(pv,f),()=>document.removeEventListener(pv,f)),[f]),d.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),l.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:l.jsxs(Dh,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(w5,{children:n}),l.jsx(v5,{scope:r,isInside:!0,children:l.jsx(iM,{id:c.contentId,role:"tooltip",children:s||n})})]})})});pj.displayName=Ka;var gj="TooltipArrow",x5=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Lh(r);return y5(gj,r).isInside?null:l.jsx(Mh,{...s,...n,ref:t})});x5.displayName=gj;function b5(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _5(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function S5(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function C5(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,f=a.y,h=c.x,m=c.y;f>n!=m>n&&r<(h-u)*(n-f)/(m-f)+u&&(s=!s)}return s}function k5(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),E5(t)}function E5(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var j5=dj,N5=fj,R5=hj,vj=pj;const yj=j5,T5=N5,P5=R5,wj=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(vj,{ref:n,sideOffset:t,className:B("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));wj.displayName=vj.displayName;var il=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},di=typeof window>"u"||"Deno"in globalThis;function sr(){}function A5(e,t){return typeof e=="function"?e(t):e}function gv(e){return typeof e=="number"&&e>=0&&e!==1/0}function xj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function to(e,t){return typeof e=="function"?e(t):e}function Kr(e,t){return typeof e=="function"?e(t):e}function x0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==Mw(i,t.options))return!1}else if(!zc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function b0(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(fi(t.options.mutationKey)!==fi(o))return!1}else if(!zc(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Mw(e,t){return((t==null?void 0:t.queryKeyHashFn)||fi)(e)}function fi(e){return JSON.stringify(e,(t,r)=>vv(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function zc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>zc(e[r],t[r])):!1}function bj(e,t){if(e===t)return e;const r=_0(e)&&_0(t);if(r||vv(e)&&vv(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<i;f++){const h=r?f:o[f];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,u++):(a[h]=bj(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&u++)}return s===i&&u===s?e:a}return t}function Pf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vv(e){if(!S0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!S0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function S0(e){return Object.prototype.toString.call(e)==="[object Object]"}function O5(e){return new Promise(t=>{setTimeout(t,e)})}function yv(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?bj(e,t):t}function I5(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function D5(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var $w=Symbol();function _j(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$w?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Sj(e,t){return typeof e=="function"?e(...t):!!e}var Go,Os,Ea,RS,M5=(RS=class extends il{constructor(){super();ve(this,Go);ve(this,Os);ve(this,Ea);le(this,Ea,t=>{if(!di&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,Os)||this.setEventListener(N(this,Ea))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Os))==null||t.call(this),le(this,Os,void 0))}setEventListener(t){var r;le(this,Ea,t),(r=N(this,Os))==null||r.call(this),le(this,Os,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,Go)!==t&&(le(this,Go,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,Go)=="boolean"?N(this,Go):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Go=new WeakMap,Os=new WeakMap,Ea=new WeakMap,RS),Lw=new M5,ja,Is,Na,TS,$5=(TS=class extends il{constructor(){super();ve(this,ja,!0);ve(this,Is);ve(this,Na);le(this,Na,t=>{if(!di&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,Is)||this.setEventListener(N(this,Na))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Is))==null||t.call(this),le(this,Is,void 0))}setEventListener(t){var r;le(this,Na,t),(r=N(this,Is))==null||r.call(this),le(this,Is,t(this.setOnline.bind(this)))}setOnline(t){N(this,ja)!==t&&(le(this,ja,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,ja)}},ja=new WeakMap,Is=new WeakMap,Na=new WeakMap,TS),Af=new $5;function wv(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function L5(e){return Math.min(1e3*2**e,3e4)}function Cj(e){return(e??"online")==="online"?Af.isOnline():!0}var kj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dm(e){return e instanceof kj}function Ej(e){let t=!1,r=0,n=!1,s;const o=wv(),i=g=>{var b;n||(m(new kj(g)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Lw.isFocused()&&(e.networkMode==="always"||Af.isOnline())&&e.canRun(),f=()=>Cj(e.networkMode)&&e.canRun(),h=g=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),o.resolve(g))},m=g=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var b;s=w=>{(n||u())&&g(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(n)return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{var C;if(n)return;const v=e.retry??(di?0:3),x=e.retryDelay??L5,_=typeof x=="function"?x(r,w):x,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,w);if(t||!S){m(w);return}r++,(C=e.onFail)==null||C.call(e,r,w),O5(_).then(()=>u()?void 0:p()).then(()=>{t?m(w):y()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?y():p().then(y),o)}}var F5=e=>setTimeout(e,0);function U5(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=F5;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Rt=U5(),qo,PS,jj=(PS=class{constructor(){ve(this,qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gv(this.gcTime)&&le(this,qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(di?1/0:5*60*1e3))}clearGcTimeout(){N(this,qo)&&(clearTimeout(N(this,qo)),le(this,qo,void 0))}},qo=new WeakMap,PS),Ra,Yo,Hr,Zo,qt,hu,Qo,dn,Hn,AS,B5=(AS=class extends jj{constructor(t){super();ve(this,dn);ve(this,Ra);ve(this,Yo);ve(this,Hr);ve(this,Zo);ve(this,qt);ve(this,hu);ve(this,Qo);le(this,Qo,!1),le(this,hu,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Zo,t.client),le(this,Hr,N(this,Zo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,Ra,z5(this.options)),this.state=t.state??N(this,Ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,qt))==null?void 0:t.promise}setOptions(t){this.options={...N(this,hu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Hr).remove(this)}setData(t,r){const n=yv(this.state.data,t,this.options);return Ae(this,dn,Hn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ae(this,dn,Hn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=N(this,qt))==null?void 0:n.promise;return(s=N(this,qt))==null||s.cancel(t),r?r.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Ra))}isActive(){return this.observers.some(t=>Kr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$w||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>to(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!xj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,qt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,qt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,Hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,qt)&&(N(this,Qo)?N(this,qt).cancel({revert:!0}):N(this,qt).cancelRetry()),this.scheduleGc()),N(this,Hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,dn,Hn).call(this,{type:"invalidate"})}fetch(t,r){var u,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,qt))return N(this,qt).continueRetry(),N(this,qt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,Qo,!0),n.signal)})},o=()=>{const m=_j(this.options,r),y=(()=>{const g={client:N(this,Zo),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return le(this,Qo,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,Zo),state:this.state,fetchFn:o};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(a,this),le(this,Yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ae(this,dn,Hn).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,y,g,b;dm(m)&&m.silent||Ae(this,dn,Hn).call(this,{type:"error",error:m}),dm(m)||((y=(p=N(this,Hr).config).onError)==null||y.call(p,m,this),(b=(g=N(this,Hr).config).onSettled)==null||b.call(g,this.state.data,m,this)),this.scheduleGc()};return le(this,qt,Ej({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,y,g,b;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(y=(p=N(this,Hr).config).onSuccess)==null||y.call(p,m,this),(b=(g=N(this,Hr).config).onSettled)==null||b.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{Ae(this,dn,Hn).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Ae(this,dn,Hn).call(this,{type:"pause"})},onContinue:()=>{Ae(this,dn,Hn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),N(this,qt).start()}},Ra=new WeakMap,Yo=new WeakMap,Hr=new WeakMap,Zo=new WeakMap,qt=new WeakMap,hu=new WeakMap,Qo=new WeakMap,dn=new WeakSet,Hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Nj(n.data,this.options),fetchMeta:t.meta??null};case"success":return le(this,Yo,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return dm(s)&&s.revert&&N(this,Yo)?{...N(this,Yo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,Hr).notify({query:this,type:"updated",action:t})})},AS);function Nj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function z5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nn,OS,V5=(OS=class extends il{constructor(t={}){super();ve(this,Nn);this.config=t,le(this,Nn,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Mw(s,r);let i=this.get(o);return i||(i=new B5({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){N(this,Nn).has(t.queryHash)||(N(this,Nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,Nn).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,Nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Nn).get(t)}getAll(){return[...N(this,Nn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>x0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>x0(t,n)):r}notify(t){Rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nn=new WeakMap,OS),Rn,tr,Jo,Tn,Ss,IS,W5=(IS=class extends jj{constructor(t){super();ve(this,Tn);ve(this,Rn);ve(this,tr);ve(this,Jo);this.mutationId=t.mutationId,le(this,tr,t.mutationCache),le(this,Rn,[]),this.state=t.state||Rj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Rn).includes(t)||(N(this,Rn).push(t),this.clearGcTimeout(),N(this,tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,Rn,N(this,Rn).filter(r=>r!==t)),this.scheduleGc(),N(this,tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Rn).length||(this.state.status==="pending"?this.scheduleGc():N(this,tr).remove(this))}continue(){var t;return((t=N(this,Jo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,c,u,f,h,m,p,y,g,b,w,v,x,_,S,C,k,E;const r=()=>{Ae(this,Tn,Ss).call(this,{type:"continue"})};le(this,Jo,Ej({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Ae(this,Tn,Ss).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Ae(this,Tn,Ss).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,tr).canRun(this)}));const n=this.state.status==="pending",s=!N(this,Jo).canStart();try{if(n)r();else{Ae(this,Tn,Ss).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=N(this,tr).config).onMutate)==null?void 0:i.call(o,t,this));const O=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));O!==this.state.context&&Ae(this,Tn,Ss).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const P=await N(this,Jo).start();return await((f=(u=N(this,tr).config).onSuccess)==null?void 0:f.call(u,P,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,t,this.state.context)),await((y=(p=N(this,tr).config).onSettled)==null?void 0:y.call(p,P,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,P,null,t,this.state.context)),Ae(this,Tn,Ss).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(w=N(this,tr).config).onError)==null?void 0:v.call(w,P,t,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,P,t,this.state.context)),await((C=(S=N(this,tr).config).onSettled)==null?void 0:C.call(S,void 0,P,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,P,t,this.state.context)),P}finally{Ae(this,Tn,Ss).call(this,{type:"error",error:P})}}finally{N(this,tr).runNext(this)}}},Rn=new WeakMap,tr=new WeakMap,Jo=new WeakMap,Tn=new WeakSet,Ss=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rt.batch(()=>{N(this,Rn).forEach(n=>{n.onMutationUpdate(t)}),N(this,tr).notify({mutation:this,type:"updated",action:t})})},IS);function Rj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yn,fn,pu,DS,H5=(DS=class extends il{constructor(t={}){super();ve(this,Yn);ve(this,fn);ve(this,pu);this.config=t,le(this,Yn,new Set),le(this,fn,new Map),le(this,pu,0)}build(t,r,n){const s=new W5({mutationCache:this,mutationId:++Wu(this,pu)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){N(this,Yn).add(t);const r=pd(t);if(typeof r=="string"){const n=N(this,fn).get(r);n?n.push(t):N(this,fn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Yn).delete(t)){const r=pd(t);if(typeof r=="string"){const n=N(this,fn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&N(this,fn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=pd(t);if(typeof r=="string"){const n=N(this,fn).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=pd(t);if(typeof r=="string"){const s=(n=N(this,fn).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rt.batch(()=>{N(this,Yn).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Yn).clear(),N(this,fn).clear()})}getAll(){return Array.from(N(this,Yn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>b0(r,n))}findAll(t={}){return this.getAll().filter(r=>b0(t,r))}notify(t){Rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Rt.batch(()=>Promise.all(t.map(r=>r.continue().catch(sr))))}},Yn=new WeakMap,fn=new WeakMap,pu=new WeakMap,DS);function pd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function C0(e){return{onFetch:(t,r)=>{var f,h,m,p,y;const n=t.options,s=(m=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=_j(t.options,t.fetchOptions),v=async(x,_,S)=>{if(g)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return b(M),M})(),E=await w(k),{maxPages:P}=t.options,O=S?D5:I5;return{pages:O(x.pages,E,P),pageParams:O(x.pageParams,_,P)}};if(s&&o.length){const x=s==="backward",_=x?K5:k0,S={pages:o,pageParams:i},C=_(n,S);a=await v(S,C,x)}else{const x=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:k0(n,a);if(c>0&&_==null)break;a=await v(a,_),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function k0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function K5(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ut,Ds,Ms,Ta,Pa,$s,Aa,Oa,MS,G5=(MS=class{constructor(e={}){ve(this,ut);ve(this,Ds);ve(this,Ms);ve(this,Ta);ve(this,Pa);ve(this,$s);ve(this,Aa);ve(this,Oa);le(this,ut,e.queryCache||new V5),le(this,Ds,e.mutationCache||new H5),le(this,Ms,e.defaultOptions||{}),le(this,Ta,new Map),le(this,Pa,new Map),le(this,$s,0)}mount(){Wu(this,$s)._++,N(this,$s)===1&&(le(this,Aa,Lw.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ut).onFocus())})),le(this,Oa,Af.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ut).onOnline())})))}unmount(){var e,t;Wu(this,$s)._--,N(this,$s)===0&&((e=N(this,Aa))==null||e.call(this),le(this,Aa,void 0),(t=N(this,Oa))==null||t.call(this),le(this,Oa,void 0))}isFetching(e){return N(this,ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,Ds).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,ut).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=N(this,ut).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(to(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,ut).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=N(this,ut).get(n.queryHash),o=s==null?void 0:s.state.data,i=A5(t,o);if(i!==void 0)return N(this,ut).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Rt.batch(()=>N(this,ut).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,ut).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,ut);Rt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,ut);return Rt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Rt.batch(()=>N(this,ut).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(sr).catch(sr)}invalidateQueries(e,t={}){return Rt.batch(()=>(N(this,ut).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Rt.batch(()=>N(this,ut).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,ut).build(this,t);return r.isStaleByTime(to(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sr).catch(sr)}fetchInfiniteQuery(e){return e.behavior=C0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sr).catch(sr)}ensureInfiniteQueryData(e){return e.behavior=C0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Af.isOnline()?N(this,Ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,ut)}getMutationCache(){return N(this,Ds)}getDefaultOptions(){return N(this,Ms)}setDefaultOptions(e){le(this,Ms,e)}setQueryDefaults(e,t){N(this,Ta).set(fi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Ta).values()],r={};return t.forEach(n=>{zc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){N(this,Pa).set(fi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,Pa).values()],r={};return t.forEach(n=>{zc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Mw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$w&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,ut).clear(),N(this,Ds).clear()}},ut=new WeakMap,Ds=new WeakMap,Ms=new WeakMap,Ta=new WeakMap,Pa=new WeakMap,$s=new WeakMap,Aa=new WeakMap,Oa=new WeakMap,MS),dr,Me,mu,rr,Xo,Ia,Ls,Fs,gu,Da,Ma,ei,ti,Us,$a,Be,Jl,xv,bv,_v,Sv,Cv,kv,Ev,Tj,$S,q5=($S=class extends il{constructor(t,r){super();ve(this,Be);ve(this,dr);ve(this,Me);ve(this,mu);ve(this,rr);ve(this,Xo);ve(this,Ia);ve(this,Ls);ve(this,Fs);ve(this,gu);ve(this,Da);ve(this,Ma);ve(this,ei);ve(this,ti);ve(this,Us);ve(this,$a,new Set);this.options=r,le(this,dr,t),le(this,Fs,null),le(this,Ls,wv()),this.options.experimental_prefetchInRender||N(this,Ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Me).addObserver(this),E0(N(this,Me),this.options)?Ae(this,Be,Jl).call(this):this.updateResult(),Ae(this,Be,Sv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jv(N(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jv(N(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,Be,Cv).call(this),Ae(this,Be,kv).call(this),N(this,Me).removeObserver(this)}setOptions(t){const r=this.options,n=N(this,Me);if(this.options=N(this,dr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kr(this.options.enabled,N(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,Be,Ev).call(this),N(this,Me).setOptions(this.options),r._defaulted&&!Pf(this.options,r)&&N(this,dr).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Me),observer:this});const s=this.hasListeners();s&&j0(N(this,Me),n,this.options,r)&&Ae(this,Be,Jl).call(this),this.updateResult(),s&&(N(this,Me)!==n||Kr(this.options.enabled,N(this,Me))!==Kr(r.enabled,N(this,Me))||to(this.options.staleTime,N(this,Me))!==to(r.staleTime,N(this,Me)))&&Ae(this,Be,xv).call(this);const o=Ae(this,Be,bv).call(this);s&&(N(this,Me)!==n||Kr(this.options.enabled,N(this,Me))!==Kr(r.enabled,N(this,Me))||o!==N(this,Us))&&Ae(this,Be,_v).call(this,o)}getOptimisticResult(t){const r=N(this,dr).getQueryCache().build(N(this,dr),t),n=this.createResult(r,t);return Z5(this,n)&&(le(this,rr,n),le(this,Ia,this.options),le(this,Xo,N(this,Me).state)),n}getCurrentResult(){return N(this,rr)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){N(this,$a).add(t)}getCurrentQuery(){return N(this,Me)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,dr).defaultQueryOptions(t),n=N(this,dr).getQueryCache().build(N(this,dr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ae(this,Be,Jl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,rr)))}createResult(t,r){var P;const n=N(this,Me),s=this.options,o=N(this,rr),i=N(this,Xo),a=N(this,Ia),u=t!==n?t.state:N(this,mu),{state:f}=t;let h={...f},m=!1,p;if(r._optimisticResults){const O=this.hasListeners(),M=!O&&E0(t,r),T=O&&j0(t,n,r,s);(M||T)&&(h={...h,...Nj(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:b}=h;p=h.data;let w=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let O;o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(O=o.data,w=!0):O=typeof r.placeholderData=="function"?r.placeholderData((P=N(this,Ma))==null?void 0:P.state.data,N(this,Ma)):r.placeholderData,O!==void 0&&(b="success",p=yv(o==null?void 0:o.data,O,r),m=!0)}if(r.select&&p!==void 0&&!w)if(o&&p===(i==null?void 0:i.data)&&r.select===N(this,gu))p=N(this,Da);else try{le(this,gu,r.select),p=r.select(p),p=yv(o==null?void 0:o.data,p,r),le(this,Da,p),le(this,Fs,null)}catch(O){le(this,Fs,O)}N(this,Fs)&&(y=N(this,Fs),p=N(this,Da),g=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",_=b==="error",S=x&&v,C=p!==void 0,E={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:_,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:_&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&C,isStale:Fw(t,r),refetch:this.refetch,promise:N(this,Ls),isEnabled:Kr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=F=>{E.status==="error"?F.reject(E.error):E.data!==void 0&&F.resolve(E.data)},M=()=>{const F=le(this,Ls,E.promise=wv());O(F)},T=N(this,Ls);switch(T.status){case"pending":t.queryHash===n.queryHash&&O(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&M();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&M();break}}return E}updateResult(){const t=N(this,rr),r=this.createResult(N(this,Me),this.options);if(le(this,Xo,N(this,Me).state),le(this,Ia,this.options),N(this,Xo).data!==void 0&&le(this,Ma,N(this,Me)),Pf(r,t))return;le(this,rr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!N(this,$a).size)return!0;const i=new Set(o??N(this,$a));return this.options.throwOnError&&i.add("error"),Object.keys(N(this,rr)).some(a=>{const c=a;return N(this,rr)[c]!==t[c]&&i.has(c)})};Ae(this,Be,Tj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,Be,Sv).call(this)}},dr=new WeakMap,Me=new WeakMap,mu=new WeakMap,rr=new WeakMap,Xo=new WeakMap,Ia=new WeakMap,Ls=new WeakMap,Fs=new WeakMap,gu=new WeakMap,Da=new WeakMap,Ma=new WeakMap,ei=new WeakMap,ti=new WeakMap,Us=new WeakMap,$a=new WeakMap,Be=new WeakSet,Jl=function(t){Ae(this,Be,Ev).call(this);let r=N(this,Me).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(sr)),r},xv=function(){Ae(this,Be,Cv).call(this);const t=to(this.options.staleTime,N(this,Me));if(di||N(this,rr).isStale||!gv(t))return;const n=xj(N(this,rr).dataUpdatedAt,t)+1;le(this,ei,setTimeout(()=>{N(this,rr).isStale||this.updateResult()},n))},bv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Me)):this.options.refetchInterval)??!1},_v=function(t){Ae(this,Be,kv).call(this),le(this,Us,t),!(di||Kr(this.options.enabled,N(this,Me))===!1||!gv(N(this,Us))||N(this,Us)===0)&&le(this,ti,setInterval(()=>{(this.options.refetchIntervalInBackground||Lw.isFocused())&&Ae(this,Be,Jl).call(this)},N(this,Us)))},Sv=function(){Ae(this,Be,xv).call(this),Ae(this,Be,_v).call(this,Ae(this,Be,bv).call(this))},Cv=function(){N(this,ei)&&(clearTimeout(N(this,ei)),le(this,ei,void 0))},kv=function(){N(this,ti)&&(clearInterval(N(this,ti)),le(this,ti,void 0))},Ev=function(){const t=N(this,dr).getQueryCache().build(N(this,dr),this.options);if(t===N(this,Me))return;const r=N(this,Me);le(this,Me,t),le(this,mu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Tj=function(t){Rt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,rr))}),N(this,dr).getQueryCache().notify({query:N(this,Me),type:"observerResultsUpdated"})})},$S);function Y5(e,t){return Kr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function E0(e,t){return Y5(e,t)||e.state.data!==void 0&&jv(e,t,t.refetchOnMount)}function jv(e,t,r){if(Kr(t.enabled,e)!==!1&&to(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Fw(e,t)}return!1}function j0(e,t,r,n){return(e!==t||Kr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Fw(e,r)}function Fw(e,t){return Kr(t.enabled,e)!==!1&&e.isStaleByTime(to(t.staleTime,e))}function Z5(e,t){return!Pf(e.getCurrentResult(),t)}var Bs,zs,fr,Zn,ts,Zd,Nv,LS,Q5=(LS=class extends il{constructor(r,n){super();ve(this,ts);ve(this,Bs);ve(this,zs);ve(this,fr);ve(this,Zn);le(this,Bs,r),this.setOptions(n),this.bindMethods(),Ae(this,ts,Zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=N(this,Bs).defaultMutationOptions(r),Pf(this.options,n)||N(this,Bs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,fr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&fi(n.mutationKey)!==fi(this.options.mutationKey)?this.reset():((s=N(this,fr))==null?void 0:s.state.status)==="pending"&&N(this,fr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,fr))==null||r.removeObserver(this)}onMutationUpdate(r){Ae(this,ts,Zd).call(this),Ae(this,ts,Nv).call(this,r)}getCurrentResult(){return N(this,zs)}reset(){var r;(r=N(this,fr))==null||r.removeObserver(this),le(this,fr,void 0),Ae(this,ts,Zd).call(this),Ae(this,ts,Nv).call(this)}mutate(r,n){var s;return le(this,Zn,n),(s=N(this,fr))==null||s.removeObserver(this),le(this,fr,N(this,Bs).getMutationCache().build(N(this,Bs),this.options)),N(this,fr).addObserver(this),N(this,fr).execute(r)}},Bs=new WeakMap,zs=new WeakMap,fr=new WeakMap,Zn=new WeakMap,ts=new WeakSet,Zd=function(){var n;const r=((n=N(this,fr))==null?void 0:n.state)??Rj();le(this,zs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Nv=function(r){Rt.batch(()=>{var n,s,o,i,a,c,u,f;if(N(this,Zn)&&this.hasListeners()){const h=N(this,zs).variables,m=N(this,zs).context;(r==null?void 0:r.type)==="success"?((s=(n=N(this,Zn)).onSuccess)==null||s.call(n,r.data,h,m),(i=(o=N(this,Zn)).onSettled)==null||i.call(o,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(a=N(this,Zn)).onError)==null||c.call(a,r.error,h,m),(f=(u=N(this,Zn)).onSettled)==null||f.call(u,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(N(this,zs))})})},LS),Pj=d.createContext(void 0),ku=e=>{const t=d.useContext(Pj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},J5=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Pj.Provider,{value:e,children:t})),Aj=d.createContext(!1),X5=()=>d.useContext(Aj);Aj.Provider;function e4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var t4=d.createContext(e4()),r4=()=>d.useContext(t4),n4=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},s4=e=>{d.useEffect(()=>{e.clearReset()},[e])},o4=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Sj(r,[e.error,n])),i4=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},a4=(e,t)=>e.isLoading&&e.isFetching&&!t,l4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,N0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function c4(e,t,r){var h,m,p,y,g;const n=X5(),s=r4(),o=ku(),i=o.defaultQueryOptions(e);(m=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,i),i._optimisticResults=n?"isRestoring":"optimistic",i4(i),n4(i,s),s4(s);const a=!o.getQueryCache().get(i.queryHash),[c]=d.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),f=!n&&e.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(b=>{const w=f?c.subscribe(Rt.batchCalls(b)):sr;return c.updateResult(),w},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(i)},[i,c]),l4(i,u))throw N0(i,c,s);if(o4({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((y=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,i,u),i.experimental_prefetchInRender&&!di&&a4(u,n)){const b=a?N0(i,c,s):(g=o.getQueryCache().get(i.queryHash))==null?void 0:g.promise;b==null||b.catch(sr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Uw(e,t){return c4(e,q5)}function la(e,t){const r=ku(),[n]=d.useState(()=>new Q5(r,e));d.useEffect(()=>{n.setOptions(e)},[n,e]);const s=d.useSyncExternalStore(d.useCallback(i=>n.subscribe(Rt.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=d.useCallback((i,a)=>{n.mutate(i,a).catch(sr)},[n]);if(s.error&&Sj(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}var Hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hs||(Hs={}));const R0="popstate";function u4(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return Rv("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Of(s)}return f4(t,r,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d4(){return Math.random().toString(36).substr(2,8)}function T0(e,t){return{usr:e.state,key:e.key,idx:t}}function Rv(e,t,r,n){return r===void 0&&(r=null),Vc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?al(t):t,{state:r,key:t&&t.key||n||d4()})}function Of(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function f4(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Hs.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Vc({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function h(){a=Hs.Pop;let b=f(),w=b==null?null:b-u;u=b,c&&c({action:a,location:g.location,delta:w})}function m(b,w){a=Hs.Push;let v=Rv(g.location,b,w);u=f()+1;let x=T0(v,u),_=g.createHref(v);try{i.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&c&&c({action:a,location:g.location,delta:1})}function p(b,w){a=Hs.Replace;let v=Rv(g.location,b,w);u=f();let x=T0(v,u),_=g.createHref(v);i.replaceState(x,"",_),o&&c&&c({action:a,location:g.location,delta:0})}function y(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Of(b);return v=v.replace(/ $/,"%20"),ot(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(R0,h),c=b,()=>{s.removeEventListener(R0,h),c=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(b){return i.go(b)}};return g}var P0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(P0||(P0={}));function h4(e,t,r){return r===void 0&&(r="/"),p4(e,t,r,!1)}function p4(e,t,r,n){let s=typeof t=="string"?al(t):t,o=Ga(s.pathname||"/",r);if(o==null)return null;let i=Ij(e);m4(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=E4(o);a=C4(i[c],u,n)}return a}function Ij(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ro([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ij(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:_4(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Dj(o.path))s(o,i,c)}),t}function Dj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Dj(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function m4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:S4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const g4=/^:[\w-]+$/,v4=3,y4=2,w4=1,x4=10,b4=-2,A0=e=>e==="*";function _4(e,t){let r=e.split("/"),n=r.length;return r.some(A0)&&(n+=b4),t&&(n+=y4),r.filter(s=>!A0(s)).reduce((s,o)=>s+(g4.test(o)?v4:o===""?w4:x4),n)}function S4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function C4(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=If({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=If({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:ro([o,h.pathname]),pathnameBase:T4(ro([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=ro([o,h.pathnameBase]))}return i}function If(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=k4(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=a[h]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function k4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Oj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function E4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ga(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function j4(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?al(e):e;return{pathname:r?r.startsWith("/")?r:N4(r,t):t,search:P4(n),hash:A4(s)}}function N4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function fm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bw(e,t){let r=R4(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zw(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=al(e):(s=Vc({},e),ot(!s.pathname||!s.pathname.includes("?"),fm("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),fm("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),fm("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?t[h]:"/"}let c=j4(s,a),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const ro=e=>e.join("/").replace(/\/\/+/g,"/"),T4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mj=["post","put","patch","delete"];new Set(Mj);const I4=["get",...Mj];new Set(I4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}const Uh=d.createContext(null),$j=d.createContext(null),hs=d.createContext(null),Bh=d.createContext(null),wo=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Lj=d.createContext(null);function D4(e,t){let{relative:r}=t===void 0?{}:t;ll()||ot(!1);let{basename:n,navigator:s}=d.useContext(hs),{hash:o,pathname:i,search:a}=zh(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ro([n,i])),s.createHref({pathname:c,search:a,hash:o})}function ll(){return d.useContext(Bh)!=null}function xo(){return ll()||ot(!1),d.useContext(Bh).location}function Fj(e){d.useContext(hs).static||d.useLayoutEffect(e)}function cl(){let{isDataRoute:e}=d.useContext(wo);return e?q4():M4()}function M4(){ll()||ot(!1);let e=d.useContext(Uh),{basename:t,future:r,navigator:n}=d.useContext(hs),{matches:s}=d.useContext(wo),{pathname:o}=xo(),i=JSON.stringify(Bw(s,r.v7_relativeSplatPath)),a=d.useRef(!1);return Fj(()=>{a.current=!0}),d.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=zw(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ro([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,i,o,e])}function zh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=d.useContext(hs),{matches:s}=d.useContext(wo),{pathname:o}=xo(),i=JSON.stringify(Bw(s,n.v7_relativeSplatPath));return d.useMemo(()=>zw(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function $4(e,t){return L4(e,t)}function L4(e,t,r,n){ll()||ot(!1);let{navigator:s}=d.useContext(hs),{matches:o}=d.useContext(wo),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=xo(),f;if(t){var h;let b=typeof t=="string"?al(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||ot(!1),f=b}else f=u;let m=f.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=h4(e,{pathname:p}),g=V4(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ro([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ro([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&g?d.createElement(Bh.Provider,{value:{location:Wc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Hs.Pop}},g):g}function F4(){let e=G4(),t=O4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:s},r):null,null)}const U4=d.createElement(F4,null);class B4 extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?d.createElement(wo.Provider,{value:this.props.routeContext},d.createElement(Lj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z4(e){let{routeContext:t,match:r,children:n}=e,s=d.useContext(Uh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(wo.Provider,{value:t},n)}function V4(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||ot(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:p}=r,y=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let p,y=!1,g=null,b=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||U4,c&&(u<0&&m===0?(y=!0,b=null):u===m&&(y=!0,b=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),v=()=>{let x;return p?x=g:y?x=b:h.route.Component?x=d.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=f,d.createElement(z4,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?d.createElement(B4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Uj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Uj||{}),Df=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Df||{});function W4(e){let t=d.useContext(Uh);return t||ot(!1),t}function H4(e){let t=d.useContext($j);return t||ot(!1),t}function K4(e){let t=d.useContext(wo);return t||ot(!1),t}function Bj(e){let t=K4(),r=t.matches[t.matches.length-1];return r.route.id||ot(!1),r.route.id}function G4(){var e;let t=d.useContext(Lj),r=H4(Df.UseRouteError),n=Bj(Df.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function q4(){let{router:e}=W4(Uj.UseNavigateStable),t=Bj(Df.UseNavigateStable),r=d.useRef(!1);return Fj(()=>{r.current=!0}),d.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wc({fromRouteId:t},o)))},[e,t])}function Y4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hc(e){let{to:t,replace:r,state:n,relative:s}=e;ll()||ot(!1);let{future:o,static:i}=d.useContext(hs),{matches:a}=d.useContext(wo),{pathname:c}=xo(),u=cl(),f=zw(t,Bw(a,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(f);return d.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function on(e){ot(!1)}function Z4(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Hs.Pop,navigator:o,static:i=!1,future:a}=e;ll()&&ot(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:i,future:Wc({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=al(n));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:y="default"}=n,g=d.useMemo(()=>{let b=Ga(f,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:p,key:y},navigationType:s}},[c,f,h,m,p,y,s]);return g==null?null:d.createElement(hs.Provider,{value:u},d.createElement(Bh.Provider,{children:r,value:g}))}function Q4(e){let{children:t,location:r}=e;return $4(Tv(t),r)}new Promise(()=>{});function Tv(e,t){t===void 0&&(t=[]);let r=[];return d.Children.forEach(e,(n,s)=>{if(!d.isValidElement(n))return;let o=[...t,s];if(n.type===d.Fragment){r.push.apply(r,Tv(n.props.children,o));return}n.type!==on&&ot(!1),!n.props.index||!n.props.children||ot(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Tv(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}function zj(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function J4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function X4(e,t){return e.button===0&&(!t||t==="_self")&&!J4(e)}const eF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tF=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rF="6";try{window.__reactRouterVersion=rF}catch{}const nF=d.createContext({isTransitioning:!1}),sF="startTransition",O0=jy[sF];function oF(e){let{basename:t,children:r,future:n,window:s}=e,o=d.useRef();o.current==null&&(o.current=u4({window:s,v5Compat:!0}));let i=o.current,[a,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},f=d.useCallback(h=>{u&&O0?O0(()=>c(h)):c(h)},[c,u]);return d.useLayoutEffect(()=>i.listen(f),[i,f]),d.useEffect(()=>Y4(n),[n]),d.createElement(Z4,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const iF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vw=d.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,m=zj(t,eF),{basename:p}=d.useContext(hs),y,g=!1;if(typeof u=="string"&&aF.test(u)&&(y=u,iF))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=Ga(_.pathname,p);_.origin===x.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let b=D4(u,{relative:s}),w=uF(u,{replace:i,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||w(x)}return d.createElement("a",Mf({},m,{href:y||b,onClick:g||o?n:v,ref:r,target:c}))}),lF=d.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:o="",end:i=!1,style:a,to:c,viewTransition:u,children:f}=t,h=zj(t,tF),m=zh(c,{relative:h.relative}),p=xo(),y=d.useContext($j),{navigator:g,basename:b}=d.useContext(hs),w=y!=null&&dF(m)&&u===!0,v=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,x=p.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(x=x.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&b&&(_=Ga(_,b)||_);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=x===v||!i&&x.startsWith(v)&&x.charAt(S)==="/",k=_!=null&&(_===v||!i&&_.startsWith(v)&&_.charAt(v.length)==="/"),E={isActive:C,isPending:k,isTransitioning:w},P=C?n:void 0,O;typeof o=="function"?O=o(E):O=[o,C?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(E):a;return d.createElement(Vw,Mf({},h,{"aria-current":P,className:O,ref:r,style:M,to:c,viewTransition:u}),typeof f=="function"?f(E):f)});var Pv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pv||(Pv={}));var I0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function cF(e){let t=d.useContext(Uh);return t||ot(!1),t}function uF(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=cl(),u=xo(),f=zh(e,{relative:i});return d.useCallback(h=>{if(X4(h,r)){h.preventDefault();let m=n!==void 0?n:Of(u)===Of(f);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,f,n,s,r,e,o,i,a])}function dF(e,t){t===void 0&&(t={});let r=d.useContext(nF);r==null&&ot(!1);let{basename:n}=cF(Pv.useViewTransitionState),s=zh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Ga(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Ga(r.nextLocation.pathname,n)||r.nextLocation.pathname;return If(s.pathname,i)!=null||If(s.pathname,o)!=null}var An=function(){return An=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},An.apply(this,arguments)};function ul(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function fF(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function hF(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}const pF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ww extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class mF extends Ww{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class D0 extends Ww{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class M0 extends Ww{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Av;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Av||(Av={}));class gF{constructor(t,{headers:r={},customFetch:n,region:s=Av.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=pF(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return fF(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:c,body:u,signal:f,timeout:h}=n;let m={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(m["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(m["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let b=f;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),f?(b=i.signal,f.addEventListener("abort",()=>i.abort())):b=i.signal);const w=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:g,signal:b}).catch(S=>{throw new mF(S)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new D0(w);if(!w.ok)throw new M0(w);let x=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield w.json():x==="application/octet-stream"||x==="application/pdf"?_=yield w.blob():x==="text/event-stream"?_=w:x==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof M0||a instanceof D0?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var vF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},yF=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,c=null,u=o.status,f=o.statusText;if(o.ok){var h,m;if(r.method!=="HEAD"){var p;const w=await o.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const g=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,f="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,u=200,f="OK")}catch{o.status===404&&g===""?(u=204,f="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(y=i.details)===null||y===void 0)&&y.includes("0 rows"))&&(i=null,u=200,f="OK"),i&&r.shouldThrowOnError)throw new vF(i)}return{error:i,data:a,count:c,status:u,statusText:f}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="",c="",u="";const f=o==null?void 0:o.cause;if(f){var h,m,p,y;const w=(h=f==null?void 0:f.message)!==null&&h!==void 0?h:"",v=(m=f==null?void 0:f.code)!==null&&m!==void 0?m:"";a=`${(p=o==null?void 0:o.name)!==null&&p!==void 0?p:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(y=f==null?void 0:f.name)!==null&&y!==void 0?y:"Error"}: ${w}`,v&&(a+=` (${v})`),f!=null&&f.stack&&(a+=`
${f.stack}`)}else{var g;a=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}const b=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((f==null?void 0:f.name)==="HeadersOverflowError"||(f==null?void 0:f.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(c+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},wF=class extends yF{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const $0=new RegExp("[,()]");var Wi=class extends wF{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&$0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&$0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},xF=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",i),n&&c.append("Prefer",`count=${n}`),new Wi({method:s,url:a,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);o.searchParams.set("columns",c.join(","))}}return new Wi({method:s,url:o,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",f.join(","))}}return new Wi({method:i,url:a,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Wi({method:n,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Wi({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function bF(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _F(e){var t=bF(e,"string");return Kc(t)=="symbol"?t:t+""}function SF(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L0(Object(r),!0).forEach(function(n){SF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var CF=class Vj{constructor(t,{headers:r={},schema:n,fetch:s,timeout:o,urlLengthLimit:i=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=i;const a=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,u)=>{const f=new AbortController,h=setTimeout(()=>f.abort(),o),m=u==null?void 0:u.signal;if(m){if(m.aborted)return clearTimeout(h),a(c,u);const p=()=>{clearTimeout(h),f.abort()};return m.addEventListener("abort",p,{once:!0}),a(c,md(md({},u),{},{signal:f.signal})).finally(()=>{clearTimeout(h),m.removeEventListener("abort",p)})}return a(c,md(md({},u),{},{signal:f.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xF(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Vj(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const c=new URL(`${this.url}/rpc/${t}`);let u;const f=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(f)),h=n&&Object.values(r).some(f);h?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{c.searchParams.append(p,y)})):(a="POST",u=r);const m=new Headers(this.headers);return h?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new Wi({method:a,url:c,headers:m,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}};class kF{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const EF="2.94.1",jF=`realtime-js/${EF}`,NF="1.0.0",Wj="2.0.0",F0=Wj,Ov=1e4,RF=1e3,TF=100;var js;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(js||(js={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pn||(pn={}));var Iv;(function(e){e.websocket="websocket"})(Iv||(Iv={}));var Do;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Do||(Do={}));class PF{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(f).length===0?"":JSON.stringify(f);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+i.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(p),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,a.length),y.setUint8(g++,i.length),y.setUint8(g++,u.length),y.setUint8(g++,h.length),y.setUint8(g++,r),Array.from(c,w=>y.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>y.setUint8(g++,w.charCodeAt(0))),Array.from(i,w=>y.setUint8(g++,w.charCodeAt(0))),Array.from(u,w=>y.setUint8(g++,w.charCodeAt(0))),Array.from(h,w=>y.setUint8(g++,w.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,a,c]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+o));c=c+o;const h=n.decode(t.slice(c,c+i));c=c+i;const m=t.slice(c,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,y={type:this.BROADCAST_EVENT,event:f,payload:p};return i>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Hj{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const U0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=AF(i,e,t,s),o),{}):{}},AF=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Kj(o,i):Dv(i)},Kj=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return MF(t,r)}switch(e){case Ye.bool:return OF(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return IF(t);case Ye.json:case Ye.jsonb:return DF(t);case Ye.timestamp:return $F(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return Dv(t);default:return Dv(t)}},Dv=e=>e,OF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},MF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Kj(t,a))}return e},$F=e=>typeof e=="string"?e.replace(" ","T"):e,Gj=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hm{constructor(t,r,n={},s=Ov){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var B0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(B0||(B0={}));class hc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hc.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=hc.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hc.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const h=o[u];if(h){const m=f.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),y=f.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>m.indexOf(b.presence_ref)<0);y.length>0&&(a[u]=y),g.length>0&&(c[u]=g)}else a[u]=f}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const f=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),f.length>0){const h=t[a].map(p=>p.presence_ref),m=f.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...m)}n(a,f,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(z0||(z0={}));var pc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pc||(pc={}));var Gn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class ca{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hm(this,pn.join,this.params,this.timeout),this.rejoinTimer=new Hj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new hc(this),this.broadcastEndpointURL=Gj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[pc.PRESENCE]&&this.bindings[pc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Gn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Gn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Gn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,w=[];for(let v=0;v<b;v++){const x=g[v],{filter:{event:_,schema:S,table:C,filter:k}}=x,E=p&&p[v];if(E&&E.event===_&&ca.isFilterValueEqual(E.schema,S)&&ca.isFilterValueEqual(E.table,C)&&ca.isFilterValueEqual(E.filter,k))w.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Gn.SUBSCRIBED);return}}).receive("error",p=>{this.state=kt.errored,t==null||t(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===kt.joined&&t===pc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new hm(this,pn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hm(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>TF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:f}=pn;if(n&&[a,c,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,g,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var y,g,b,w,v,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:g,table:b,commit_timestamp:w,type:v,errors:x}=y;m=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:w,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(y))}p.callback(m,n)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&ca.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pn.close,{},t)}_onError(t){this._on(pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=U0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=U0(t.columns,t.old_record)),r}}const pm=()=>{},gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LF=[1e3,2e3,5e3,1e4],FF=1e4,UF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BF{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ov,this.transport=null,this.heartbeatIntervalMs=gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pm,this.ref=0,this.reconnectTimer=null,this.vsn=F0,this.logger=pm,this.conn=null,this.sendBuffer=[],this.serializer=new PF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Iv.websocket}`,this.httpEndpoint=Gj(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return Do.Connecting;case js.open:return Do.Open;case js.closing:return Do.Closing;default:return Do.Closed}}isConnected(){return this.connectionState()===Do.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new ca(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===js.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===js.open||this.conn.readyState===js.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([UF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:jF};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Hj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,c,u,f,h,m,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ov,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:gd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:pm,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:F0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>LF[y-1]||FF,this.vsn){case NF:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(y,g)=>g(JSON.stringify(y)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(y,g)=>g(JSON.parse(y));break;case Wj:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Gc=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zF(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function VF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function WF(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=zF(e.baseUrl,n,s),c=await VF(e.auth),u=await t(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),f=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&f?JSON.parse(f):f;if(!u.ok){const p=h?m:void 0,y=p==null?void 0:p.error;throw new Gc((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:m}}}}function vd(e){return e.join("")}var HF=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vd(e.namespace)}`}),!0}catch(t){if(t instanceof Gc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Gc&&r.status===409)return;throw r}}};function Ai(e){return e.join("")}var KF=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ai(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ai(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ai(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ai(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ai(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ai(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Gc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Gc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},GF=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=WF({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new HF(this.client,t),this.tableOps=new KF(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Vh=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Wh(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var yd=class extends Vh{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qj=class extends Vh{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const qF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Mv=e=>{if(Array.isArray(e))return e.map(r=>Mv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Mv(n)}),t},ZF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function QF(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JF(e){var t=QF(e,"string");return qc(t)=="symbol"?t:t+""}function XF(e,t,r){return(t=JF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(r),!0).forEach(function(n){XF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const W0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},e3=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||o+"";t(new yd(W0(i),o,a,n))}).catch(()=>{if(n==="vectors"){const i=o+"";t(new yd(s.statusText||`HTTP ${o} error`,o,i,n))}else{const i=o+"";t(new yd(s.statusText||`HTTP ${o} error`,o,i,n))}});else{const i=o+"";t(new yd(s.statusText||`HTTP ${o} error`,o,i,n))}}else t(new qj(W0(e),e,n))},t3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?be(be({},s),r):(YF(n)?(s.headers=be({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),be(be({},s),r))};async function Bl(e,t,r,n,s,o,i){return new Promise((a,c)=>{e(r,t3(t,n,s,o)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(i==="vectors"){const f=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!f||!f.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>e3(u,c,n,i))})}function Yj(e="storage"){return{get:async(t,r,n,s)=>Bl(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,o)=>Bl(t,"POST",r,s,o,n,e),put:async(t,r,n,s,o)=>Bl(t,"PUT",r,s,o,n,e),head:async(t,r,n,s)=>Bl(t,"HEAD",r,be(be({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,o)=>Bl(t,"DELETE",r,s,o,n,e)}}const r3=Yj("storage"),{get:Yc,post:un,put:$v,head:n3,remove:Hw}=r3,Tr=Yj("vectors");var dl=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=qF(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wh(r))return{data:null,error:r};throw r}}},s3=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wh(t))return{data:null,error:t};throw t}}};let Zj;Zj=Symbol.toStringTag;var o3=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Zj]="BlobDownloadBuilder",this.promise=null}asStream(){return new s3(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wh(t))return{data:null,error:t};throw t}}};const i3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},H0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var a3=class extends dl{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let o;const i=be(be({},H0),n);let a=be(be({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=be(be({},a),n.headers));const u=s._removeEmptyFolders(t),f=s._getFinalPath(u),h=await(e=="PUT"?$v:un)(s.fetch,`${s.url}/object/${f}`,o,be({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=be({upsert:H0.upsert},n),f=be(be({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType),{path:o,fullPath:(await $v(s.fetch,a.toString(),c,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=be({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await un(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new Vh("No token returned by API");return{signedUrl:i.toString(),path:e,token:a}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await un(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await un(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),o=await un(n.fetch,`${n.url}/object/sign/${s}`,be({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await un(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(i=>be(be({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e),i=()=>Yc(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new o3(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Mv(await Yc(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await n3(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wh(n)&&n instanceof qj){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Hw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=be(be(be({},i3),t),{},{prefix:e||""});return await un(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=be({},e);return await un(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const l3="2.94.1",Eu={"X-Client-Info":`storage-js/${l3}`};var c3=class extends dl{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),i=be(be({},Eu),t);super(o,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Yc(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Yc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await un(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await $v(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await un(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Hw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},u3=class extends dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=be(be({},Eu),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await un(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Yc(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Hw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!ZF(e))throw new Vh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new GF({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},d3=class extends dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=be(be({},Eu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Tr.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Tr.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},f3=class extends dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=be(be({},Eu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},h3=class extends dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=be(be({},Eu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},p3=class extends h3{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new m3(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},m3=class extends d3{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,be(be({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,be(be({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new g3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},g3=class extends f3{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,be(be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,be(be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,be(be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,be(be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,be(be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},v3=class extends c3{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new a3(this.url,this.headers,e,this.fetch)}get vectors(){return new p3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new u3(this.url+"/iceberg",this.headers,this.fetch)}};const Qj="2.94.1",Hi=30*1e3,Lv=3,mm=Lv*Hi,y3="http://localhost:9999",w3="supabase.auth.token",x3={"X-Client-Info":`gotrue-js/${Qj}`},Fv="X-Supabase-Api-Version",Jj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_3=10*60*1e3;class Zc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class S3 extends Zc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function C3(e){return me(e)&&e.name==="AuthApiError"}class Mo extends Zc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ps extends Zc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Er extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gm(e){return me(e)&&e.name==="AuthSessionMissingError"}class Oi extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wd extends ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xd extends ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k3(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class K0 extends ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class E3 extends ps{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Uv extends ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vm(e){return me(e)&&e.name==="AuthRetryableFetchError"}class G0 extends ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bv extends ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),q0=` 	
\r=`.split(""),j3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<q0.length;t+=1)e[q0[t].charCodeAt(0)]=-2;for(let t=0;t<$f.length;t+=1)e[$f[t].charCodeAt(0)]=t;return e})();function Y0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($f[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($f[n]),t.queuedBits-=6}}function Xj(e,t,r){const n=j3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Z0(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{T3(i,n,r)};for(let i=0;i<e.length;i+=1)Xj(e.charCodeAt(i),s,o);return t.join("")}function N3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}N3(n,t)}}function T3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xa(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Xj(e.charCodeAt(s),r,n);return new Uint8Array(t)}function P3(e){const t=[];return R3(e,r=>t.push(r)),new Uint8Array(t)}function Uo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Y0(s,r,n)),Y0(null,r,n),t.join("")}function A3(e){return Math.round(Date.now()/1e3)+e}function O3(){return Symbol("auth-callback")}const Bt=()=>typeof window<"u"&&typeof document<"u",Ro={tested:!1,writable:!1},eN=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ro.tested)return Ro.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ro.tested=!0,Ro.writable=!0}catch{Ro.tested=!0,Ro.writable=!1}return Ro.writable};function I3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const tN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ki=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},To=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ut=async(e,t)=>{await e.removeItem(t)};class Hh{constructor(){this.promise=new Hh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Hh.promiseConstructor=Promise;function bd(e){const t=e.split(".");if(t.length!==3)throw new Bv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!b3.test(t[n]))throw new Bv("JWT not in base64url format");return{header:JSON.parse(Z0(t[0])),payload:JSON.parse(Z0(t[1])),signature:xa(t[2]),raw:{header:t[0],payload:t[1]}}}async function M3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $3(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function L3(e){return("0"+e.toString(16)).substr(-2)}function F3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,L3).join("")}async function U3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function B3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await U3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ii(e,t,r=!1){const n=F3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ki(e,`${t}-code-verifier`,s);const o=await B3(n);return[o,n===o?"plain":"s256"]}const z3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V3(e){const t=e.headers.get(Fv);if(!t||!t.match(z3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function H3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const K3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(e){if(!K3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ym(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G3(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Q0(e){return JSON.parse(JSON.stringify(e))}const Oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),q3=[502,503,504];async function J0(e){var t;if(!D3(e))throw new Uv(Oo(e),0);if(q3.includes(e.status))throw new Uv(Oo(e),e.status);let r;try{r=await e.json()}catch(o){throw new Mo(Oo(o),o)}let n;const s=V3(e);if(s&&s.getTime()>=Jj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G0(Oo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new G0(Oo(r),e.status,r.weak_password.reasons);throw new S3(Oo(r),e.status||500,n)}const Y3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function xe(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Fv]||(o[Fv]=Jj["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Z3(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Z3(e,t,r,n,s,o){const i=Y3(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Uv(Oo(c),0)}if(a.ok||await J0(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await J0(c)}}function an(e){var t;let r=null;X3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=A3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function X0(e){const t=an(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function As(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Q3(e){return{data:e,error:null}}function J3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=ul(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function e_(e){return e}function X3(e){return e.access_token&&e.refresh_token&&e.expires_in}const wm=["global","local","others"];class e6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=wm[0]){if(wm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wm.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:As})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ul(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:J3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:As})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:e_});if(f.error)throw f.error;const h=await f.json(),m=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Di(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:As})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Di(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:As})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Di(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:As})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Di(t.userId);try{const{data:r,error:n}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Di(t.userId),Di(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:e_});if(f.error)throw f.error;const h=await f.json(),m=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(me(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}}function t_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Mi={debug:!!(globalThis&&eN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t6 extends rN{}async function r6(e,t,r){Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function n6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function s6(e){return parseInt(e,16)}function o6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function i6(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:u,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=nN(e.address),y=f?`${f}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}w+=v}return`${b}
${w}`}class wt extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Lf extends wt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function a6({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new wt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(sN(i)){if(o.rp.id!==i)return new wt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function l6({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new wt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(sN(n)){if(r.rpId!==n)return new wt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class c6{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const u6=new c6;function d6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ul(e,["challenge","user","excludeCredentials"]),o=xa(t).buffer,i=Object.assign(Object.assign({},r),{id:xa(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:xa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function f6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ul(e,["challenge","allowCredentials"]),s=xa(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:xa(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function h6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Uo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Uo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Uo(new Uint8Array(s.authenticatorData)),clientDataJSON:Uo(new Uint8Array(s.clientDataJSON)),signature:Uo(new Uint8Array(s.signature)),userHandle:s.userHandle?Uo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function r_(){var e,t;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function m6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",t)}:{data:null,error:new Lf("Empty credential response",t)}}catch(t){return{data:null,error:a6({error:t,options:e})}}}async function g6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",t)}:{data:null,error:new Lf("Empty credential response",t)}}catch(t){return{data:null,error:l6({error:t,options:e})}}}const v6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},y6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ff(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=Ff(a,i):n[o]=Ff(i)}else n[o]=i}return n}function w6(e,t){return Ff(v6,e,t||{})}function x6(e,t){return Ff(y6,e,t||{})}class b6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){var i;try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:c};const u=s??u6.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;if(!f.name){const h=n;if(h)f.name=`${f.id}:${h}`;else{const p=(await this.client.getUser()).data.user,y=((i=p==null?void 0:p.user_metadata)===null||i===void 0?void 0:i.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";f.name=`${f.id}:${y}`}}f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=w6(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await m6({publicKey:f,signal:u});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=x6(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await g6(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:u}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(a){return me(a)?{data:null,error:a}:{data:null,error:new Mo("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Zc("rpId is required for WebAuthn authentication")};try{if(!r_())return{data:null,error:new Mo("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new Mo("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Zc("rpId is required for WebAuthn registration")};try{if(!r_())return{data:null,error:new Mo("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new Mo("Unexpected error in register",i)}}}}n6();const _6={url:y3,storageKey:w3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function n_(e,t,r){return await r()}const $i={};class Qc{get jwks(){var t,r;return(r=(t=$i[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$i[this.storageKey]=Object.assign(Object.assign({},$i[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$i[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$i[this.storageKey]=Object.assign(Object.assign({},$i[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},_6),t);if(this.storageKey=o.storageKey,this.instanceID=(r=Qc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Bt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new e6({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=tN(o.fetch),this.lock=o.lock||n_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Bt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=r6:this.lock=n_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new b6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:eN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=t_(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qj}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Bt()&&(r=I3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Bt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),k3(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?this._returnResult({error:r}):this._returnResult({error:new Mo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:an}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:f,password:h,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ii(this.storage,this.storageKey)),o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},xform:an})}else if("phone"in t){const{phone:f,password:h,options:m}=t;o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:an})}else throw new wd("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await Ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:X0})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:X0})}else throw new wd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Oi;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,c,u,f,h,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:g,wallet:b,statement:w,options:v}=t;let x;if(Bt())if(typeof b=="object")x=b;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=nN(S[0]);let k=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const P=await x.request({method:"eth_chainId"});k=s6(P)}const E={domain:_.host,address:C,statement:w,uri:_.href,version:"1",chainId:k,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=v==null?void 0:v.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=i6(E),y=await x.request({method:"personal_sign",params:[o6(p),C]})}try{const{data:g,error:b}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:an});if(b)throw b;if(!g||!g.session||!g.user){const w=new Oi;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(me(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,o,i,a,c,u,f,h,m,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:b,wallet:w,statement:v,options:x}=t;let _;if(Bt())if(typeof w=="object")_=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(f=x==null?void 0:x.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:b,error:w}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Uo(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:an});if(w)throw w;if(!b||!b.session||!b.user){const v=new Oi;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(me(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await To(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new E3;const{data:o,error:i}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:an});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Oi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:an}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const f=new Oi;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ii(this.storage,this.storageKey));const{error:h}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:f}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new wd("You must provide either an email or phone number.")}catch(a){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:an});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Ii(this.storage,this.storageKey));const u=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:Q3});return!((o=u.data)===null||o===void 0)&&o.url&&Bt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Er;const{error:s}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new wd("You must provide either an email or phone number and a type")}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await To(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=ym()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=G3(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:As}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Er}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:As})})}catch(r){if(me(r))return gm(r)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Er;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Ii(this.storage,this.storageKey));const{data:u,error:f}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:As});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),me(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Er;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=bd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Er;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Bt())throw new xd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new K0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new K0("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new xd("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let m=f+h;c&&(m=parseInt(c));const p=m-f;p*1e3<=Hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=m-h;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,f);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o&&!gm(o))return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(C3(a)&&(a.status===404||a.status===401||a.status===403)||gm(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=O3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ii(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,f;const{data:h,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Bt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(me(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:u,nonce:f}=t,h=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:an}),{data:m,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Oi}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $3(async s=>(s>0&&await M3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:an})),(s,o)=>{const i=200*Math.pow(2,s);return o&&vm(o)&&Date.now()+i-n<Hi})}catch(n){if(this._debug(r,"error",n),me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await To(this.storage,this.storageKey);if(s&&this.userStorage){let i=await To(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Ki(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:ym()}else if(s&&!s.user&&!s.user){const i=await To(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Ut(this.storage,this.storageKey+"-user"),await Ki(this.storage,this.storageKey,s)):s.user=ym()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mm;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${mm}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),vm(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Er;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),me(o)){const i={data:null,error:o};return vm(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ut(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ki(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Q0(s);await Ki(this.storage,this.storageKey,o)}else{const s=Q0(r);await Ki(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hi}ms, refresh threshold is ${Lv} ticks`),s<=Lv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ii(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?h6(t.webauthn.credential_response):p6(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d6(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f6(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,o;if(t)try{const{payload:p}=bd(t);let y=null;p.aal&&(y=p.aal);let g=y;const{data:{user:b},error:w}=await this.getUser(t);if(w)return this._returnResult({data:null,error:w});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const x=p.amr||[];return{data:{currentLevel:y,nextLevel:g,currentAuthenticationMethods:x},error:null}}catch(p){if(me(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=bd(i.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((o=(s=i.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Er})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Er});const i=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Bt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Er});const i=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Bt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Er})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Er})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+_3>s)return n;const{data:o,error:i}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=bd(n);r!=null&&r.allowExpired||W3(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const f=H3(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,i,P3(`${a}.${c}`)))throw new Bv("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}}Qc.nextInstanceID={};const S6=Qc,C6="2.94.1";let Xl="";typeof Deno<"u"?Xl="deno":typeof document<"u"?Xl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xl="react-native":Xl="node";const k6={"X-Client-Info":`supabase-js-${Xl}/${C6}`},E6={headers:k6},j6={schema:"public"},N6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R6={};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function T6(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P6(e){var t=T6(e,"string");return Jc(t)=="symbol"?t:t+""}function A6(e,t,r){return(t=P6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){A6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const O6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),I6=()=>Headers,D6=(e,t,r)=>{const n=O6(r),s=I6();return async(o,i)=>{var a;const c=(a=await t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,dt(dt({},i),{},{headers:u}))}};function M6(e){return e.endsWith("/")?e:e+"/"}function $6(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:dt(dt({},c),s),auth:dt(dt({},u),o),realtime:dt(dt({},f),i),storage:{},global:dt(dt(dt({},h),a),{},{headers:dt(dt({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function L6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(M6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var F6=class extends S6{constructor(e){super(e)}},U6=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=L6(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:j6,realtime:R6,auth:dt(dt({},N6),{},{storageKey:i}),global:E6},c=$6(r??{},a);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=D6(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(dt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new CF(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new v3(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new gF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:c,throwOnError:u},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F6({url:this.authUrl.href,headers:dt(dt({},m),f),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BF(this.realtimeUrl.href,dt(dt({},e),{},{params:dt(dt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const B6=(e,t,r)=>new U6(e,t,r);function z6(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}z6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const V6="https://fdhvbedllcittetawrvt.supabase.co",W6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkaHZiZWRsbGNpdHRldGF3cnZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwNzYzNjksImV4cCI6MjA4NTY1MjM2OX0.A5gAAs7uKGzTsdreFUXLFQ9x7RWqNv1RVcfChKrSpvE",we=B6(V6,W6,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),oN=d.createContext(void 0),H6=({children:e})=>{const[t,r]=d.useState(null),[n,s]=d.useState(null),[o,i]=d.useState(!0);d.useEffect(()=>{const{data:{subscription:f}}=we.auth.onAuthStateChange((h,m)=>{r(m),s((m==null?void 0:m.user)??null),i(!1)});return we.auth.getSession().then(({data:{session:h}})=>{r(h),s((h==null?void 0:h.user)??null),i(!1)}),()=>f.unsubscribe()},[]);const a=async(f,h,m)=>{const{error:p}=await we.auth.signUp({email:f,password:h,options:{emailRedirectTo:window.location.origin,data:{full_name:m}}});return{error:p}},c=async(f,h)=>{const{error:m}=await we.auth.signInWithPassword({email:f,password:h});return{error:m}},u=async()=>{await we.auth.signOut()};return l.jsx(oN.Provider,{value:{session:t,user:n,loading:o,signUp:a,signIn:c,signOut:u},children:e})},Ot=()=>{const e=d.useContext(oN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},zv=[{name:"Moharram",arabic:""},{name:"Safar",arabic:""},{name:"Rabiul Awwal",arabic:" "},{name:"Rabiul Akhar",arabic:" "},{name:"Jamadal Ula",arabic:" "},{name:"Jamadal Ukra",arabic:" "},{name:"Rajab",arabic:""},{name:"Shaban Karim",arabic:""},{name:"Ramadan",arabic:""},{name:"Shawwal Mukarram",arabic:""},{name:"Zilqad",arabic:" "},{name:"Zilhaj",arabic:" "}],K6=[30,29,30,29,30,29,30,29,30,29,30,29],G6=[2,5,8,10,13,16,19,21,24,27,29],q6=1948439,o_=10631,Y6=30;function iN(e){const r=((e-Math.round(e/30)*30)%30+30)%30;return G6.includes(r)}function Uf(e,t){return e===12&&iN(t)?30:K6[e-1]}function i_(e){return iN(e)?355:354}function Z6(e,t,r){const n=Math.floor((14-t)/12),s=e+4800-n,o=t+12*n-3;return r+Math.floor((153*o+2)/5)+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)-32045}function Q6(e){let t=e-q6;if(t<0)return Wv(1,1,1);const r=Math.floor(t/o_);t-=r*o_;let n=r*Y6+1;for(;t>=i_(n);)t-=i_(n),n++;let s=1;for(;s<12&&t>=Uf(s,n);)t-=Uf(s,n),s++;const o=t+1;return Wv(o,s,n)}function ba(e,t){let r,n,s;if(t){const a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",timeZone:t}).formatToParts(e);r=parseInt(a.find(c=>c.type==="year").value),n=parseInt(a.find(c=>c.type==="month").value),s=parseInt(a.find(c=>c.type==="day").value)}else r=e.getFullYear(),n=e.getMonth()+1,s=e.getDate();const o=Z6(r,n,s);return Q6(o)}function Vv(e){const t=Uf(e.month,e.year);let r=e.day+1,n=e.month,s=e.year;return r>t&&(r=1,n+=1,n>12&&(n=1,s+=1)),Wv(r,n,s)}function J6(e,t,r){var c,u;const[n,s]=t.split(":").map(Number);let o,i;if(r){const h=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!1,timeZone:r}).formatToParts(e);o=parseInt(((c=h.find(m=>m.type==="hour"))==null?void 0:c.value)||"0"),i=parseInt(((u=h.find(m=>m.type==="minute"))==null?void 0:u.value)||"0")}else o=e.getHours(),i=e.getMinutes();return o*60+i>=n*60+s||o<4}function Wv(e,t,r){var n,s;return{day:e,month:t,year:r,monthName:((n=zv[t-1])==null?void 0:n.name)||"",monthNameArabic:((s=zv[t-1])==null?void 0:s.arabic)||""}}function aN(e,t="long"){switch(t){case"short":return`${e.day}/${e.month}/${e.year}`;case"arabic":return`${e.day} ${e.monthNameArabic} ${e.year}`;case"long":default:return`${e.day} ${e.monthName} ${e.year}`}}function mc(e){return`${e.year}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function X6(e,t="long"){return t==="short"?e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}function Hv(e,t=!1){const r=zv[e-1];return t?(r==null?void 0:r.arabic)||"":(r==null?void 0:r.name)||""}const lN="adat_prayer_times_cache",eU=24*60*60*1e3;function tU(e,t){try{const r=localStorage.getItem(lN);if(!r)return null;const n=JSON.parse(r),s=n.date===e,o=Math.abs(n.location.latitude-t.latitude)<.01&&Math.abs(n.location.longitude-t.longitude)<.01,i=n.timezone===t.timezone,a=Date.now()-n.fetchedAt<eU;return s&&o&&i&&a?{timings:n.timings,hijri:n.hijri}:null}catch{return null}}function rU(e,t,r,n){try{const s={date:e,location:{latitude:t.latitude,longitude:t.longitude},timezone:t.timezone,timings:r,hijri:n,fetchedAt:Date.now()};localStorage.setItem(lN,JSON.stringify(s))}catch{}}function nU(e){const t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getFullYear();return`${t}-${r}-${n}`}function sU(e){return e.toISOString().split("T")[0]}async function cN(e,t,r=1){const n=nU(e),s=sU(e),o=tU(s,t);if(o)return o;const i=new URL("https://api.aladhan.com/v1/timings/"+n);i.searchParams.set("latitude",t.latitude.toString()),i.searchParams.set("longitude",t.longitude.toString()),i.searchParams.set("method",r.toString()),t.timezone&&i.searchParams.set("timezone",t.timezone);const a=await fetch(i.toString());if(!a.ok)throw new Error(`Failed to fetch prayer times: ${a.statusText}`);const c=await a.json(),u=c.data.timings,f=c.data.date.hijri,h={day:parseInt(f.day,10),month:f.month.number,monthNameEn:f.month.en,monthNameAr:f.month.ar,year:parseInt(f.year,10)};return rU(s,t,u,h),{timings:u,hijri:h}}async function oU(e,t,r=1){return(await cN(e,t,r)).timings}function iU(){return new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(r=>{const n=Intl.DateTimeFormat().resolvedOptions().timeZone;e({latitude:r.coords.latitude,longitude:r.coords.longitude,timezone:n})},r=>{t(new Error(`Failed to get location: ${r.message}`))},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})})}const _d={latitude:21.4225,longitude:39.8262,city:"Mecca",timezone:"Asia/Riyadh"},uN=d.createContext(void 0);function aU({children:e}){const{user:t}=Ot(),[r,n]=d.useState(null),[s,o]=d.useState(null),[i,a]=d.useState(null),[c,u]=d.useState(!0),[f,h]=d.useState(null),m=d.useCallback(async()=>{if(!t){o(_d);return}try{const{data:b,error:w}=await we.from("profiles").select("latitude, longitude, city, timezone").eq("id",t.id).maybeSingle();if(w){console.error("Error fetching profile location:",w),o(_d);return}if(b!=null&&b.latitude&&(b!=null&&b.longitude)){let v=b.timezone;v||(v=Intl.DateTimeFormat().resolvedOptions().timeZone,we.from("profiles").update({timezone:v}).eq("id",t.id).then(({error:x})=>{x&&console.error("Failed to backfill timezone:",x)})),o({latitude:b.latitude,longitude:b.longitude,city:b.city||void 0,timezone:v})}else o(_d)}catch(b){console.error("Failed to load user location:",b),o(_d)}},[t]),p=d.useCallback(async b=>{if(o(b),t)try{await we.from("profiles").update({latitude:b.latitude,longitude:b.longitude,city:b.city||null,timezone:b.timezone||null}).eq("id",t.id)}catch(w){console.error("Failed to save location:",w)}},[t]),y=d.useCallback(async()=>{try{u(!0);const b=await iU();await p(b)}catch(b){h(b instanceof Error?b.message:"Failed to get location")}finally{u(!1)}},[p]),g=d.useCallback(async()=>{var b;if(s)try{u(!0),h(null);const w=new Date,{timings:v}=await cN(w,s),x=v.Maghrib.split(" ")[0];a(x);const _=J6(w,x,s.timezone);let S=w;if(_){let P;if(s.timezone){const M=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1,timeZone:s.timezone}).formatToParts(w);P=parseInt(((b=M.find(T=>T.type==="hour"))==null?void 0:b.value)||"0")}else P=w.getHours();P<4&&(S=new Date(w),S.setDate(S.getDate()-1))}const C=ba(S,s.timezone),k=Vv(C);n({gregorian:w,hijri:_?k:C,preMaghribHijri:C,postMaghribHijri:k,isAfterMaghrib:_})}catch(w){console.error("Failed to refresh date:",w),h(w instanceof Error?w.message:"Failed to fetch prayer times");const v=new Date,x=ba(v,s==null?void 0:s.timezone),_=Vv(x);n({gregorian:v,hijri:x,preMaghribHijri:x,postMaghribHijri:_,isAfterMaghrib:!1})}finally{u(!1)}},[s]);return d.useEffect(()=>{m()},[m]),d.useEffect(()=>{s&&g()},[s,g]),d.useEffect(()=>{const b=setInterval(()=>{s&&g()},6e4);return()=>clearInterval(b)},[s,g]),l.jsx(uN.Provider,{value:{currentDate:r,location:s,maghribTime:i,isLoading:c,error:f,refreshDate:g,setLocation:p,requestLocationPermission:y},children:e})}function Sr(){const e=d.useContext(uN);if(e===void 0)throw new Error("useCalendar must be used within a CalendarProvider");return e}const zl=({children:e})=>{const{user:t,loading:r}=Ot(),n=xo();return r?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-foreground border-t-transparent"})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(Hc,{to:"/auth",state:{from:n},replace:!0})},xm=768;function ms(){const[e,t]=d.useState(void 0);return d.useEffect(()=>{const r=window.matchMedia(`(max-width: ${xm-1}px)`),n=()=>{t(window.innerWidth<xm)};return r.addEventListener("change",n),t(window.innerWidth<xm),()=>r.removeEventListener("change",n)},[]),!!e}const Je=L.createContext({});var lU=Object.defineProperty,a_=Object.getOwnPropertySymbols,cU=Object.prototype.hasOwnProperty,uU=Object.prototype.propertyIsEnumerable,l_=(e,t,r)=>t in e?lU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bm=(e,t)=>{for(var r in t||(t={}))cU.call(t,r)&&l_(e,r,t[r]);if(a_)for(var r of a_(t))uU.call(t,r)&&l_(e,r,t[r]);return e};const dU=(e,t)=>{const r=d.useContext(Je),n=bm(bm({},r),e);return d.createElement("svg",bm({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M8 12H17M8 12L6 10H2L4 12L2 14H6L8 12ZM17 12L15 10M17 12L15 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M16 22.5C18.7614 22.5 21 17.799 21 12C21 6.20101 18.7614 1.5 16 1.5C13.2386 1.5 11 6.20101 11 12C11 17.799 13.2386 22.5 16 22.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},fU=d.forwardRef(dU);var Xc=fU,hU=Object.defineProperty,c_=Object.getOwnPropertySymbols,pU=Object.prototype.hasOwnProperty,mU=Object.prototype.propertyIsEnumerable,u_=(e,t,r)=>t in e?hU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_m=(e,t)=>{for(var r in t||(t={}))pU.call(t,r)&&u_(e,r,t[r]);if(c_)for(var r of c_(t))mU.call(t,r)&&u_(e,r,t[r]);return e};const gU=(e,t)=>{const r=d.useContext(Je),n=_m(_m({},r),e);return d.createElement("svg",_m({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},vU=d.forwardRef(gU);var yU=vU,wU=Object.defineProperty,d_=Object.getOwnPropertySymbols,xU=Object.prototype.hasOwnProperty,bU=Object.prototype.propertyIsEnumerable,f_=(e,t,r)=>t in e?wU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sm=(e,t)=>{for(var r in t||(t={}))xU.call(t,r)&&f_(e,r,t[r]);if(d_)for(var r of d_(t))bU.call(t,r)&&f_(e,r,t[r]);return e};const _U=(e,t)=>{const r=d.useContext(Je),n=Sm(Sm({},r),e);return d.createElement("svg",Sm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M15 4V2M15 4V6M15 4H10.5M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10H3Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M3 10V6C3 4.89543 3.89543 4 5 4H7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M7 2V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M21 10V6C21 4.89543 20.1046 4 19 4H18.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},SU=d.forwardRef(_U);var CU=SU,kU=Object.defineProperty,h_=Object.getOwnPropertySymbols,EU=Object.prototype.hasOwnProperty,jU=Object.prototype.propertyIsEnumerable,p_=(e,t,r)=>t in e?kU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cm=(e,t)=>{for(var r in t||(t={}))EU.call(t,r)&&p_(e,r,t[r]);if(h_)for(var r of h_(t))jU.call(t,r)&&p_(e,r,t[r]);return e};const NU=(e,t)=>{const r=d.useContext(Je),n=Cm(Cm({},r),e);return d.createElement("svg",Cm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M5 13L9 17L19 7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},RU=d.forwardRef(NU);var fl=RU,TU=Object.defineProperty,m_=Object.getOwnPropertySymbols,PU=Object.prototype.hasOwnProperty,AU=Object.prototype.propertyIsEnumerable,g_=(e,t,r)=>t in e?TU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,km=(e,t)=>{for(var r in t||(t={}))PU.call(t,r)&&g_(e,r,t[r]);if(m_)for(var r of m_(t))AU.call(t,r)&&g_(e,r,t[r]);return e};const OU=(e,t)=>{const r=d.useContext(Je),n=km(km({},r),e);return d.createElement("svg",km({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M12 6L12 12L18 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},IU=d.forwardRef(OU);var eu=IU,DU=Object.defineProperty,v_=Object.getOwnPropertySymbols,MU=Object.prototype.hasOwnProperty,$U=Object.prototype.propertyIsEnumerable,y_=(e,t,r)=>t in e?DU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Em=(e,t)=>{for(var r in t||(t={}))MU.call(t,r)&&y_(e,r,t[r]);if(v_)for(var r of v_(t))$U.call(t,r)&&y_(e,r,t[r]);return e};const LU=(e,t)=>{const r=d.useContext(Je),n=Em(Em({},r),e);return d.createElement("svg",Em({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M7 18V17C7 14.2386 9.23858 12 12 12V12C14.7614 12 17 14.2386 17 17V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M1 18V17C1 15.3431 2.34315 14 4 14V14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M23 18V17C23 15.3431 21.6569 14 20 14V14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M4 14C5.10457 14 6 13.1046 6 12C6 10.8954 5.10457 10 4 10C2.89543 10 2 10.8954 2 12C2 13.1046 2.89543 14 4 14Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M20 14C21.1046 14 22 13.1046 22 12C22 10.8954 21.1046 10 20 10C18.8954 10 18 10.8954 18 12C18 13.1046 18.8954 14 20 14Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},FU=d.forwardRef(LU);var UU=FU,BU=Object.defineProperty,w_=Object.getOwnPropertySymbols,zU=Object.prototype.hasOwnProperty,VU=Object.prototype.propertyIsEnumerable,x_=(e,t,r)=>t in e?BU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jm=(e,t)=>{for(var r in t||(t={}))zU.call(t,r)&&x_(e,r,t[r]);if(w_)for(var r of w_(t))VU.call(t,r)&&x_(e,r,t[r]);return e};const WU=(e,t)=>{const r=d.useContext(Je),n=jm(jm({},r),e);return d.createElement("svg",jm({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M14.3632 5.65156L15.8431 4.17157C16.6242 3.39052 17.8905 3.39052 18.6716 4.17157L20.0858 5.58579C20.8668 6.36683 20.8668 7.63316 20.0858 8.41421L18.6058 9.8942M14.3632 5.65156L4.74749 15.2672C4.41542 15.5993 4.21079 16.0376 4.16947 16.5054L3.92738 19.2459C3.87261 19.8659 4.39148 20.3848 5.0115 20.33L7.75191 20.0879C8.21972 20.0466 8.65806 19.8419 8.99013 19.5099L18.6058 9.8942M14.3632 5.65156L18.6058 9.8942",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},HU=d.forwardRef(WU);var KU=HU,GU=Object.defineProperty,b_=Object.getOwnPropertySymbols,qU=Object.prototype.hasOwnProperty,YU=Object.prototype.propertyIsEnumerable,__=(e,t,r)=>t in e?GU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nm=(e,t)=>{for(var r in t||(t={}))qU.call(t,r)&&__(e,r,t[r]);if(b_)for(var r of b_(t))YU.call(t,r)&&__(e,r,t[r]);return e};const ZU=(e,t)=>{const r=d.useContext(Je),n=Nm(Nm({},r),e);return d.createElement("svg",Nm({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M19.5 16L17.0248 12.6038",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 17.5V14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M4.5 16L6.96895 12.6124",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M3 8C6.6 16 17.4 16 21 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},QU=d.forwardRef(ZU);var JU=QU,XU=Object.defineProperty,S_=Object.getOwnPropertySymbols,e8=Object.prototype.hasOwnProperty,t8=Object.prototype.propertyIsEnumerable,C_=(e,t,r)=>t in e?XU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rm=(e,t)=>{for(var r in t||(t={}))e8.call(t,r)&&C_(e,r,t[r]);if(S_)for(var r of S_(t))t8.call(t,r)&&C_(e,r,t[r]);return e};const r8=(e,t)=>{const r=d.useContext(Je),n=Rm(Rm({},r),e);return d.createElement("svg",Rm({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M3 13C6.6 5 17.4 5 21 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},n8=d.forwardRef(r8);var s8=n8,o8=Object.defineProperty,k_=Object.getOwnPropertySymbols,i8=Object.prototype.hasOwnProperty,a8=Object.prototype.propertyIsEnumerable,E_=(e,t,r)=>t in e?o8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Tm=(e,t)=>{for(var r in t||(t={}))i8.call(t,r)&&E_(e,r,t[r]);if(k_)for(var r of k_(t))a8.call(t,r)&&E_(e,r,t[r]);return e};const l8=(e,t)=>{const r=d.useContext(Je),n=Tm(Tm({},r),e);return d.createElement("svg",Tm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M3 19V5C3 3.89543 3.89543 3 5 3H16.1716C16.702 3 17.2107 3.21071 17.5858 3.58579L20.4142 6.41421C20.7893 6.78929 21 7.29799 21 7.82843V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19Z",stroke:"currentColor"}),d.createElement("path",{d:"M8.6 9H15.4C15.7314 9 16 8.73137 16 8.4V3.6C16 3.26863 15.7314 3 15.4 3H8.6C8.26863 3 8 3.26863 8 3.6V8.4C8 8.73137 8.26863 9 8.6 9Z",stroke:"currentColor"}),d.createElement("path",{d:"M6 13.6V21H18V13.6C18 13.2686 17.7314 13 17.4 13H6.6C6.26863 13 6 13.2686 6 13.6Z",stroke:"currentColor"}))},c8=d.forwardRef(l8);var u8=c8,d8=Object.defineProperty,j_=Object.getOwnPropertySymbols,f8=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable,N_=(e,t,r)=>t in e?d8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pm=(e,t)=>{for(var r in t||(t={}))f8.call(t,r)&&N_(e,r,t[r]);if(j_)for(var r of j_(t))h8.call(t,r)&&N_(e,r,t[r]);return e};const p8=(e,t)=>{const r=d.useContext(Je),n=Pm(Pm({},r),e);return d.createElement("svg",Pm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M3 11.5066C3 16.7497 7.25034 21 12.4934 21C16.2209 21 19.4466 18.8518 21 15.7259C12.4934 15.7259 8.27411 11.5066 8.27411 3C5.14821 4.55344 3 7.77915 3 11.5066Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},m8=d.forwardRef(p8);var si=m8,g8=Object.defineProperty,R_=Object.getOwnPropertySymbols,v8=Object.prototype.hasOwnProperty,y8=Object.prototype.propertyIsEnumerable,T_=(e,t,r)=>t in e?g8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Am=(e,t)=>{for(var r in t||(t={}))v8.call(t,r)&&T_(e,r,t[r]);if(R_)for(var r of R_(t))y8.call(t,r)&&T_(e,r,t[r]);return e};const w8=(e,t)=>{const r=d.useContext(Je),n=Am(Am({},r),e);return d.createElement("svg",Am({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},x8=d.forwardRef(w8);var dN=x8,b8=Object.defineProperty,P_=Object.getOwnPropertySymbols,_8=Object.prototype.hasOwnProperty,S8=Object.prototype.propertyIsEnumerable,A_=(e,t,r)=>t in e?b8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Om=(e,t)=>{for(var r in t||(t={}))_8.call(t,r)&&A_(e,r,t[r]);if(P_)for(var r of P_(t))S8.call(t,r)&&A_(e,r,t[r]);return e};const C8=(e,t)=>{const r=d.useContext(Je),n=Om(Om({},r),e);return d.createElement("svg",Om({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M12 12H19M19 12L16 15M19 12L16 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M19 6V5C19 3.89543 18.1046 3 17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},k8=d.forwardRef(C8);var fN=k8,E8=Object.defineProperty,O_=Object.getOwnPropertySymbols,j8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,I_=(e,t,r)=>t in e?E8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Im=(e,t)=>{for(var r in t||(t={}))j8.call(t,r)&&I_(e,r,t[r]);if(O_)for(var r of O_(t))N8.call(t,r)&&I_(e,r,t[r]);return e};const R8=(e,t)=>{const r=d.useContext(Je),n=Im(Im({},r),e);return d.createElement("svg",Im({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M20 10C20 14.4183 12 22 12 22C12 22 4 14.4183 4 10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10Z",stroke:"currentColor"}),d.createElement("path",{d:"M12 11C12.5523 11 13 10.5523 13 10C13 9.44772 12.5523 9 12 9C11.4477 9 11 9.44772 11 10C11 10.5523 11.4477 11 12 11Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},T8=d.forwardRef(R8);var Kw=T8,P8=Object.defineProperty,D_=Object.getOwnPropertySymbols,A8=Object.prototype.hasOwnProperty,O8=Object.prototype.propertyIsEnumerable,M_=(e,t,r)=>t in e?P8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dm=(e,t)=>{for(var r in t||(t={}))A8.call(t,r)&&M_(e,r,t[r]);if(D_)for(var r of D_(t))O8.call(t,r)&&M_(e,r,t[r]);return e};const I8=(e,t)=>{const r=d.useContext(Je),n=Dm(Dm({},r),e);return d.createElement("svg",Dm({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M20 12.5C20.2761 12.5 20.5 12.2761 20.5 12C20.5 11.7239 20.2761 11.5 20 11.5C19.7239 11.5 19.5 11.7239 19.5 12C19.5 12.2761 19.7239 12.5 20 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 12.5C12.2761 12.5 12.5 12.2761 12.5 12C12.5 11.7239 12.2761 11.5 12 11.5C11.7239 11.5 11.5 11.7239 11.5 12C11.5 12.2761 11.7239 12.5 12 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M4 12.5C4.27614 12.5 4.5 12.2761 4.5 12C4.5 11.7239 4.27614 11.5 4 11.5C3.72386 11.5 3.5 11.7239 3.5 12C3.5 12.2761 3.72386 12.5 4 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},D8=d.forwardRef(I8);var M8=D8,$8=Object.defineProperty,$_=Object.getOwnPropertySymbols,L8=Object.prototype.hasOwnProperty,F8=Object.prototype.propertyIsEnumerable,L_=(e,t,r)=>t in e?$8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mm=(e,t)=>{for(var r in t||(t={}))L8.call(t,r)&&L_(e,r,t[r]);if($_)for(var r of $_(t))F8.call(t,r)&&L_(e,r,t[r]);return e};const U8=(e,t)=>{const r=d.useContext(Je),n=Mm(Mm({},r),e);return d.createElement("svg",Mm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},B8=d.forwardRef(U8);var z8=B8,V8=Object.defineProperty,F_=Object.getOwnPropertySymbols,W8=Object.prototype.hasOwnProperty,H8=Object.prototype.propertyIsEnumerable,U_=(e,t,r)=>t in e?V8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$m=(e,t)=>{for(var r in t||(t={}))W8.call(t,r)&&U_(e,r,t[r]);if(F_)for(var r of F_(t))H8.call(t,r)&&U_(e,r,t[r]);return e};const K8=(e,t)=>{const r=d.useContext(Je),n=$m($m({},r),e);return d.createElement("svg",$m({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M15 6L9 12L15 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},G8=d.forwardRef(K8);var B_=G8,q8=Object.defineProperty,z_=Object.getOwnPropertySymbols,Y8=Object.prototype.hasOwnProperty,Z8=Object.prototype.propertyIsEnumerable,V_=(e,t,r)=>t in e?q8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lm=(e,t)=>{for(var r in t||(t={}))Y8.call(t,r)&&V_(e,r,t[r]);if(z_)for(var r of z_(t))Z8.call(t,r)&&V_(e,r,t[r]);return e};const Q8=(e,t)=>{const r=d.useContext(Je),n=Lm(Lm({},r),e);return d.createElement("svg",Lm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M9 6L15 12L9 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},J8=d.forwardRef(Q8);var W_=J8,X8=Object.defineProperty,H_=Object.getOwnPropertySymbols,eB=Object.prototype.hasOwnProperty,tB=Object.prototype.propertyIsEnumerable,K_=(e,t,r)=>t in e?X8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fm=(e,t)=>{for(var r in t||(t={}))eB.call(t,r)&&K_(e,r,t[r]);if(H_)for(var r of H_(t))tB.call(t,r)&&K_(e,r,t[r]);return e};const rB=(e,t)=>{const r=d.useContext(Je),n=Fm(Fm({},r),e);return d.createElement("svg",Fm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},nB=d.forwardRef(rB);var gc=nB,sB=Object.defineProperty,G_=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,iB=Object.prototype.propertyIsEnumerable,q_=(e,t,r)=>t in e?sB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Um=(e,t)=>{for(var r in t||(t={}))oB.call(t,r)&&q_(e,r,t[r]);if(G_)for(var r of G_(t))iB.call(t,r)&&q_(e,r,t[r]);return e};const aB=(e,t)=>{const r=d.useContext(Je),n=Um(Um({},r),e);return d.createElement("svg",Um({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M21.8883 13.5C21.1645 18.3113 17.013 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C16.1006 2 19.6248 4.46819 21.1679 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M17 8H21.4C21.7314 8 22 7.73137 22 7.4V3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},lB=d.forwardRef(aB);var tu=lB,cB=Object.defineProperty,Y_=Object.getOwnPropertySymbols,uB=Object.prototype.hasOwnProperty,dB=Object.prototype.propertyIsEnumerable,Z_=(e,t,r)=>t in e?cB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Bm=(e,t)=>{for(var r in t||(t={}))uB.call(t,r)&&Z_(e,r,t[r]);if(Y_)for(var r of Y_(t))dB.call(t,r)&&Z_(e,r,t[r]);return e};const fB=(e,t)=>{const r=d.useContext(Je),n=Bm(Bm({},r),e);return d.createElement("svg",Bm({width:"1.5em",strokeWidth:1.5,height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M19 21L5 21C3.89543 21 3 20.1046 3 19L3 5C3 3.89543 3.89543 3 5 3L19 3C20.1046 3 21 3.89543 21 5L21 19C21 20.1046 20.1046 21 19 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M7.25 10L5.5 12L7.25 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M9.5 21V3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},hB=d.forwardRef(fB);var pB=hB,mB=Object.defineProperty,Q_=Object.getOwnPropertySymbols,gB=Object.prototype.hasOwnProperty,vB=Object.prototype.propertyIsEnumerable,J_=(e,t,r)=>t in e?mB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zm=(e,t)=>{for(var r in t||(t={}))gB.call(t,r)&&J_(e,r,t[r]);if(Q_)for(var r of Q_(t))vB.call(t,r)&&J_(e,r,t[r]);return e};const yB=(e,t)=>{const r=d.useContext(Je),n=zm(zm({},r),e);return d.createElement("svg",zm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M22 12L23 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 2V1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 23V22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M20 20L19 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M20 4L19 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M4 20L5 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M4 4L5 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M1 12L2 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},wB=d.forwardRef(yB);var _a=wB,xB=Object.defineProperty,X_=Object.getOwnPropertySymbols,bB=Object.prototype.hasOwnProperty,_B=Object.prototype.propertyIsEnumerable,e1=(e,t,r)=>t in e?xB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vm=(e,t)=>{for(var r in t||(t={}))bB.call(t,r)&&e1(e,r,t[r]);if(X_)for(var r of X_(t))_B.call(t,r)&&e1(e,r,t[r]);return e};const SB=(e,t)=>{const r=d.useContext(Je),n=Vm(Vm({},r),e);return d.createElement("svg",Vm({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},CB=d.forwardRef(SB);var kB=CB,EB=Object.defineProperty,t1=Object.getOwnPropertySymbols,jB=Object.prototype.hasOwnProperty,NB=Object.prototype.propertyIsEnumerable,r1=(e,t,r)=>t in e?EB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wm=(e,t)=>{for(var r in t||(t={}))jB.call(t,r)&&r1(e,r,t[r]);if(t1)for(var r of t1(t))NB.call(t,r)&&r1(e,r,t[r]);return e};const RB=(e,t)=>{const r=d.useContext(Je),n=Wm(Wm({},r),e);return d.createElement("svg",Wm({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M4.5 8C8.5 8 11 8 15 8C15 8 15 8 15 8C15 8 20 8 20 12.7059C20 18 15 18 15 18C11.5714 18 9.71429 18 6.28571 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M7.5 11.5C6.13317 10.1332 5.36683 9.36683 4 8C5.36683 6.63317 6.13317 5.86683 7.5 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},TB=d.forwardRef(RB);var PB=TB,AB=Object.defineProperty,n1=Object.getOwnPropertySymbols,OB=Object.prototype.hasOwnProperty,IB=Object.prototype.propertyIsEnumerable,s1=(e,t,r)=>t in e?AB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hm=(e,t)=>{for(var r in t||(t={}))OB.call(t,r)&&s1(e,r,t[r]);if(n1)for(var r of n1(t))IB.call(t,r)&&s1(e,r,t[r]);return e};const DB=(e,t)=>{const r=d.useContext(Je),n=Hm(Hm({},r),e);return d.createElement("svg",Hm({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M5 20V19C5 15.134 8.13401 12 12 12V12C15.866 12 19 15.134 19 19V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},MB=d.forwardRef(DB);var Gw=MB,$B=Object.defineProperty,o1=Object.getOwnPropertySymbols,LB=Object.prototype.hasOwnProperty,FB=Object.prototype.propertyIsEnumerable,i1=(e,t,r)=>t in e?$B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Km=(e,t)=>{for(var r in t||(t={}))LB.call(t,r)&&i1(e,r,t[r]);if(o1)for(var r of o1(t))FB.call(t,r)&&i1(e,r,t[r]);return e};const UB=(e,t)=>{const r=d.useContext(Je),n=Km(Km({},r),e);return d.createElement("svg",Km({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},n),d.createElement("path",{d:"M12 7L12 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 17.01L12.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},BB=d.forwardRef(UB);var hN=BB;const qw=ki("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=d.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Si:"button";return l.jsx(i,{className:B(qw({variant:t,size:r,className:e})),ref:o,...s})});Pe.displayName="Button";const Qe=d.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:B("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Qe.displayName="Input";var zB="Separator",a1="horizontal",VB=["horizontal","vertical"],pN=d.forwardRef((e,t)=>{const{decorative:r,orientation:n=a1,...s}=e,o=WB(n)?n:a1,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(ie.div,{"data-orientation":o,...a,...s,ref:t})});pN.displayName=zB;function WB(e){return VB.includes(e)}var mN=pN;const gN=d.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(mN,{ref:s,decorative:r,orientation:t,className:B("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));gN.displayName=mN.displayName;var Gm="focusScope.autoFocusOnMount",qm="focusScope.autoFocusOnUnmount",l1={bubbles:!1,cancelable:!0},HB="FocusScope",ju=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=d.useState(null),u=_r(s),f=_r(o),h=d.useRef(null),m=Ne(t,g=>c(g)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let g=function(x){if(p.paused||!a)return;const _=x.target;a.contains(_)?h.current=_:Cs(h.current,{select:!0})},b=function(x){if(p.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||Cs(h.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Cs(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[n,a,p.paused]),d.useEffect(()=>{if(a){u1.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(Gm,l1);a.addEventListener(Gm,u),a.dispatchEvent(w),w.defaultPrevented||(KB(QB(vN(a)),{select:!0}),document.activeElement===g&&Cs(a))}return()=>{a.removeEventListener(Gm,u),setTimeout(()=>{const w=new CustomEvent(qm,l1);a.addEventListener(qm,f),a.dispatchEvent(w),w.defaultPrevented||Cs(g??document.body,{select:!0}),a.removeEventListener(qm,f),u1.remove(p)},0)}}},[a,u,f,p]);const y=d.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(b&&w){const v=g.currentTarget,[x,_]=GB(v);x&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&Cs(x,{select:!0})):g.shiftKey&&w===x&&(g.preventDefault(),r&&Cs(_,{select:!0})):w===v&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(ie.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});ju.displayName=HB;function KB(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cs(n,{select:t}),document.activeElement!==r)return}function GB(e){const t=vN(e),r=c1(t,e),n=c1(t.reverse(),e);return[r,n]}function vN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function c1(e,t){for(const r of e)if(!qB(r,{upTo:t}))return r}function qB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function YB(e){return e instanceof HTMLInputElement&&"select"in e}function Cs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&YB(e)&&t&&e.select()}}var u1=ZB();function ZB(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=d1(e,t),e.unshift(t)},remove(t){var r;e=d1(e,t),(r=e[0])==null||r.resume()}}}function d1(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function QB(e){return e.filter(t=>t.tagName!=="A")}var Ym=0;function Kh(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??f1()),document.body.insertAdjacentElement("beforeend",e[1]??f1()),Ym++,()=>{Ym===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ym--}},[])}function f1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qd="right-scroll-bar-position",Jd="width-before-scroll-bar",JB="with-scroll-bars-hidden",XB="--removed-body-scroll-bar-size";function Zm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ez(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var tz=typeof window<"u"?d.useLayoutEffect:d.useEffect,h1=new WeakMap;function rz(e,t){var r=ez(null,function(n){return e.forEach(function(s){return Zm(s,n)})});return tz(function(){var n=h1.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||Zm(a,null)}),o.forEach(function(a){s.has(a)||Zm(a,i)})}h1.set(r,e)},[e]),r}function nz(e){return e}function sz(e,t){t===void 0&&(t=nz);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return s}function oz(e){e===void 0&&(e={});var t=sz(null);return t.options=An({async:!0,ssr:!1},e),t}var yN=function(e){var t=e.sideCar,r=ul(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,An({},r))};yN.isSideCarExport=!0;function iz(e,t){return e.useMedium(t),yN}var wN=oz(),Qm=function(){},Gh=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:Qm,onWheelCapture:Qm,onTouchMoveCapture:Qm}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,y=e.noIsolation,g=e.inert,b=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,x=e.gapMode,_=ul(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=rz([r,t]),k=An(An({},_),s);return d.createElement(d.Fragment,null,f&&d.createElement(S,{sideCar:wN,removeScrollBar:u,shards:h,noRelative:p,noIsolation:y,inert:g,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:x}),i?d.cloneElement(d.Children.only(a),An(An({},k),{ref:C})):d.createElement(v,An({},k,{className:c,ref:C}),a))});Gh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gh.classNames={fullWidth:Jd,zeroRight:Qd};var az=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=az();return t&&e.setAttribute("nonce",t),e}function cz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dz=function(){var e=0,t=null;return{add:function(r){e==0&&(t=lz())&&(cz(t,r),uz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fz=function(){var e=dz();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xN=function(){var e=fz(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},hz={left:0,top:0,right:0,gap:0},Jm=function(e){return parseInt(e||"",10)||0},pz=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Jm(r),Jm(n),Jm(s)]},mz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hz;var t=pz(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},gz=xN(),Sa="data-scroll-locked",vz=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(JB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Sa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qd,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Jd,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Sa,`] {
    `).concat(XB,": ").concat(a,`px;
  }
`)},p1=function(){var e=parseInt(document.body.getAttribute(Sa)||"0",10);return isFinite(e)?e:0},yz=function(){d.useEffect(function(){return document.body.setAttribute(Sa,(p1()+1).toString()),function(){var e=p1()-1;e<=0?document.body.removeAttribute(Sa):document.body.setAttribute(Sa,e.toString())}},[])},wz=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;yz();var o=d.useMemo(function(){return mz(s)},[s]);return d.createElement(gz,{styles:vz(o,!t,s,r?"":"!important")})},Kv=!1;if(typeof window<"u")try{var Sd=Object.defineProperty({},"passive",{get:function(){return Kv=!0,!0}});window.addEventListener("test",Sd,Sd),window.removeEventListener("test",Sd,Sd)}catch{Kv=!1}var Li=Kv?{passive:!1}:!1,xz=function(e){return e.tagName==="TEXTAREA"},bN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xz(e)&&r[t]==="visible")},bz=function(e){return bN(e,"overflowY")},_z=function(e){return bN(e,"overflowX")},m1=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=_N(e,n);if(s){var o=SN(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Sz=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Cz=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},_N=function(e,t){return e==="v"?bz(t):_z(t)},SN=function(e,t){return e==="v"?Sz(t):Cz(t)},kz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ez=function(e,t,r,n,s){var o=kz(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,f=i>0,h=0,m=0;do{if(!a)break;var p=SN(e,a),y=p[0],g=p[1],b=p[2],w=g-b-o*y;(y||w)&&_N(e,a)&&(h+=w,m+=y);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(u=!0),u},Cd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},g1=function(e){return[e.deltaX,e.deltaY]},v1=function(e){return e&&"current"in e?e.current:e},jz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Nz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Rz=0,Fi=[];function Tz(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(Rz++)[0],o=d.useState(xN)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=hF([e.lockRef.current],(e.shards||[]).map(v1),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=Cd(g),v=r.current,x="deltaX"in g?g.deltaX:v[0]-w[0],_="deltaY"in g?g.deltaY:v[1]-w[1],S,C=g.target,k=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&C.type==="range")return!1;var E=m1(k,C);if(!E)return!0;if(E?S=k:(S=k==="v"?"h":"v",E=m1(k,C)),!E)return!1;if(!n.current&&"changedTouches"in g&&(x||_)&&(n.current=S),!S)return!0;var P=n.current||S;return Ez(P,b,g,P==="h"?x:_,!0)},[]),c=d.useCallback(function(g){var b=g;if(!(!Fi.length||Fi[Fi.length-1]!==o)){var w="deltaY"in b?g1(b):Cd(b),v=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&jz(S.delta,w)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(v1).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=x.length>0?a(b,x[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(g,b,w,v){var x={name:g,delta:b,target:w,should:v,shadowParent:Pz(w)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),f=d.useCallback(function(g){r.current=Cd(g),n.current=void 0},[]),h=d.useCallback(function(g){u(g.type,g1(g),g.target,a(g,e.lockRef.current))},[]),m=d.useCallback(function(g){u(g.type,Cd(g),g.target,a(g,e.lockRef.current))},[]);d.useEffect(function(){return Fi.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Li),document.addEventListener("touchmove",c,Li),document.addEventListener("touchstart",f,Li),function(){Fi=Fi.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Li),document.removeEventListener("touchmove",c,Li),document.removeEventListener("touchstart",f,Li)}},[]);var p=e.removeScrollBar,y=e.inert;return d.createElement(d.Fragment,null,y?d.createElement(o,{styles:Nz(s)}):null,p?d.createElement(wz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Pz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Az=iz(wN,Tz);var Nu=d.forwardRef(function(e,t){return d.createElement(Gh,An({},e,{ref:t,sideCar:Az}))});Nu.classNames=Gh.classNames;var Oz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ui=new WeakMap,kd=new WeakMap,Ed={},Xm=0,CN=function(e){return e&&(e.host||CN(e.parentNode))},Iz=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=CN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Dz=function(e,t,r,n){var s=Iz(t,Array.isArray(e)?e:[e]);Ed[r]||(Ed[r]=new WeakMap);var o=Ed[r],i=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))f(m);else try{var p=m.getAttribute(n),y=p!==null&&p!=="false",g=(Ui.get(m)||0)+1,b=(o.get(m)||0)+1;Ui.set(m,g),o.set(m,b),i.push(m),g===1&&y&&kd.set(m,!0),b===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return f(t),a.clear(),Xm++,function(){i.forEach(function(h){var m=Ui.get(h)-1,p=o.get(h)-1;Ui.set(h,m),o.set(h,p),m||(kd.has(h)||h.removeAttribute(n),kd.delete(h)),p||h.removeAttribute(r)}),Xm--,Xm||(Ui=new WeakMap,Ui=new WeakMap,kd=new WeakMap,Ed={})}},qh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Oz(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Dz(n,s,r,"aria-hidden")):function(){return null}},Yh="Dialog",[kN,EN]=At(Yh),[Mz,Cn]=kN(Yh),jN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=d.useRef(null),c=d.useRef(null),[u,f]=Qt({prop:n,defaultProp:s??!1,onChange:o,caller:Yh});return l.jsx(Mz,{scope:t,triggerRef:a,contentRef:c,contentId:Pt(),titleId:Pt(),descriptionId:Pt(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:i,children:r})};jN.displayName=Yh;var NN="DialogTrigger",RN=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(NN,r),o=Ne(t,s.triggerRef);return l.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Qw(s.open),...n,ref:o,onClick:ee(e.onClick,s.onOpenToggle)})});RN.displayName=NN;var Yw="DialogPortal",[$z,TN]=kN(Yw,{forceMount:void 0}),PN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Cn(Yw,t);return l.jsx($z,{scope:t,forceMount:r,children:d.Children.map(n,i=>l.jsx(Jt,{present:r||o.open,children:l.jsx(rl,{asChild:!0,container:s,children:i})}))})};PN.displayName=Yw;var Bf="DialogOverlay",AN=d.forwardRef((e,t)=>{const r=TN(Bf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cn(Bf,e.__scopeDialog);return o.modal?l.jsx(Jt,{present:n||o.open,children:l.jsx(Fz,{...s,ref:t})}):null});AN.displayName=Bf;var Lz=lo("DialogOverlay.RemoveScroll"),Fz=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(Bf,r);return l.jsx(Nu,{as:Lz,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ie.div,{"data-state":Qw(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),hi="DialogContent",ON=d.forwardRef((e,t)=>{const r=TN(hi,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cn(hi,e.__scopeDialog);return l.jsx(Jt,{present:n||o.open,children:o.modal?l.jsx(Uz,{...s,ref:t}):l.jsx(Bz,{...s,ref:t})})});ON.displayName=hi;var Uz=d.forwardRef((e,t)=>{const r=Cn(hi,e.__scopeDialog),n=d.useRef(null),s=Ne(t,r.contentRef,n);return d.useEffect(()=>{const o=n.current;if(o)return qh(o)},[]),l.jsx(IN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault())})}),Bz=d.forwardRef((e,t)=>{const r=Cn(hi,e.__scopeDialog),n=d.useRef(!1),s=d.useRef(!1);return l.jsx(IN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),IN=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Cn(hi,r),c=d.useRef(null),u=Ne(t,c);return Kh(),l.jsxs(l.Fragment,{children:[l.jsx(ju,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Ci,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Qw(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Vz,{titleId:a.titleId}),l.jsx(Hz,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Zw="DialogTitle",DN=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(Zw,r);return l.jsx(ie.h2,{id:s.titleId,...n,ref:t})});DN.displayName=Zw;var MN="DialogDescription",$N=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(MN,r);return l.jsx(ie.p,{id:s.descriptionId,...n,ref:t})});$N.displayName=MN;var LN="DialogClose",FN=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(LN,r);return l.jsx(ie.button,{type:"button",...n,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});FN.displayName=LN;function Qw(e){return e?"open":"closed"}var UN="DialogTitleWarning",[zz,BN]=MD(UN,{contentName:hi,titleName:Zw,docsSlug:"dialog"}),Vz=({titleId:e})=>{const t=BN(UN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Wz="DialogDescriptionWarning",Hz=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BN(Wz).contentName}}.`;return d.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Zh=jN,Kz=RN,Qh=PN,hl=AN,pl=ON,Ru=DN,Tu=$N,Jh=FN;const Ei=Zh,Gz=Qh,zN=d.forwardRef(({className:e,...t},r)=>l.jsx(hl,{className:B("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zN.displayName=hl.displayName;const qz=ki("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bo=d.forwardRef(({side:e="right",className:t,children:r,...n},s)=>l.jsxs(Gz,{children:[l.jsx(zN,{}),l.jsxs(pl,{ref:s,className:B(qz({side:e}),t),...n,children:[r,l.jsxs(Jh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Cw,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bo.displayName=pl.displayName;const ji=({className:e,...t})=>l.jsx("div",{className:B("flex flex-col space-y-2 text-center sm:text-left",e),...t});ji.displayName="SheetHeader";const ml=({className:e,...t})=>l.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ml.displayName="SheetFooter";const Ni=d.forwardRef(({className:e,...t},r)=>l.jsx(Ru,{ref:r,className:B("text-lg font-semibold text-foreground",e),...t}));Ni.displayName=Ru.displayName;const gl=d.forwardRef(({className:e,...t},r)=>l.jsx(Tu,{ref:r,className:B("text-sm text-muted-foreground",e),...t}));gl.displayName=Tu.displayName;function pi({className:e,...t}){return l.jsx("div",{className:B("animate-pulse rounded-md bg-muted",e),...t})}const Yz="sidebar:state",Zz=60*60*24*7,Qz="16rem",Jz="18rem",Xz="3rem",e9="b",VN=d.createContext(null);function Pu(){const e=d.useContext(VN);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const WN=d.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:o,...i},a)=>{const c=ms(),[u,f]=d.useState(!1),[h,m]=d.useState(e),p=t??h,y=d.useCallback(v=>{const x=typeof v=="function"?v(p):v;r?r(x):m(x),document.cookie=`${Yz}=${x}; path=/; max-age=${Zz}`},[r,p]),g=d.useCallback(()=>c?f(v=>!v):y(v=>!v),[c,y,f]);d.useEffect(()=>{const v=x=>{x.key===e9&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),g())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[g]);const b=p?"expanded":"collapsed",w=d.useMemo(()=>({state:b,open:p,setOpen:y,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:g}),[b,p,y,c,u,f,g]);return l.jsx(VN.Provider,{value:w,children:l.jsx(yj,{delayDuration:0,children:l.jsx("div",{style:{"--sidebar-width":Qz,"--sidebar-width-icon":Xz,...s},className:B("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:a,...i,children:o})})})});WN.displayName="SidebarProvider";const HN=d.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...o},i)=>{const{isMobile:a,state:c,openMobile:u,setOpenMobile:f}=Pu();return r==="none"?l.jsx("div",{className:B("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...o,children:s}):a?l.jsx(Ei,{open:u,onOpenChange:f,...o,children:l.jsx(bo,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Jz},side:e,children:l.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):l.jsxs("div",{ref:i,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[l.jsx("div",{className:B("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),l.jsx("div",{className:B("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:l.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});HN.displayName="Sidebar";const KN=d.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=Pu();return l.jsxs(Pe,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:B("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...r,children:[l.jsx(pB,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});KN.displayName="SidebarTrigger";const t9=d.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Pu();return l.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:B("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});t9.displayName="SidebarRail";const r9=d.forwardRef(({className:e,...t},r)=>l.jsx("main",{ref:r,className:B("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));r9.displayName="SidebarInset";const n9=d.forwardRef(({className:e,...t},r)=>l.jsx(Qe,{ref:r,"data-sidebar":"input",className:B("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));n9.displayName="SidebarInput";const GN=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"header",className:B("flex flex-col gap-2 p-2",e),...t}));GN.displayName="SidebarHeader";const qN=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"footer",className:B("flex flex-col gap-2 p-2",e),...t}));qN.displayName="SidebarFooter";const YN=d.forwardRef(({className:e,...t},r)=>l.jsx(gN,{ref:r,"data-sidebar":"separator",className:B("mx-2 w-auto bg-sidebar-border",e),...t}));YN.displayName="SidebarSeparator";const ZN=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"content",className:B("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));ZN.displayName="SidebarContent";const Gv=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"group",className:B("relative flex w-full min-w-0 flex-col p-2",e),...t}));Gv.displayName="SidebarGroup";const QN=d.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Si:"div";return l.jsx(s,{ref:n,"data-sidebar":"group-label",className:B("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});QN.displayName="SidebarGroupLabel";const s9=d.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Si:"button";return l.jsx(s,{ref:n,"data-sidebar":"group-action",className:B("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});s9.displayName="SidebarGroupAction";const qv=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"group-content",className:B("w-full text-sm",e),...t}));qv.displayName="SidebarGroupContent";const Yv=d.forwardRef(({className:e,...t},r)=>l.jsx("ul",{ref:r,"data-sidebar":"menu",className:B("flex w-full min-w-0 flex-col gap-1",e),...t}));Yv.displayName="SidebarMenu";const Zv=d.forwardRef(({className:e,...t},r)=>l.jsx("li",{ref:r,"data-sidebar":"menu-item",className:B("group/menu-item relative",e),...t}));Zv.displayName="SidebarMenuItem";const o9=ki("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Qv=d.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:o,...i},a)=>{const c=e?Si:"button",{isMobile:u,state:f}=Pu(),h=l.jsx(c,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:B(o9({variant:r,size:n}),o),...i});return s?(typeof s=="string"&&(s={children:s}),l.jsxs(T5,{children:[l.jsx(P5,{asChild:!0,children:h}),l.jsx(wj,{side:"right",align:"center",hidden:f!=="collapsed"||u,...s})]})):h});Qv.displayName="SidebarMenuButton";const i9=d.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const o=t?Si:"button";return l.jsx(o,{ref:s,"data-sidebar":"menu-action",className:B("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});i9.displayName="SidebarMenuAction";const a9=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:B("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));a9.displayName="SidebarMenuBadge";const l9=d.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=d.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return l.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:B("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&l.jsx(pi,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),l.jsx(pi,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});l9.displayName="SidebarMenuSkeleton";const c9=d.forwardRef(({className:e,...t},r)=>l.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:B("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));c9.displayName="SidebarMenuSub";const u9=d.forwardRef(({...e},t)=>l.jsx("li",{ref:t,...e}));u9.displayName="SidebarMenuSubItem";const d9=d.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},o)=>{const i=e?Si:"a";return l.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:B("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});d9.displayName="SidebarMenuSubButton";const zf=d.forwardRef(({className:e,activeClassName:t,pendingClassName:r,to:n,...s},o)=>l.jsx(lF,{ref:o,to:n,className:({isActive:i,isPending:a})=>B(e,i&&t,a&&r),...s}));zf.displayName="NavLink";const Vf=""+new URL("ibadat-logo-CmVI1uwf.svg",import.meta.url).href,f9=[{title:"Today",url:"/today",icon:dN},{title:"Namaz",url:"/namaz",icon:eu},{title:"Goals",url:"/goals",icon:Xc}];function h9({onAddGoal:e}){var u;const{user:t,signOut:r}=Ot(),{state:n}=Pu(),s=n==="collapsed",o=cl(),[i,a]=d.useState("");d.useEffect(()=>{(async()=>{if(t){const{data:h}=await we.from("profiles").select("full_name").eq("id",t.id).maybeSingle();h!=null&&h.full_name&&a(h.full_name)}})()},[t]);const c=i||((u=t==null?void 0:t.email)==null?void 0:u.split("@")[0])||"User";return l.jsxs(HN,{collapsible:"icon",children:[l.jsx(GN,{className:"p-4",children:l.jsx("img",{src:Vf,alt:"Ibadat",className:"h-8 w-auto brightness-0 invert"})}),l.jsxs(ZN,{children:[l.jsxs(Gv,{children:[l.jsx(QN,{children:"Navigation"}),l.jsx(qv,{children:l.jsx(Yv,{children:f9.map(f=>l.jsx(Zv,{children:l.jsx(Qv,{asChild:!0,tooltip:f.title,children:l.jsxs(zf,{to:f.url,className:"flex items-center gap-2",activeClassName:"bg-sidebar-accent text-sidebar-accent-foreground font-medium",children:[l.jsx(f.icon,{className:"h-4 w-4"}),l.jsx("span",{children:f.title})]})})},f.title))})})]}),l.jsx(Gv,{children:l.jsx(qv,{children:l.jsx(Yv,{children:l.jsx(Zv,{children:l.jsxs(Qv,{tooltip:"Add Goal",onClick:e,children:[l.jsx(gc,{className:"h-4 w-4"}),l.jsx("span",{children:"Add Goal"})]})})})})})]}),l.jsxs(qN,{children:[l.jsx(YN,{}),l.jsxs("div",{className:"p-2 space-y-2",children:[l.jsxs("button",{onClick:()=>o("/profile"),className:"w-full flex items-center gap-3 px-2 py-2 rounded-md hover:bg-sidebar-accent transition-colors text-left",children:[l.jsx(Gw,{className:"h-5 w-5 shrink-0"}),!s&&l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:c}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t==null?void 0:t.email})]})]}),l.jsxs(Pe,{variant:"ghost",size:s?"icon":"sm",onClick:r,className:"w-full justify-start gap-2",children:[l.jsx(fN,{className:"h-4 w-4"}),!s&&l.jsx("span",{children:"Sign out"})]})]})]})]})}const p9=[{title:"Today",url:"/today",icon:dN},{title:"Namaz",url:"/namaz",icon:eu}],m9=[{title:"Goals",url:"/goals",icon:Xc},{title:"Profile",url:"/profile",icon:Gw}];function g9({onAddGoal:e}){return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/40 backdrop-blur-xl backdrop-saturate-150 border-t border-border/50 shadow-[0_-1px_12px_rgba(0,0,0,0.06)] pb-safe",children:l.jsxs("div",{className:"flex justify-around items-center h-16",children:[p9.map(t=>l.jsxs(zf,{to:t.url,className:B("flex flex-col items-center justify-center gap-1 flex-1 h-full","text-muted-foreground transition-colors"),activeClassName:"text-foreground",children:[l.jsx(t.icon,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs",children:t.title})]},t.title)),l.jsx("div",{className:"flex items-center justify-center flex-1",children:l.jsx("button",{onClick:e,className:"flex items-center justify-center h-12 w-12 -mt-5 rounded-full bg-primary text-primary-foreground shadow-lg active:scale-95 transition-transform",children:l.jsx(gc,{className:"h-6 w-6",strokeWidth:2.5})})}),m9.map(t=>l.jsxs(zf,{to:t.url,className:B("flex flex-col items-center justify-center gap-1 flex-1 h-full","text-muted-foreground transition-colors"),activeClassName:"text-foreground",children:[l.jsx(t.icon,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs",children:t.title})]},t.title))]})})}var v9="Label",JN=d.forwardRef((e,t)=>l.jsx(ie.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));JN.displayName=v9;var XN=JN;const y9=ki("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=d.forwardRef(({className:e,...t},r)=>l.jsx(XN,{ref:r,className:B(y9(),e),...t}));Se.displayName=XN.displayName;const eR=d.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:B("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));eR.displayName="Textarea";function Xh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ep="Switch",[w9,wZ]=At(ep),[x9,b9]=w9(ep),tR=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:f,...h}=e,[m,p]=d.useState(null),y=Ne(t,x=>p(x)),g=d.useRef(!1),b=m?f||!!m.closest("form"):!0,[w,v]=Qt({prop:s,defaultProp:o??!1,onChange:u,caller:ep});return l.jsxs(x9,{scope:r,checked:w,disabled:a,children:[l.jsx(ie.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":oR(w),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:y,onClick:ee(e.onClick,x=>{v(_=>!_),b&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),b&&l.jsx(sR,{control:m,bubbles:!g.current,name:n,value:c,checked:w,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});tR.displayName=ep;var rR="SwitchThumb",nR=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=b9(rR,r);return l.jsx(ie.span,{"data-state":oR(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});nR.displayName=rR;var _9="SwitchBubbleInput",sR=d.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=d.useRef(null),a=Ne(i,o),c=Xh(r),u=Oh(t);return d.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(y)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sR.displayName=_9;function oR(e){return e?"checked":"unchecked"}var iR=tR,S9=nR;const cs=d.forwardRef(({className:e,...t},r)=>l.jsx(iR,{className:B("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:l.jsx(S9,{className:B("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));cs.displayName=iR.displayName;const Au=Zh,C9=Qh,aR=d.forwardRef(({className:e,...t},r)=>l.jsx(hl,{ref:r,className:B("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aR.displayName=hl.displayName;const vl=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(C9,{children:[l.jsx(aR,{}),l.jsxs(pl,{ref:n,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(Jh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Cw,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vl.displayName=pl.displayName;const yl=({className:e,...t})=>l.jsx("div",{className:B("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yl.displayName="DialogHeader";const wl=({className:e,...t})=>l.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wl.displayName="DialogFooter";const xl=d.forwardRef(({className:e,...t},r)=>l.jsx(Ru,{ref:r,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));xl.displayName=Ru.displayName;const bl=d.forwardRef(({className:e,...t},r)=>l.jsx(Tu,{ref:r,className:B("text-sm text-muted-foreground",e),...t}));bl.displayName=Tu.displayName;function y1(e,[t,r]){return Math.min(r,Math.max(t,e))}var k9=d.createContext(void 0);function _l(e){const t=d.useContext(k9);return e||t||"ltr"}var E9=[" ","Enter","ArrowUp","ArrowDown"],j9=[" ","Enter"],mi="Select",[tp,rp,N9]=jh(mi),[Sl,xZ]=At(mi,[N9,yo]),np=yo(),[R9,_o]=Sl(mi),[T9,P9]=Sl(mi),lR=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:m,required:p,form:y}=e,g=np(t),[b,w]=d.useState(null),[v,x]=d.useState(null),[_,S]=d.useState(!1),C=_l(u),[k,E]=Qt({prop:n,defaultProp:s??!1,onChange:o,caller:mi}),[P,O]=Qt({prop:i,defaultProp:a,onChange:c,caller:mi}),M=d.useRef(null),T=b?y||!!b.closest("form"):!0,[F,$]=d.useState(new Set),Y=Array.from(F).map(V=>V.props.value).join(";");return l.jsx(Ih,{...g,children:l.jsxs(R9,{required:p,scope:t,trigger:b,onTriggerChange:w,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Pt(),value:P,onValueChange:O,open:k,onOpenChange:E,dir:C,triggerPointerDownPosRef:M,disabled:m,children:[l.jsx(tp.Provider,{scope:t,children:l.jsx(T9,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(V=>{$(H=>new Set(H).add(V))},[]),onNativeOptionRemove:d.useCallback(V=>{$(H=>{const I=new Set(H);return I.delete(V),I})},[]),children:r})}),T?l.jsxs(AR,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:P,onChange:V=>O(V.target.value),disabled:m,form:y,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},Y):null]})})};lR.displayName=mi;var cR="SelectTrigger",uR=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=np(r),i=_o(cR,r),a=i.disabled||n,c=Ne(t,i.onTriggerChange),u=rp(r),f=d.useRef("touch"),[h,m,p]=IR(g=>{const b=u().filter(x=>!x.disabled),w=b.find(x=>x.value===i.value),v=DR(b,g,w);v!==void 0&&i.onValueChange(v.value)}),y=g=>{a||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Cu,{asChild:!0,...o,children:l.jsx(ie.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":OR(i.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&y(g)}),onPointerDown:ee(s.onPointerDown,g=>{f.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&E9.includes(g.key)&&(y(),g.preventDefault())})})})});uR.displayName=cR;var dR="SelectValue",fR=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=_o(dR,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,h=Ne(t,c.onValueNodeChange);return Ft(()=>{u(f)},[u,f]),l.jsx(ie.span,{...a,ref:h,style:{pointerEvents:"none"},children:OR(c.value)?l.jsx(l.Fragment,{children:i}):o})});fR.displayName=dR;var A9="SelectIcon",hR=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(ie.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});hR.displayName=A9;var O9="SelectPortal",pR=e=>l.jsx(rl,{asChild:!0,...e});pR.displayName=O9;var gi="SelectContent",mR=d.forwardRef((e,t)=>{const r=_o(gi,e.__scopeSelect),[n,s]=d.useState();if(Ft(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ar.createPortal(l.jsx(gR,{scope:e.__scopeSelect,children:l.jsx(tp.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(vR,{...e,ref:t})});mR.displayName=gi;var ln=10,[gR,So]=Sl(gi),I9="SelectContentImpl",D9=lo("SelectContent.RemoveScroll"),vR=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:b,...w}=e,v=_o(gi,r),[x,_]=d.useState(null),[S,C]=d.useState(null),k=Ne(t,K=>_(K)),[E,P]=d.useState(null),[O,M]=d.useState(null),T=rp(r),[F,$]=d.useState(!1),Y=d.useRef(!1);d.useEffect(()=>{if(x)return qh(x)},[x]),Kh();const V=d.useCallback(K=>{const[he,...de]=T().map(_e=>_e.ref.current),[se]=de.slice(-1),Ce=document.activeElement;for(const _e of K)if(_e===Ce||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===he&&S&&(S.scrollTop=0),_e===se&&S&&(S.scrollTop=S.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ce))return},[T,S]),H=d.useCallback(()=>V([E,x]),[V,E,x]);d.useEffect(()=>{F&&H()},[F,H]);const{onOpenChange:I,triggerPointerDownPosRef:R}=v;d.useEffect(()=>{if(x){let K={x:0,y:0};const he=se=>{var Ce,_e;K={x:Math.abs(Math.round(se.pageX)-(((Ce=R.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(se.pageY)-(((_e=R.current)==null?void 0:_e.y)??0))}},de=se=>{K.x<=10&&K.y<=10?se.preventDefault():x.contains(se.target)||I(!1),document.removeEventListener("pointermove",he),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",de,{capture:!0})}}},[x,I,R]),d.useEffect(()=>{const K=()=>I(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[I]);const[U,q]=IR(K=>{const he=T().filter(Ce=>!Ce.disabled),de=he.find(Ce=>Ce.ref.current===document.activeElement),se=DR(he,K,de);se&&setTimeout(()=>se.ref.current.focus())}),A=d.useCallback((K,he,de)=>{const se=!Y.current&&!de;(v.value!==void 0&&v.value===he||se)&&(P(K),se&&(Y.current=!0))},[v.value]),W=d.useCallback(()=>x==null?void 0:x.focus(),[x]),Z=d.useCallback((K,he,de)=>{const se=!Y.current&&!de;(v.value!==void 0&&v.value===he||se)&&M(K)},[v.value]),Q=n==="popper"?Jv:yR,ae=Q===Jv?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:b}:{};return l.jsx(gR,{scope:r,content:x,viewport:S,onViewportChange:C,itemRefCallback:A,selectedItem:E,onItemLeave:W,itemTextRefCallback:Z,focusSelectedItem:H,selectedItemText:O,position:n,isPositioned:F,searchRef:U,children:l.jsx(Nu,{as:D9,allowPinchZoom:!0,children:l.jsx(ju,{asChild:!0,trapped:v.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ee(s,K=>{var he;(he=v.trigger)==null||he.focus({preventScroll:!0}),K.preventDefault()}),children:l.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(Q,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:K=>K.preventDefault(),...w,...ae,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ee(w.onKeyDown,K=>{const he=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!he&&K.key.length===1&&q(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let se=T().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(K.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Ce=K.target,_e=se.indexOf(Ce);se=se.slice(_e+1)}setTimeout(()=>V(se)),K.preventDefault()}})})})})})})});vR.displayName=I9;var M9="SelectItemAlignedPosition",yR=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=_o(gi,r),i=So(gi,r),[a,c]=d.useState(null),[u,f]=d.useState(null),h=Ne(t,k=>f(k)),m=rp(r),p=d.useRef(!1),y=d.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:v}=i,x=d.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&b&&w){const k=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),O=w.getBoundingClientRect();if(o.dir!=="rtl"){const Ce=O.left-E.left,_e=P.left-Ce,He=k.left-_e,Ke=k.width+He,_t=Math.max(Ke,E.width),St=window.innerWidth-ln,ur=y1(_e,[ln,Math.max(ln,St-_t)]);a.style.minWidth=Ke+"px",a.style.left=ur+"px"}else{const Ce=E.right-O.right,_e=window.innerWidth-P.right-Ce,He=window.innerWidth-k.right-_e,Ke=k.width+He,_t=Math.max(Ke,E.width),St=window.innerWidth-ln,ur=y1(_e,[ln,Math.max(ln,St-_t)]);a.style.minWidth=Ke+"px",a.style.right=ur+"px"}const M=m(),T=window.innerHeight-ln*2,F=g.scrollHeight,$=window.getComputedStyle(u),Y=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),H=parseInt($.borderBottomWidth,10),I=parseInt($.paddingBottom,10),R=Y+V+F+I+H,U=Math.min(b.offsetHeight*5,R),q=window.getComputedStyle(g),A=parseInt(q.paddingTop,10),W=parseInt(q.paddingBottom,10),Z=k.top+k.height/2-ln,Q=T-Z,ae=b.offsetHeight/2,K=b.offsetTop+ae,he=Y+V+K,de=R-he;if(he<=Z){const Ce=M.length>0&&b===M[M.length-1].ref.current;a.style.bottom="0px";const _e=u.clientHeight-g.offsetTop-g.offsetHeight,He=Math.max(Q,ae+(Ce?W:0)+_e+H),Ke=he+He;a.style.height=Ke+"px"}else{const Ce=M.length>0&&b===M[0].ref.current;a.style.top="0px";const He=Math.max(Z,Y+g.offsetTop+(Ce?A:0)+ae)+de;a.style.height=He+"px",g.scrollTop=he-Z+g.offsetTop}a.style.margin=`${ln}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,a,u,g,b,w,o.dir,n]);Ft(()=>x(),[x]);const[_,S]=d.useState();Ft(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=d.useCallback(k=>{k&&y.current===!0&&(x(),v==null||v(),y.current=!1)},[x,v]);return l.jsx(L9,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(ie.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yR.displayName=M9;var $9="SelectPopperPosition",Jv=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ln,...o}=e,i=np(r);return l.jsx(Dh,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jv.displayName=$9;var[L9,Jw]=Sl(gi,{}),Xv="SelectViewport",wR=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=So(Xv,r),i=Jw(Xv,r),a=Ne(t,o.onViewportChange),c=d.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(tp.Slot,{scope:r,children:l.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const p=Math.abs(c.current-f.scrollTop);if(p>0){const y=window.innerHeight-ln*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),w=Math.max(g,b);if(w<y){const v=w+p,x=Math.min(y,v),_=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});wR.displayName=Xv;var xR="SelectGroup",[F9,U9]=Sl(xR),B9=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Pt();return l.jsx(F9,{scope:r,id:s,children:l.jsx(ie.div,{role:"group","aria-labelledby":s,...n,ref:t})})});B9.displayName=xR;var bR="SelectLabel",_R=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=U9(bR,r);return l.jsx(ie.div,{id:s.id,...n,ref:t})});_R.displayName=bR;var Wf="SelectItem",[z9,SR]=Sl(Wf),CR=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=_o(Wf,r),c=So(Wf,r),u=a.value===n,[f,h]=d.useState(o??""),[m,p]=d.useState(!1),y=Ne(t,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,n,s)}),g=Pt(),b=d.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(z9,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:d.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(tp.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:l.jsx(ie.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:ee(i.onFocus,()=>p(!0)),onBlur:ee(i.onBlur,()=>p(!1)),onClick:ee(i.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:ee(i.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:ee(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:ee(i.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:ee(i.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(j9.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});CR.displayName=Wf;var ec="SelectItemText",kR=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=_o(ec,r),a=So(ec,r),c=SR(ec,r),u=P9(ec,r),[f,h]=d.useState(null),m=Ne(t,w=>h(w),c.onItemTextChange,w=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,w,c.value,c.disabled)}),p=f==null?void 0:f.textContent,y=d.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Ft(()=>(g(y),()=>b(y)),[g,b,y]),l.jsxs(l.Fragment,{children:[l.jsx(ie.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ar.createPortal(o.children,i.valueNode):null]})});kR.displayName=ec;var ER="SelectItemIndicator",jR=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return SR(ER,r).isSelected?l.jsx(ie.span,{"aria-hidden":!0,...n,ref:t}):null});jR.displayName=ER;var ey="SelectScrollUpButton",NR=d.forwardRef((e,t)=>{const r=So(ey,e.__scopeSelect),n=Jw(ey,e.__scopeSelect),[s,o]=d.useState(!1),i=Ne(t,n.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(TR,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});NR.displayName=ey;var ty="SelectScrollDownButton",RR=d.forwardRef((e,t)=>{const r=So(ty,e.__scopeSelect),n=Jw(ty,e.__scopeSelect),[s,o]=d.useState(!1),i=Ne(t,n.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(TR,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});RR.displayName=ty;var TR=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=So("SelectScrollButton",r),i=d.useRef(null),a=rp(r),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Ft(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(ie.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ee(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),V9="SelectSeparator",PR=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(ie.div,{"aria-hidden":!0,...n,ref:t})});PR.displayName=V9;var ry="SelectArrow",W9=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=np(r),o=_o(ry,r),i=So(ry,r);return o.open&&i.position==="popper"?l.jsx(Mh,{...s,...n,ref:t}):null});W9.displayName=ry;var H9="SelectBubbleInput",AR=d.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=d.useRef(null),o=Ne(n,s),i=Xh(t);return d.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("change",{bubbles:!0});f.call(a,t),a.dispatchEvent(h)}},[i,t]),l.jsx(ie.select,{...r,style:{...oE,...r.style},ref:o,defaultValue:t})});AR.displayName=H9;function OR(e){return e===""||e===void 0}function IR(e){const t=_r(e),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function DR(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=K9(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function K9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var G9=lR,MR=uR,q9=fR,Y9=hR,Z9=pR,$R=mR,Q9=wR,LR=_R,FR=CR,J9=kR,X9=jR,UR=NR,BR=RR,zR=PR;const Or=G9,Ir=q9,vr=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(MR,{ref:n,className:B("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(Y9,{asChild:!0,children:l.jsx(Sw,{className:"h-4 w-4 opacity-50"})})]}));vr.displayName=MR.displayName;const VR=d.forwardRef(({className:e,...t},r)=>l.jsx(UR,{ref:r,className:B("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(NM,{className:"h-4 w-4"})}));VR.displayName=UR.displayName;const WR=d.forwardRef(({className:e,...t},r)=>l.jsx(BR,{ref:r,className:B("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Sw,{className:"h-4 w-4"})}));WR.displayName=BR.displayName;const yr=d.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(Z9,{children:l.jsxs($R,{ref:s,className:B("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(VR,{}),l.jsx(Q9,{className:B("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(WR,{})]})}));yr.displayName=$R.displayName;const eV=d.forwardRef(({className:e,...t},r)=>l.jsx(LR,{ref:r,className:B("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eV.displayName=LR.displayName;const xt=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(FR,{ref:n,className:B("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(X9,{children:l.jsx(_w,{className:"h-4 w-4"})})}),l.jsx(J9,{children:t})]}));xt.displayName=FR.displayName;const tV=d.forwardRef(({className:e,...t},r)=>l.jsx(zR,{ref:r,className:B("-mx-1 my-1 h-px bg-muted",e),...t}));tV.displayName=zR.displayName;var eg="rovingFocusGroup.onEntryFocus",rV={bubbles:!1,cancelable:!0},Ou="RovingFocusGroup",[ny,HR,nV]=jh(Ou),[sV,Co]=At(Ou,[nV]),[oV,iV]=sV(Ou),KR=d.forwardRef((e,t)=>l.jsx(ny.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(ny.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(aV,{...e,ref:t})})}));KR.displayName=Ou;var aV=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,m=d.useRef(null),p=Ne(t,m),y=_l(o),[g,b]=Qt({prop:i,defaultProp:a??null,onChange:c,caller:Ou}),[w,v]=d.useState(!1),x=_r(u),_=HR(r),S=d.useRef(!1),[C,k]=d.useState(0);return d.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(eg,x),()=>E.removeEventListener(eg,x)},[x]),l.jsx(oV,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:g,onItemFocus:d.useCallback(E=>b(E),[b]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:d.useCallback(()=>k(E=>E-1),[]),children:l.jsx(ie.div,{tabIndex:w||C===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{S.current=!0}),onFocus:ee(e.onFocus,E=>{const P=!S.current;if(E.target===E.currentTarget&&P&&!w){const O=new CustomEvent(eg,rV);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const M=_().filter(V=>V.focusable),T=M.find(V=>V.active),F=M.find(V=>V.id===g),Y=[T,F,...M].filter(Boolean).map(V=>V.ref.current);YR(Y,f)}}S.current=!1}),onBlur:ee(e.onBlur,()=>v(!1))})})}),GR="RovingFocusGroupItem",qR=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,c=Pt(),u=o||c,f=iV(GR,r),h=f.currentTabStopId===u,m=HR(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=f;return d.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),l.jsx(ny.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:l.jsx(ie.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:t,onMouseDown:ee(e.onMouseDown,b=>{n?f.onItemFocus(u):b.preventDefault()}),onFocus:ee(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=uV(b,f.orientation,f.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const _=x.indexOf(b.currentTarget);x=f.loop?dV(x,_+1):x.slice(_+1)}setTimeout(()=>YR(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});qR.displayName=GR;var lV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uV(e,t,r){const n=cV(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lV[n]}function YR(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function dV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sp=KR,op=qR,ZR="Toggle",Xw=d.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:s,...o}=e,[i,a]=Qt({prop:r,onChange:s,defaultProp:n??!1,caller:ZR});return l.jsx(ie.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:ee(e.onClick,()=>{e.disabled||a(!i)})})});Xw.displayName=ZR;var QR=Xw,ko="ToggleGroup",[JR,bZ]=At(ko,[Co]),XR=Co(),ex=L.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const s=n;return l.jsx(fV,{...s,ref:t})}if(r==="multiple"){const s=n;return l.jsx(hV,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${ko}\``)});ex.displayName=ko;var[eT,tT]=JR(ko),fV=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i,a]=Qt({prop:r,defaultProp:n??"",onChange:s,caller:ko});return l.jsx(eT,{scope:e.__scopeToggleGroup,type:"single",value:L.useMemo(()=>i?[i]:[],[i]),onItemActivate:a,onItemDeactivate:L.useCallback(()=>a(""),[a]),children:l.jsx(rT,{...o,ref:t})})}),hV=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i,a]=Qt({prop:r,defaultProp:n??[],onChange:s,caller:ko}),c=L.useCallback(f=>a((h=[])=>[...h,f]),[a]),u=L.useCallback(f=>a((h=[])=>h.filter(m=>m!==f)),[a]);return l.jsx(eT,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:l.jsx(rT,{...o,ref:t})})});ex.displayName=ko;var[pV,mV]=JR(ko),rT=L.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:o,dir:i,loop:a=!0,...c}=e,u=XR(r),f=_l(i),h={role:"group",dir:f,...c};return l.jsx(pV,{scope:r,rovingFocus:s,disabled:n,children:s?l.jsx(sp,{asChild:!0,...u,orientation:o,dir:f,loop:a,children:l.jsx(ie.div,{...h,ref:t})}):l.jsx(ie.div,{...h,ref:t})})}),Hf="ToggleGroupItem",nT=L.forwardRef((e,t)=>{const r=tT(Hf,e.__scopeToggleGroup),n=mV(Hf,e.__scopeToggleGroup),s=XR(e.__scopeToggleGroup),o=r.value.includes(e.value),i=n.disabled||e.disabled,a={...e,pressed:o,disabled:i},c=L.useRef(null);return n.rovingFocus?l.jsx(op,{asChild:!0,...s,focusable:!i,active:o,ref:c,children:l.jsx(w1,{...a,ref:t})}):l.jsx(w1,{...a,ref:t})});nT.displayName=Hf;var w1=L.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...s}=e,o=tT(Hf,r),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=o.type==="single"?i:void 0;return l.jsx(Xw,{...a,...s,ref:t,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),sT=ex,oT=nT;const iT=ki("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),gV=d.forwardRef(({className:e,variant:t,size:r,...n},s)=>l.jsx(QR,{ref:s,className:B(iT({variant:t,size:r,className:e})),...n}));gV.displayName=QR.displayName;const aT=d.createContext({size:"default",variant:"default"}),lT=d.forwardRef(({className:e,variant:t,size:r,children:n,...s},o)=>l.jsx(sT,{ref:o,className:B("flex items-center justify-center gap-1",e),...s,children:l.jsx(aT.Provider,{value:{variant:t,size:r},children:n})}));lT.displayName=sT.displayName;const cT=d.forwardRef(({className:e,children:t,variant:r,size:n,...s},o)=>{const i=d.useContext(aT);return l.jsx(oT,{ref:o,className:B(iT({variant:i.variant||r,size:i.size||n}),e),...s,children:t})});cT.displayName=oT.displayName;const vV=[{value:"0",label:"S"},{value:"1",label:"M"},{value:"2",label:"T"},{value:"3",label:"W"},{value:"4",label:"T"},{value:"5",label:"F"},{value:"6",label:"S"}],yV=({recurrenceType:e,recurrenceDays:t,recurrencePattern:r,dueDate:n,onRecurrenceTypeChange:s,onRecurrenceDaysChange:o,onRecurrencePatternChange:i,onDueDateChange:a,disabled:c=!1})=>{const u=y=>{const g=parseInt(y,10);isNaN(g)||g<1||i({type:"interval",interval:g,intervalUnit:(r==null?void 0:r.intervalUnit)||"days"})},f=y=>{i({type:"interval",interval:(r==null?void 0:r.interval)||2,intervalUnit:y})},h=y=>{const g=parseInt(y,10);isNaN(g)||g<1||g>30||i({type:"monthly",monthlyDay:g,calendarType:(r==null?void 0:r.calendarType)||"hijri"})},m=y=>{i({type:"monthly",monthlyDay:(r==null?void 0:r.monthlyDay)||1,calendarType:y})},p=y=>{i(y==="interval"?{type:"interval",interval:2,intervalUnit:"days"}:{type:"monthly",monthlyDay:1,calendarType:"hijri"})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Repeats"}),l.jsxs(Or,{value:e,onValueChange:y=>s(y),disabled:c,children:[l.jsx(vr,{children:l.jsx(Ir,{})}),l.jsxs(yr,{children:[l.jsx(xt,{value:"daily",children:"Daily"}),l.jsx(xt,{value:"weekly",children:"Weekly"}),l.jsx(xt,{value:"custom",children:"Custom"}),l.jsx(xt,{value:"one-time",children:"One-time"})]})]})]}),e==="weekly"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"On days"}),l.jsx(lT,{type:"multiple",value:t.map(String),onValueChange:y=>o(y.map(Number)),className:"justify-start gap-1",disabled:c,children:vV.map(y=>l.jsx(cT,{value:y.value,className:"h-9 w-9 rounded-full text-xs font-medium data-[state=on]:bg-primary data-[state=on]:text-primary-foreground","aria-label":y.label,children:y.label},y.value))})]}),e==="custom"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Pattern"}),l.jsxs(Or,{value:(r==null?void 0:r.type)||"interval",onValueChange:y=>p(y),disabled:c,children:[l.jsx(vr,{children:l.jsx(Ir,{})}),l.jsxs(yr,{children:[l.jsx(xt,{value:"interval",children:"Every N days/weeks"}),l.jsx(xt,{value:"monthly",children:"Day of month"})]})]})]}),(r==null?void 0:r.type)==="interval"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Every"}),l.jsx(Qe,{type:"number",min:"1",max:"365",value:r.interval||2,onChange:y=>u(y.target.value),className:"w-20",disabled:c}),l.jsxs(Or,{value:r.intervalUnit||"days",onValueChange:y=>f(y),disabled:c,children:[l.jsx(vr,{className:"w-24",children:l.jsx(Ir,{})}),l.jsxs(yr,{children:[l.jsx(xt,{value:"days",children:"days"}),l.jsx(xt,{value:"weeks",children:"weeks"})]})]})]}),(r==null?void 0:r.type)==="monthly"&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Day"}),l.jsx(Qe,{type:"number",min:"1",max:"30",value:r.monthlyDay||1,onChange:y=>h(y.target.value),className:"w-20",disabled:c}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"of each month"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{className:"text-xs",children:"Calendar"}),l.jsxs(Or,{value:r.calendarType||"hijri",onValueChange:y=>m(y),disabled:c,children:[l.jsx(vr,{className:"w-32",children:l.jsx(Ir,{})}),l.jsxs(yr,{children:[l.jsx(xt,{value:"hijri",children:"Hijri"}),l.jsx(xt,{value:"gregorian",children:"Gregorian"})]})]})]})]})]}),e==="one-time"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Due date"}),l.jsx(Qe,{type:"date",value:n,onChange:y=>a(y.target.value),disabled:c})]})]})},sy=({open:e,onOpenChange:t,goal:r,onSubmit:n,isLoading:s=!1})=>{const o=ms(),[i,a]=d.useState(""),[c,u]=d.useState(""),[f,h]=d.useState("daily"),[m,p]=d.useState([]),[y,g]=d.useState(null),[b,w]=d.useState(""),[v,x]=d.useState(""),[_,S]=d.useState(""),[C,k]=d.useState(!1),[E,P]=d.useState(!0);d.useEffect(()=>{e&&(r?(a(r.title),u(r.description||""),h(r.recurrence_type),p(r.recurrence_days||[]),g(r.recurrence_pattern||null),w(r.due_date||""),x(r.start_date),S(r.end_date||""),k(!!r.end_date),P(r.is_active)):(a(""),u(""),h("daily"),p([]),g(null),w(""),x(new Date().toISOString().split("T")[0]),S(""),k(!1),P(!0)))},[e,r]),d.useEffect(()=>{f==="custom"&&!y&&g({type:"interval",interval:2,intervalUnit:"days"})},[f,y]);const O=async V=>{if(V==null||V.preventDefault(),!i.trim())return;const H={title:i.trim(),description:c.trim()||null,recurrence_type:f,recurrence_days:f==="weekly"?m:null,recurrence_pattern:f==="custom"?y:null,due_date:f==="one-time"&&b||null,start_date:v,end_date:C&&_?_:null,is_active:E};await n(H),t(!1)},M=!!r,T=M?"Edit Goal":"Add Goal",F=M?"Update your habit details":"Create a new habit to track",$=l.jsxs("form",{onSubmit:O,className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"goalTitle",children:"Title"}),l.jsx(Qe,{id:"goalTitle",value:i,onChange:V=>a(V.target.value),placeholder:"e.g., Quran tilawat",disabled:s,required:!0,autoFocus:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"goalDescription",children:"Description (optional)"}),l.jsx(eR,{id:"goalDescription",value:c,onChange:V=>u(V.target.value),placeholder:"Notes, links, or details...",disabled:s,rows:2})]}),l.jsx(yV,{recurrenceType:f,recurrenceDays:m,recurrencePattern:y,dueDate:b,onRecurrenceTypeChange:h,onRecurrenceDaysChange:p,onRecurrencePatternChange:g,onDueDateChange:w,disabled:s}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"startDate",children:"Start date"}),l.jsx(Qe,{id:"startDate",type:"date",value:v,onChange:V=>x(V.target.value),disabled:s})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"hasEndDate",className:"cursor-pointer",children:"Set end date"}),l.jsx(cs,{id:"hasEndDate",checked:C,onCheckedChange:k,disabled:s})]}),C&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"endDate",children:"End date"}),l.jsx(Qe,{id:"endDate",type:"date",value:_,onChange:V=>S(V.target.value),disabled:s})]}),M&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"goalActive",className:"cursor-pointer",children:"Active"}),l.jsx(cs,{id:"goalActive",checked:E,onCheckedChange:P,disabled:s})]})]}),Y=l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Pe,{variant:"outline",onClick:()=>t(!1),disabled:s,className:"flex-1",children:"Cancel"}),l.jsx(Pe,{onClick:()=>O(),disabled:s||!i.trim(),className:"flex-1",children:s?"Saving...":M?"Update":"Add Goal"})]});return o?l.jsx(Ei,{open:e,onOpenChange:t,children:l.jsxs(bo,{side:"bottom",className:"h-[90vh] overflow-y-auto",children:[l.jsxs(ji,{className:"text-left",children:[l.jsx(Ni,{children:T}),l.jsx(gl,{children:F})]}),l.jsx("div",{className:"py-4",children:$}),l.jsx(ml,{children:Y})]})}):l.jsx(Au,{open:e,onOpenChange:t,children:l.jsxs(vl,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs(yl,{children:[l.jsx(xl,{children:T}),l.jsx(bl,{children:F})]}),l.jsx("div",{className:"py-2",children:$}),l.jsx(wl,{children:Y})]})})};function x1(e){return{...e,recurrence_type:e.recurrence_type,recurrence_pattern:e.recurrence_pattern}}function ip(){const{user:e}=Ot(),{toast:t}=fs(),r=ku(),{data:n=[],isLoading:s}=Uw({queryKey:["goals",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:u,error:f}=await we.from("goals").select("*").eq("user_id",e.id).order("sort_order",{ascending:!0});if(f)throw console.error("Error fetching goals:",f),f;return(u||[]).map(x1)},enabled:!!e}),o=la({mutationFn:async u=>{if(!e)throw new Error("Not authenticated");const f=n.reduce((p,y)=>Math.max(p,y.sort_order),-1),{data:h,error:m}=await we.from("goals").insert({user_id:e.id,title:u.title,description:u.description,recurrence_type:u.recurrence_type,recurrence_pattern:u.recurrence_pattern,recurrence_days:u.recurrence_days,due_date:u.due_date,start_date:u.start_date||new Date().toISOString().split("T")[0],end_date:u.end_date,sort_order:f+1,is_active:u.is_active??!0}).select().single();if(m)throw m;return x1(h)},onSuccess:()=>{r.invalidateQueries({queryKey:["goals"]}),t({title:"Goal created",description:"Your new goal has been added."})},onError:u=>{console.error("Error creating goal:",u),t({title:"Error creating goal",description:"Something went wrong. Please try again.",variant:"destructive"})}}),i=la({mutationFn:async({id:u,input:f})=>{if(!e)throw new Error("Not authenticated");const h={...f};f.recurrence_pattern!==void 0&&(h.recurrence_pattern=f.recurrence_pattern);const{error:m}=await we.from("goals").update(h).eq("id",u).eq("user_id",e.id);if(m)throw m},onSuccess:()=>{r.invalidateQueries({queryKey:["goals"]}),t({title:"Goal updated",description:"Your changes have been saved."})},onError:u=>{console.error("Error updating goal:",u),t({title:"Error updating goal",description:"Something went wrong. Please try again.",variant:"destructive"})}}),a=la({mutationFn:async u=>{if(!e)throw new Error("Not authenticated");const{error:f}=await we.from("goals").delete().eq("id",u).eq("user_id",e.id);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["goals"]}),t({title:"Goal deleted",description:"The goal has been removed."})},onError:u=>{console.error("Error deleting goal:",u),t({title:"Error deleting goal",description:"Something went wrong. Please try again.",variant:"destructive"})}}),c=la({mutationFn:async u=>{if(!e)throw new Error("Not authenticated");const f=u.map((p,y)=>we.from("goals").update({sort_order:y}).eq("id",p).eq("user_id",e.id)),m=(await Promise.all(f)).filter(p=>p.error);if(m.length>0)throw m[0].error},onSuccess:()=>{r.invalidateQueries({queryKey:["goals"]})},onError:u=>{console.error("Error reordering goals:",u),t({title:"Error reordering goals",description:"Something went wrong. Please try again.",variant:"destructive"})}});return{goals:n,isLoading:s,createGoal:o.mutateAsync,updateGoal:(u,f)=>i.mutateAsync({id:u,input:f}),deleteGoal:a.mutateAsync,reorderGoals:c.mutateAsync,isCreating:o.isPending,isUpdating:i.isPending,isDeleting:a.isPending}}function jd({children:e}){const t=ms(),[r,n]=d.useState(!1),{createGoal:s,isCreating:o}=ip(),i=()=>n(!0),a=async c=>{await s(c)};return t===void 0?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-foreground border-t-transparent"})}):t?l.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[l.jsx("header",{className:"sticky top-0 z-40 bg-background/40 backdrop-blur-xl backdrop-saturate-150 border-b border-border/50",children:l.jsx("div",{className:"container flex h-14 items-center justify-center",children:l.jsx("img",{src:Vf,alt:"Ibadat",className:"h-6 w-auto"})})}),l.jsx("main",{children:e}),l.jsx(g9,{onAddGoal:i}),l.jsx(sy,{open:r,onOpenChange:n,onSubmit:a,isLoading:o})]}):l.jsxs(WN,{children:[l.jsxs("div",{className:"min-h-screen flex w-full",children:[l.jsx(h9,{onAddGoal:i}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("header",{className:"sticky top-0 z-40 bg-background border-b border-border",children:l.jsx("div",{className:"flex h-14 items-center px-4",children:l.jsx(KN,{})})}),l.jsx("main",{className:"flex-1",children:e})]})]}),l.jsx(sy,{open:r,onOpenChange:n,onSubmit:a,isLoading:o})]})}var Iu=e=>e.type==="checkbox",Bo=e=>e instanceof Date,or=e=>e==null;const uT=e=>typeof e=="object";var gt=e=>!or(e)&&!Array.isArray(e)&&uT(e)&&!Bo(e),dT=e=>gt(e)&&e.target?Iu(e.target)?e.target.checked:e.target.value:e,wV=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fT=(e,t)=>e.has(wV(t)),xV=e=>{const t=e.constructor&&e.constructor.prototype;return gt(t)&&t.hasOwnProperty("isPrototypeOf")},tx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Et(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(tx&&(e instanceof Blob||n))&&(r||gt(e)))if(t=r?[]:{},!r&&!xV(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Et(e[s]));else return e;return t}var ap=e=>/^\w*$/.test(e),pt=e=>e===void 0,rx=e=>Array.isArray(e)?e.filter(Boolean):[],nx=e=>rx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(e,t,r)=>{if(!t||!gt(e))return r;const n=(ap(t)?[t]:nx(t)).reduce((s,o)=>or(s)?s:s[o],e);return pt(n)||n===e?pt(e[t])?r:e[t]:n},Nr=e=>typeof e=="boolean",ze=(e,t,r)=>{let n=-1;const s=ap(t)?[t]:nx(t),o=s.length,i=o-1;for(;++n<o;){const a=s[n];let c=r;if(n!==i){const u=e[a];c=gt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const Kf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sx=L.createContext(null);sx.displayName="HookFormContext";const lp=()=>L.useContext(sx),bV=e=>{const{children:t,...r}=e;return L.createElement(sx.Provider,{value:r},t)};var hT=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==gn.all&&(t._proxyFormState[i]=!n||gn.all),r&&(r[i]=!0),e[i]}});return s};const ox=typeof window<"u"?L.useLayoutEffect:L.useEffect;function _V(e){const t=lp(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,a]=L.useState(r._formState),c=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ox(()=>r._subscribe({name:s,formState:c.current,exact:o,callback:u=>{!n&&a({...r._formState,...u})}}),[s,n,o]),L.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),L.useMemo(()=>hT(i,r,c.current,!1),[i,r])}var In=e=>typeof e=="string",pT=(e,t,r,n,s)=>In(e)?(n&&t.watch.add(e),oe(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),oe(r,o))):(n&&(t.watchAll=!0),r),oy=e=>or(e)||!uT(e);function Qn(e,t,r=new WeakSet){if(oy(e)||oy(t))return e===t;if(Bo(e)&&Bo(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const i=e[o];if(!s.includes(o))return!1;if(o!=="ref"){const a=t[o];if(Bo(i)&&Bo(a)||gt(i)&&gt(a)||Array.isArray(i)&&Array.isArray(a)?!Qn(i,a,r):i!==a)return!1}}return!0}function SV(e){const t=lp(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i,compute:a}=e||{},c=L.useRef(s),u=L.useRef(a),f=L.useRef(void 0);u.current=a;const h=L.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=L.useState(u.current?u.current(h):h);return ox(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:y=>{if(!o){const g=pT(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const b=u.current(g);Qn(b,f.current)||(p(b),f.current=b)}else p(g)}}}),[r,o,n,i]),L.useEffect(()=>r._removeUnmounted()),m}function CV(e){const t=lp(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o,defaultValue:i}=e,a=fT(s._names.array,r),c=L.useMemo(()=>oe(s._formValues,r,oe(s._defaultValues,r,i)),[s,r,i]),u=SV({control:s,name:r,defaultValue:c,exact:!0}),f=_V({control:s,name:r,exact:!0}),h=L.useRef(e),m=L.useRef(s.register(r,{...e.rules,value:u,...Nr(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!oe(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!oe(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!oe(f.validatingFields,r)},error:{enumerable:!0,get:()=>oe(f.errors,r)}}),[f,r]),y=L.useCallback(v=>m.current.onChange({target:{value:dT(v),name:r},type:Kf.CHANGE}),[r]),g=L.useCallback(()=>m.current.onBlur({target:{value:oe(s._formValues,r),name:r},type:Kf.BLUR}),[r,s._formValues]),b=L.useCallback(v=>{const x=oe(s._fields,r);x&&v&&(x._f.ref={focus:()=>v.focus&&v.focus(),select:()=>v.select&&v.select(),setCustomValidity:_=>v.setCustomValidity(_),reportValidity:()=>v.reportValidity()})},[s._fields,r]),w=L.useMemo(()=>({name:r,value:u,...Nr(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:y,onBlur:g,ref:b}),[r,n,f.disabled,y,g,b,u]);return L.useEffect(()=>{const v=s._options.shouldUnregister||o;s.register(r,{...h.current.rules,...Nr(h.current.disabled)?{disabled:h.current.disabled}:{}});const x=(_,S)=>{const C=oe(s._fields,_);C&&C._f&&(C._f.mount=S)};if(x(r,!0),v){const _=Et(oe(s._options.defaultValues,r));ze(s._defaultValues,r,_),pt(oe(s._formValues,r))&&ze(s._formValues,r,_)}return!a&&s.register(r),()=>{(a?v&&!s._state.action:v)?s.unregister(r):x(r,!1)}},[r,s,a,o]),L.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),L.useMemo(()=>({field:w,formState:f,fieldState:p}),[w,f,p])}const kV=e=>e.render(CV(e));var mT=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},vc=e=>Array.isArray(e)?e:[e],b1=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},hr=e=>gt(e)&&!Object.keys(e).length,ix=e=>e.type==="file",vn=e=>typeof e=="function",Gf=e=>{if(!tx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},gT=e=>e.type==="select-multiple",ax=e=>e.type==="radio",EV=e=>ax(e)||Iu(e),tg=e=>Gf(e)&&e.isConnected;function jV(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=pt(e)?n++:e[t[n++]];return e}function NV(e){for(const t in e)if(e.hasOwnProperty(t)&&!pt(e[t]))return!1;return!0}function yt(e,t){const r=Array.isArray(t)?t:ap(t)?[t]:nx(t),n=r.length===1?e:jV(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(gt(n)&&hr(n)||Array.isArray(n)&&NV(n))&&yt(e,r.slice(0,-1)),e}var vT=e=>{for(const t in e)if(vn(e[t]))return!0;return!1};function qf(e,t={}){const r=Array.isArray(e);if(gt(e)||r)for(const n in e)Array.isArray(e[n])||gt(e[n])&&!vT(e[n])?(t[n]=Array.isArray(e[n])?[]:{},qf(e[n],t[n])):or(e[n])||(t[n]=!0);return t}function yT(e,t,r){const n=Array.isArray(e);if(gt(e)||n)for(const s in e)Array.isArray(e[s])||gt(e[s])&&!vT(e[s])?pt(t)||oy(r[s])?r[s]=Array.isArray(e[s])?qf(e[s],[]):{...qf(e[s])}:yT(e[s],or(t)?{}:t[s],r[s]):r[s]=!Qn(e[s],t[s]);return r}var Vl=(e,t)=>yT(e,t,qf(t));const _1={value:!1,isValid:!1},S1={value:!0,isValid:!0};var wT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pt(e[0].attributes.value)?pt(e[0].value)||e[0].value===""?S1:{value:e[0].value,isValid:!0}:S1:_1}return _1},xT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>pt(e)?e:t?e===""?NaN:e&&+e:r&&In(e)?new Date(e):n?n(e):e;const C1={isValid:!1,value:null};var bT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,C1):C1;function k1(e){const t=e.ref;return ix(t)?t.files:ax(t)?bT(e.refs).value:gT(t)?[...t.selectedOptions].map(({value:r})=>r):Iu(t)?wT(e.refs).value:xT(pt(t.value)?e.ref.value:t.value,e)}var RV=(e,t,r,n)=>{const s={};for(const o of e){const i=oe(t,o);i&&ze(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Yf=e=>e instanceof RegExp,Wl=e=>pt(e)?e:Yf(e)?e.source:gt(e)?Yf(e.value)?e.value.source:e.value:e,E1=e=>({isOnSubmit:!e||e===gn.onSubmit,isOnBlur:e===gn.onBlur,isOnChange:e===gn.onChange,isOnAll:e===gn.all,isOnTouch:e===gn.onTouched});const j1="AsyncFunction";var TV=e=>!!e&&!!e.validate&&!!(vn(e.validate)&&e.validate.constructor.name===j1||gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===j1)),PV=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),N1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const yc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=oe(e,s);if(o){const{_f:i,...a}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(yc(a,t))break}else if(gt(a)&&yc(a,t))break}}};function R1(e,t,r){const n=oe(e,r);if(n||ap(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=oe(t,o),a=oe(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};if(a&&a.root&&a.root.type)return{name:`${o}.root`,error:a.root};s.pop()}return{name:r}}var AV=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return hr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||gn.all))},OV=(e,t,r)=>!e||!t||e===t||vc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),IV=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,DV=(e,t)=>!rx(oe(e,t)).length&&yt(e,t),MV=(e,t,r)=>{const n=vc(oe(e,r));return ze(n,"root",t[r]),ze(e,r,n),e},Xd=e=>In(e);function T1(e,t,r="validate"){if(Xd(e)||Array.isArray(e)&&e.every(Xd)||Nr(e)&&!e)return{type:r,message:Xd(e)?e:"",ref:t}}var Bi=e=>gt(e)&&!Yf(e)?e:{value:e,message:""},P1=async(e,t,r,n,s,o)=>{const{ref:i,refs:a,required:c,maxLength:u,minLength:f,min:h,max:m,pattern:p,validate:y,name:g,valueAsNumber:b,mount:w}=e._f,v=oe(r,g);if(!w||t.has(g))return{};const x=a?a[0]:i,_=T=>{s&&x.reportValidity&&(x.setCustomValidity(Nr(T)?"":T||""),x.reportValidity())},S={},C=ax(i),k=Iu(i),E=C||k,P=(b||ix(i))&&pt(i.value)&&pt(v)||Gf(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,O=mT.bind(null,g,n,S),M=(T,F,$,Y=Wn.maxLength,V=Wn.minLength)=>{const H=T?F:$;S[g]={type:T?Y:V,message:H,ref:i,...O(T?Y:V,H)}};if(o?!Array.isArray(v)||!v.length:c&&(!E&&(P||or(v))||Nr(v)&&!v||k&&!wT(a).isValid||C&&!bT(a).isValid)){const{value:T,message:F}=Xd(c)?{value:!!c,message:c}:Bi(c);if(T&&(S[g]={type:Wn.required,message:F,ref:x,...O(Wn.required,F)},!n))return _(F),S}if(!P&&(!or(h)||!or(m))){let T,F;const $=Bi(m),Y=Bi(h);if(!or(v)&&!isNaN(v)){const V=i.valueAsNumber||v&&+v;or($.value)||(T=V>$.value),or(Y.value)||(F=V<Y.value)}else{const V=i.valueAsDate||new Date(v),H=U=>new Date(new Date().toDateString()+" "+U),I=i.type=="time",R=i.type=="week";In($.value)&&v&&(T=I?H(v)>H($.value):R?v>$.value:V>new Date($.value)),In(Y.value)&&v&&(F=I?H(v)<H(Y.value):R?v<Y.value:V<new Date(Y.value))}if((T||F)&&(M(!!T,$.message,Y.message,Wn.max,Wn.min),!n))return _(S[g].message),S}if((u||f)&&!P&&(In(v)||o&&Array.isArray(v))){const T=Bi(u),F=Bi(f),$=!or(T.value)&&v.length>+T.value,Y=!or(F.value)&&v.length<+F.value;if(($||Y)&&(M($,T.message,F.message),!n))return _(S[g].message),S}if(p&&!P&&In(v)){const{value:T,message:F}=Bi(p);if(Yf(T)&&!v.match(T)&&(S[g]={type:Wn.pattern,message:F,ref:i,...O(Wn.pattern,F)},!n))return _(F),S}if(y){if(vn(y)){const T=await y(v,r),F=T1(T,x);if(F&&(S[g]={...F,...O(Wn.validate,F.message)},!n))return _(F.message),S}else if(gt(y)){let T={};for(const F in y){if(!hr(T)&&!n)break;const $=T1(await y[F](v,r),x,F);$&&(T={...$,...O(F,$.message)},_($.message),n&&(S[g]=T))}if(!hr(T)&&(S[g]={ref:x,...T},!n))return S}}return _(!0),S};const $V={mode:gn.onSubmit,reValidateMode:gn.onChange,shouldFocusError:!0};function LV(e={}){let t={...$V,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:vn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=gt(t.defaultValues)||gt(t.values)?Et(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Et(s),i={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const m={array:b1(),state:b1()},p=t.criteriaMode===gn.all,y=j=>D=>{clearTimeout(u),u=setTimeout(j,D)},g=async j=>{if(!t.disabled&&(f.isValid||h.isValid||j)){const D=t.resolver?hr((await k()).errors):await P(n,!0);D!==r.isValid&&m.state.next({isValid:D})}},b=(j,D)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((j||Array.from(a.mount)).forEach(z=>{z&&(D?ze(r.validatingFields,z,D):yt(r.validatingFields,z))}),m.state.next({validatingFields:r.validatingFields,isValidating:!hr(r.validatingFields)}))},w=(j,D=[],z,ne,re=!0,X=!0)=>{if(ne&&z&&!t.disabled){if(i.action=!0,X&&Array.isArray(oe(n,j))){const G=z(oe(n,j),ne.argA,ne.argB);re&&ze(n,j,G)}if(X&&Array.isArray(oe(r.errors,j))){const G=z(oe(r.errors,j),ne.argA,ne.argB);re&&ze(r.errors,j,G),DV(r.errors,j)}if((f.touchedFields||h.touchedFields)&&X&&Array.isArray(oe(r.touchedFields,j))){const G=z(oe(r.touchedFields,j),ne.argA,ne.argB);re&&ze(r.touchedFields,j,G)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Vl(s,o)),m.state.next({name:j,isDirty:M(j,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ze(o,j,D)},v=(j,D)=>{ze(r.errors,j,D),m.state.next({errors:r.errors})},x=j=>{r.errors=j,m.state.next({errors:r.errors,isValid:!1})},_=(j,D,z,ne)=>{const re=oe(n,j);if(re){const X=oe(o,j,pt(z)?oe(s,j):z);pt(X)||ne&&ne.defaultChecked||D?ze(o,j,D?X:k1(re._f)):$(j,X),i.mount&&g()}},S=(j,D,z,ne,re)=>{let X=!1,G=!1;const ge={name:j};if(!t.disabled){if(!z||ne){(f.isDirty||h.isDirty)&&(G=r.isDirty,r.isDirty=ge.isDirty=M(),X=G!==ge.isDirty);const je=Qn(oe(s,j),D);G=!!oe(r.dirtyFields,j),je?yt(r.dirtyFields,j):ze(r.dirtyFields,j,!0),ge.dirtyFields=r.dirtyFields,X=X||(f.dirtyFields||h.dirtyFields)&&G!==!je}if(z){const je=oe(r.touchedFields,j);je||(ze(r.touchedFields,j,z),ge.touchedFields=r.touchedFields,X=X||(f.touchedFields||h.touchedFields)&&je!==z)}X&&re&&m.state.next(ge)}return X?ge:{}},C=(j,D,z,ne)=>{const re=oe(r.errors,j),X=(f.isValid||h.isValid)&&Nr(D)&&r.isValid!==D;if(t.delayError&&z?(c=y(()=>v(j,z)),c(t.delayError)):(clearTimeout(u),c=null,z?ze(r.errors,j,z):yt(r.errors,j)),(z?!Qn(re,z):re)||!hr(ne)||X){const G={...ne,...X&&Nr(D)?{isValid:D}:{},errors:r.errors,name:j};r={...r,...G},m.state.next(G)}},k=async j=>{b(j,!0);const D=await t.resolver(o,t.context,RV(j||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(j),D},E=async j=>{const{errors:D}=await k(j);if(j)for(const z of j){const ne=oe(D,z);ne?ze(r.errors,z,ne):yt(r.errors,z)}else r.errors=D;return D},P=async(j,D,z={valid:!0})=>{for(const ne in j){const re=j[ne];if(re){const{_f:X,...G}=re;if(X){const ge=a.array.has(X.name),je=re._f&&TV(re._f);je&&f.validatingFields&&b([ne],!0);const Ge=await P1(re,a.disabled,o,p,t.shouldUseNativeValidation&&!D,ge);if(je&&f.validatingFields&&b([ne]),Ge[X.name]&&(z.valid=!1,D))break;!D&&(oe(Ge,X.name)?ge?MV(r.errors,Ge,X.name):ze(r.errors,X.name,Ge[X.name]):yt(r.errors,X.name))}!hr(G)&&await P(G,D,z)}}return z.valid},O=()=>{for(const j of a.unMount){const D=oe(n,j);D&&(D._f.refs?D._f.refs.every(z=>!tg(z)):!tg(D._f.ref))&&K(j)}a.unMount=new Set},M=(j,D)=>!t.disabled&&(j&&D&&ze(o,j,D),!Qn(U(),s)),T=(j,D,z)=>pT(j,a,{...i.mount?o:pt(D)?s:In(j)?{[j]:D}:D},z,D),F=j=>rx(oe(i.mount?o:s,j,t.shouldUnregister?oe(s,j,[]):[])),$=(j,D,z={})=>{const ne=oe(n,j);let re=D;if(ne){const X=ne._f;X&&(!X.disabled&&ze(o,j,xT(D,X)),re=Gf(X.ref)&&or(D)?"":D,gT(X.ref)?[...X.ref.options].forEach(G=>G.selected=re.includes(G.value)):X.refs?Iu(X.ref)?X.refs.forEach(G=>{(!G.defaultChecked||!G.disabled)&&(Array.isArray(re)?G.checked=!!re.find(ge=>ge===G.value):G.checked=re===G.value||!!re)}):X.refs.forEach(G=>G.checked=G.value===re):ix(X.ref)?X.ref.value="":(X.ref.value=re,X.ref.type||m.state.next({name:j,values:Et(o)})))}(z.shouldDirty||z.shouldTouch)&&S(j,re,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&R(j)},Y=(j,D,z)=>{for(const ne in D){if(!D.hasOwnProperty(ne))return;const re=D[ne],X=j+"."+ne,G=oe(n,X);(a.array.has(j)||gt(re)||G&&!G._f)&&!Bo(re)?Y(X,re,z):$(X,re,z)}},V=(j,D,z={})=>{const ne=oe(n,j),re=a.array.has(j),X=Et(D);ze(o,j,X),re?(m.array.next({name:j,values:Et(o)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&z.shouldDirty&&m.state.next({name:j,dirtyFields:Vl(s,o),isDirty:M(j,X)})):ne&&!ne._f&&!or(X)?Y(j,X,z):$(j,X,z),N1(j,a)&&m.state.next({...r,name:j}),m.state.next({name:i.mount?j:void 0,values:Et(o)})},H=async j=>{i.mount=!0;const D=j.target;let z=D.name,ne=!0;const re=oe(n,z),X=je=>{ne=Number.isNaN(je)||Bo(je)&&isNaN(je.getTime())||Qn(je,oe(o,z,je))},G=E1(t.mode),ge=E1(t.reValidateMode);if(re){let je,Ge;const zr=D.type?k1(re._f):dT(j),Ct=j.type===Kf.BLUR||j.type===Kf.FOCUS_OUT,jo=!PV(re._f)&&!t.resolver&&!oe(r.errors,z)&&!re._f.deps||IV(Ct,oe(r.touchedFields,z),r.isSubmitted,ge,G),zn=N1(z,a,Ct);ze(o,z,zr),Ct?(re._f.onBlur&&re._f.onBlur(j),c&&c(0)):re._f.onChange&&re._f.onChange(j);const Vr=S(z,zr,Ct),vs=!hr(Vr)||zn;if(!Ct&&m.state.next({name:z,type:j.type,values:Et(o)}),jo)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ct&&g():Ct||g()),vs&&m.state.next({name:z,...zn?{}:Vr});if(!Ct&&zn&&m.state.next({...r}),t.resolver){const{errors:Wr}=await k([z]);if(X(zr),ne){const jl=R1(r.errors,n,z),No=R1(Wr,n,jl.name||z);je=No.error,z=No.name,Ge=hr(Wr)}}else b([z],!0),je=(await P1(re,a.disabled,o,p,t.shouldUseNativeValidation))[z],b([z]),X(zr),ne&&(je?Ge=!1:(f.isValid||h.isValid)&&(Ge=await P(n,!0)));ne&&(re._f.deps&&R(re._f.deps),C(z,Ge,je,Vr))}},I=(j,D)=>{if(oe(r.errors,D)&&j.focus)return j.focus(),1},R=async(j,D={})=>{let z,ne;const re=vc(j);if(t.resolver){const X=await E(pt(j)?j:re);z=hr(X),ne=j?!re.some(G=>oe(X,G)):z}else j?(ne=(await Promise.all(re.map(async X=>{const G=oe(n,X);return await P(G&&G._f?{[X]:G}:G)}))).every(Boolean),!(!ne&&!r.isValid)&&g()):ne=z=await P(n);return m.state.next({...!In(j)||(f.isValid||h.isValid)&&z!==r.isValid?{}:{name:j},...t.resolver||!j?{isValid:z}:{},errors:r.errors}),D.shouldFocus&&!ne&&yc(n,I,j?re:a.mount),ne},U=j=>{const D={...i.mount?o:s};return pt(j)?D:In(j)?oe(D,j):j.map(z=>oe(D,z))},q=(j,D)=>({invalid:!!oe((D||r).errors,j),isDirty:!!oe((D||r).dirtyFields,j),error:oe((D||r).errors,j),isValidating:!!oe(r.validatingFields,j),isTouched:!!oe((D||r).touchedFields,j)}),A=j=>{j&&vc(j).forEach(D=>yt(r.errors,D)),m.state.next({errors:j?r.errors:{}})},W=(j,D,z)=>{const ne=(oe(n,j,{_f:{}})._f||{}).ref,re=oe(r.errors,j)||{},{ref:X,message:G,type:ge,...je}=re;ze(r.errors,j,{...je,...D,ref:ne}),m.state.next({name:j,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&ne&&ne.focus&&ne.focus()},Z=(j,D)=>vn(j)?m.state.subscribe({next:z=>"values"in z&&j(T(void 0,D),z)}):T(j,D,!0),Q=j=>m.state.subscribe({next:D=>{OV(j.name,D.name,j.exact)&&AV(D,j.formState||f,ur,j.reRenderRoot)&&j.callback({values:{...o},...r,...D,defaultValues:s})}}).unsubscribe,ae=j=>(i.mount=!0,h={...h,...j.formState},Q({...j,formState:h})),K=(j,D={})=>{for(const z of j?vc(j):a.mount)a.mount.delete(z),a.array.delete(z),D.keepValue||(yt(n,z),yt(o,z)),!D.keepError&&yt(r.errors,z),!D.keepDirty&&yt(r.dirtyFields,z),!D.keepTouched&&yt(r.touchedFields,z),!D.keepIsValidating&&yt(r.validatingFields,z),!t.shouldUnregister&&!D.keepDefaultValue&&yt(s,z);m.state.next({values:Et(o)}),m.state.next({...r,...D.keepDirty?{isDirty:M()}:{}}),!D.keepIsValid&&g()},he=({disabled:j,name:D})=>{(Nr(j)&&i.mount||j||a.disabled.has(D))&&(j?a.disabled.add(D):a.disabled.delete(D))},de=(j,D={})=>{let z=oe(n,j);const ne=Nr(D.disabled)||Nr(t.disabled);return ze(n,j,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:j}},name:j,mount:!0,...D}}),a.mount.add(j),z?he({disabled:Nr(D.disabled)?D.disabled:t.disabled,name:j}):_(j,!0,D.value),{...ne?{disabled:D.disabled||t.disabled}:{},...t.progressive?{required:!!D.required,min:Wl(D.min),max:Wl(D.max),minLength:Wl(D.minLength),maxLength:Wl(D.maxLength),pattern:Wl(D.pattern)}:{},name:j,onChange:H,onBlur:H,ref:re=>{if(re){de(j,D),z=oe(n,j);const X=pt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,G=EV(X),ge=z._f.refs||[];if(G?ge.find(je=>je===X):X===z._f.ref)return;ze(n,j,{_f:{...z._f,...G?{refs:[...ge.filter(tg),X,...Array.isArray(oe(s,j))?[{}]:[]],ref:{type:X.type,name:j}}:{ref:X}}}),_(j,!1,void 0,X)}else z=oe(n,j,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||D.shouldUnregister)&&!(fT(a.array,j)&&i.action)&&a.unMount.add(j)}}},se=()=>t.shouldFocusError&&yc(n,I,a.mount),Ce=j=>{Nr(j)&&(m.state.next({disabled:j}),yc(n,(D,z)=>{const ne=oe(n,z);ne&&(D.disabled=ne._f.disabled||j,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(re=>{re.disabled=ne._f.disabled||j}))},0,!1))},_e=(j,D)=>async z=>{let ne;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let re=Et(o);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:G}=await k();r.errors=X,re=Et(G)}else await P(n);if(a.disabled.size)for(const X of a.disabled)yt(re,X);if(yt(r.errors,"root"),hr(r.errors)){m.state.next({errors:{}});try{await j(re,z)}catch(X){ne=X}}else D&&await D({...r.errors},z),se(),setTimeout(se);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hr(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},He=(j,D={})=>{oe(n,j)&&(pt(D.defaultValue)?V(j,Et(oe(s,j))):(V(j,D.defaultValue),ze(s,j,Et(D.defaultValue))),D.keepTouched||yt(r.touchedFields,j),D.keepDirty||(yt(r.dirtyFields,j),r.isDirty=D.defaultValue?M(j,Et(oe(s,j))):M()),D.keepError||(yt(r.errors,j),f.isValid&&g()),m.state.next({...r}))},Ke=(j,D={})=>{const z=j?Et(j):s,ne=Et(z),re=hr(j),X=re?s:ne;if(D.keepDefaultValues||(s=z),!D.keepValues){if(D.keepDirtyValues){const G=new Set([...a.mount,...Object.keys(Vl(s,o))]);for(const ge of Array.from(G))oe(r.dirtyFields,ge)?ze(X,ge,oe(o,ge)):V(ge,oe(X,ge))}else{if(tx&&pt(j))for(const G of a.mount){const ge=oe(n,G);if(ge&&ge._f){const je=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Gf(je)){const Ge=je.closest("form");if(Ge){Ge.reset();break}}}}if(D.keepFieldsRef)for(const G of a.mount)V(G,oe(X,G));else n={}}o=t.shouldUnregister?D.keepDefaultValues?Et(s):{}:Et(X),m.array.next({values:{...X}}),m.state.next({values:{...X}})}a={mount:D.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!D.keepIsValid||!!D.keepDirtyValues,i.watch=!!t.shouldUnregister,m.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:re?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Qn(j,s)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:D.keepDirtyValues?D.keepDefaultValues&&o?Vl(s,o):r.dirtyFields:D.keepDefaultValues&&j?Vl(s,j):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(j,D)=>Ke(vn(j)?j(o):j,D),St=(j,D={})=>{const z=oe(n,j),ne=z&&z._f;if(ne){const re=ne.refs?ne.refs[0]:ne.ref;re.focus&&(re.focus(),D.shouldSelect&&vn(re.select)&&re.select())}},ur=j=>{r={...r,...j}},Xt={control:{register:de,unregister:K,getFieldState:q,handleSubmit:_e,setError:W,_subscribe:Q,_runSchema:k,_focusError:se,_getWatch:T,_getDirty:M,_setValid:g,_setFieldArray:w,_setDisabledField:he,_setErrors:x,_getFieldArray:F,_reset:Ke,_resetDefaultValues:()=>vn(t.defaultValues)&&t.defaultValues().then(j=>{_t(j,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Ce,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(j){i=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return r},get _options(){return t},set _options(j){t={...t,...j}}},subscribe:ae,trigger:R,register:de,handleSubmit:_e,watch:Z,setValue:V,getValues:U,reset:_t,resetField:He,clearErrors:A,unregister:K,setError:W,setFocus:St,getFieldState:q};return{...Xt,formControl:Xt}}function _T(e={}){const t=L.useRef(void 0),r=L.useRef(void 0),[n,s]=L.useState({isDirty:!1,isValidating:!1,isLoading:vn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!vn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...a}=LV(e);t.current={...a,formState:n}}const o=t.current.control;return o._options=e,ox(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),o._formState.isReady=!0,i},[o]),L.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),L.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),L.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),L.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),L.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),L.useEffect(()=>{e.values&&!Qn(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[o,e.values]),L.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=hT(n,o),t.current}const A1=(e,t,r)=>{if(e&&"reportValidity"in e){const n=oe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ST=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?A1(n.ref,r,e):n.refs&&n.refs.forEach(s=>A1(s,r,e))}},FV=(e,t)=>{t.shouldUseNativeValidation&&ST(e,t);const r={};for(const n in e){const s=oe(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(UV(t.names||Object.keys(e),n)){const i=Object.assign({},oe(r,n));ze(i,"root",o),ze(r,n,i)}else ze(r,n,o)}return r},UV=(e,t)=>e.some(r=>r.startsWith(t+"."));var BV=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[i]={message:a.message,type:a.code}}else r[i]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=mT(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},CT=function(e,t,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(i,a){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return o.shouldUseNativeValidation&&ST({},o),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(i){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(i))return{values:{},errors:FV(BV(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},Ue;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ue||(Ue={}));var O1;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(O1||(O1={}));const fe=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ns=e=>{switch(typeof e){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return Number.isNaN(e)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(e)?fe.array:e===null?fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?fe.promise:typeof Map<"u"&&e instanceof Map?fe.map:typeof Set<"u"&&e instanceof Set?fe.set:typeof Date<"u"&&e instanceof Date?fe.date:fe.object;default:return fe.unknown}},te=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class us extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof us))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}us.create=e=>new us(e);const iy=(e,t)=>{let r;switch(e.code){case te.invalid_type:e.received===fe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case te.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ue.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ue.joinValues(e.keys,", ")}`;break;case te.invalid_union:r="Invalid input";break;case te.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ue.joinValues(e.options)}`;break;case te.invalid_enum_value:r=`Invalid enum value. Expected ${Ue.joinValues(e.options)}, received '${e.received}'`;break;case te.invalid_arguments:r="Invalid function arguments";break;case te.invalid_return_type:r="Invalid function return type";break;case te.invalid_date:r="Invalid date";break;case te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ue.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case te.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case te.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case te.custom:r="Invalid input";break;case te.invalid_intersection_types:r="Intersection results could not be merged";break;case te.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case te.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ue.assertNever(e)}return{message:r}};let zV=iy;function VV(){return zV}const WV=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(i,{data:t,defaultError:a}).message;return{...s,path:o,message:a}};function ce(e,t){const r=VV(),n=WV({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===iy?void 0:iy].filter(s=>!!s)});e.common.issues.push(n)}class Lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ke;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return Lr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return ke;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const ke=Object.freeze({status:"aborted"}),tc=e=>({status:"dirty",value:e}),tn=e=>({status:"valid",value:e}),I1=e=>e.status==="aborted",D1=e=>e.status==="dirty",qa=e=>e.status==="valid",Zf=e=>typeof Promise<"u"&&e instanceof Promise;var pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(pe||(pe={}));class fo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const M1=(e,t)=>{if(qa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new us(e.common.issues);return this._error=r,this._error}}};function Ie(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,a)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??n??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:s}}class Fe{get description(){return this._def.description}_getType(t){return Ns(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ns(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Lr,ctx:{common:t.parent.common,data:t.data,parsedType:Ns(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Zf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ns(t)},s=this._parseSync({data:t,path:n.path,parent:n});return M1(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ns(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:r});return qa(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(s=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>qa(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ns(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(Zf(s)?s:Promise.resolve(s));return M1(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),a=()=>o.addIssue({code:te.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Za({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return no.create(this,this._def)}nullable(){return Qa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ln.create(this)}promise(){return eh.create(this,this._def)}or(t){return Jf.create([this,t],this._def)}and(t){return Xf.create(this,t,this._def)}transform(t){return new Za({...Ie(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ly({...Ie(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new h7({typeName:Ee.ZodBranded,type:this,...Ie(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new cy({...Ie(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return lx.create(this,t)}readonly(){return uy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HV=/^c[^\s-]{8,}$/i,KV=/^[0-9a-z]+$/,GV=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,YV=/^[a-z0-9_-]{21}$/i,ZV=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,JV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rg;const e7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,r7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,n7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,o7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",i7=new RegExp(`^${kT}$`);function ET(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function a7(e){return new RegExp(`^${ET(e)}$`)}function l7(e){let t=`${kT}T${ET(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function c7(e,t){return!!((t==="v4"||!t)&&e7.test(e)||(t==="v6"||!t)&&r7.test(e))}function u7(e,t){if(!ZV.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function d7(e,t){return!!((t==="v4"||!t)&&t7.test(e)||(t==="v6"||!t)&&n7.test(e))}class Ks extends Fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==fe.string){const o=this._getOrReturnCtx(t);return ce(o,{code:te.invalid_type,expected:fe.string,received:o.parsedType}),ke}const n=new Lr;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:te.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:te.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,a=t.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(t,s),i?ce(s,{code:te.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&ce(s,{code:te.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")JV.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"email",code:te.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")rg||(rg=new RegExp(XV,"u")),rg.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"emoji",code:te.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")qV.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"uuid",code:te.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")YV.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"nanoid",code:te.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")HV.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"cuid",code:te.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")KV.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"cuid2",code:te.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")GV.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"ulid",code:te.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ce(s,{validation:"url",code:te.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"regex",code:te.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),ce(s,{code:te.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),ce(s,{code:te.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),ce(s,{code:te.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?l7(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{code:te.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?i7.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{code:te.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?a7(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{code:te.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?QV.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"duration",code:te.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?c7(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"ip",code:te.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?u7(t.data,o.alg)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"jwt",code:te.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?d7(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"cidr",code:te.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?s7.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"base64",code:te.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?o7.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"base64url",code:te.invalid_string,message:o.message}),n.dirty()):Ue.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:te.invalid_string,...pe.errToObj(n)})}_addCheck(t){return new Ks({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...pe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...pe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...pe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...pe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...pe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...pe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...pe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...pe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...pe.errToObj(r)})}nonempty(t){return this.min(1,pe.errToObj(t))}trim(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ks.create=e=>new Ks({checks:[],typeName:Ee.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ie(e)});function f7(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return o%i/10**s}class ru extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==fe.number){const o=this._getOrReturnCtx(t);return ce(o,{code:te.invalid_type,expected:fe.number,received:o.parsedType}),ke}let n;const s=new Lr;for(const o of this._def.checks)o.kind==="int"?Ue.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ce(n,{code:te.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ce(n,{code:te.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ce(n,{code:te.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?f7(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),ce(n,{code:te.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ce(n,{code:te.not_finite,message:o.message}),s.dirty()):Ue.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,n,s){return new ru({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(t){return new ru({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ue.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ru.create=e=>new ru({checks:[],typeName:Ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class nu extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==fe.bigint)return this._getInvalidInput(t);let n;const s=new Lr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ce(n,{code:te.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ce(n,{code:te.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ce(n,{code:te.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ue.assertNever(o);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ce(r,{code:te.invalid_type,expected:fe.bigint,received:r.parsedType}),ke}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,n,s){return new nu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(t){return new nu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}nu.create=e=>new nu({checks:[],typeName:Ee.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ie(e)});class $1 extends Fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==fe.boolean){const n=this._getOrReturnCtx(t);return ce(n,{code:te.invalid_type,expected:fe.boolean,received:n.parsedType}),ke}return tn(t.data)}}$1.create=e=>new $1({typeName:Ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class Qf extends Fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==fe.date){const o=this._getOrReturnCtx(t);return ce(o,{code:te.invalid_type,expected:fe.date,received:o.parsedType}),ke}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ce(o,{code:te.invalid_date}),ke}const n=new Lr;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:te.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:te.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ue.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Qf({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:pe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:pe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Qf.create=e=>new Qf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ee.ZodDate,...Ie(e)});class L1 extends Fe{_parse(t){if(this._getType(t)!==fe.symbol){const n=this._getOrReturnCtx(t);return ce(n,{code:te.invalid_type,expected:fe.symbol,received:n.parsedType}),ke}return tn(t.data)}}L1.create=e=>new L1({typeName:Ee.ZodSymbol,...Ie(e)});class F1 extends Fe{_parse(t){if(this._getType(t)!==fe.undefined){const n=this._getOrReturnCtx(t);return ce(n,{code:te.invalid_type,expected:fe.undefined,received:n.parsedType}),ke}return tn(t.data)}}F1.create=e=>new F1({typeName:Ee.ZodUndefined,...Ie(e)});class U1 extends Fe{_parse(t){if(this._getType(t)!==fe.null){const n=this._getOrReturnCtx(t);return ce(n,{code:te.invalid_type,expected:fe.null,received:n.parsedType}),ke}return tn(t.data)}}U1.create=e=>new U1({typeName:Ee.ZodNull,...Ie(e)});class B1 extends Fe{constructor(){super(...arguments),this._any=!0}_parse(t){return tn(t.data)}}B1.create=e=>new B1({typeName:Ee.ZodAny,...Ie(e)});class z1 extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return tn(t.data)}}z1.create=e=>new z1({typeName:Ee.ZodUnknown,...Ie(e)});class ho extends Fe{_parse(t){const r=this._getOrReturnCtx(t);return ce(r,{code:te.invalid_type,expected:fe.never,received:r.parsedType}),ke}}ho.create=e=>new ho({typeName:Ee.ZodNever,...Ie(e)});class V1 extends Fe{_parse(t){if(this._getType(t)!==fe.undefined){const n=this._getOrReturnCtx(t);return ce(n,{code:te.invalid_type,expected:fe.void,received:n.parsedType}),ke}return tn(t.data)}}V1.create=e=>new V1({typeName:Ee.ZodVoid,...Ie(e)});class Ln extends Fe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==fe.array)return ce(r,{code:te.invalid_type,expected:fe.array,received:r.parsedType}),ke;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(i||a)&&(ce(r,{code:i?te.too_big:te.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ce(r,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ce(r,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>s.type._parseAsync(new fo(r,i,r.path,a)))).then(i=>Lr.mergeArray(n,i));const o=[...r.data].map((i,a)=>s.type._parseSync(new fo(r,i,r.path,a)));return Lr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Ln({...this._def,minLength:{value:t,message:pe.toString(r)}})}max(t,r){return new Ln({...this._def,maxLength:{value:t,message:pe.toString(r)}})}length(t,r){return new Ln({...this._def,exactLength:{value:t,message:pe.toString(r)}})}nonempty(t){return this.min(1,t)}}Ln.create=(e,t)=>new Ln({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Ie(t)});function Gi(e){if(e instanceof ft){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=no.create(Gi(n))}return new ft({...e._def,shape:()=>t})}else return e instanceof Ln?new Ln({...e._def,type:Gi(e.element)}):e instanceof no?no.create(Gi(e.unwrap())):e instanceof Qa?Qa.create(Gi(e.unwrap())):e instanceof vi?vi.create(e.items.map(t=>Gi(t))):e}class ft extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ue.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==fe.object){const u=this._getOrReturnCtx(t);return ce(u,{code:te.invalid_type,expected:fe.object,received:u.parsedType}),ke}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof ho&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||a.push(u);const c=[];for(const u of i){const f=o[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new fo(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ho){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")a.length>0&&(ce(s,{code:te.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of a){const h=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new fo(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const h=await f.key,m=await f.value;u.push({key:h,value:m,alwaysSet:f.alwaysSet})}return u}).then(u=>Lr.mergeObjectSync(n,u)):Lr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return pe.errToObj,new ft({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i;const s=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:pe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ft({...this._def,unknownKeys:"strip"})}passthrough(){return new ft({...this._def,unknownKeys:"passthrough"})}extend(t){return new ft({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ft({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ee.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ft({...this._def,catchall:t})}pick(t){const r={};for(const n of Ue.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ft({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ue.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ft({...this._def,shape:()=>r})}deepPartial(){return Gi(this)}partial(t){const r={};for(const n of Ue.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new ft({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ue.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof no;)o=o._def.innerType;r[n]=o}return new ft({...this._def,shape:()=>r})}keyof(){return jT(Ue.objectKeys(this.shape))}}ft.create=(e,t)=>new ft({shape:()=>e,unknownKeys:"strip",catchall:ho.create(),typeName:Ee.ZodObject,...Ie(t)});ft.strictCreate=(e,t)=>new ft({shape:()=>e,unknownKeys:"strict",catchall:ho.create(),typeName:Ee.ZodObject,...Ie(t)});ft.lazycreate=(e,t)=>new ft({shape:e,unknownKeys:"strip",catchall:ho.create(),typeName:Ee.ZodObject,...Ie(t)});class Jf extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new us(a.ctx.common.issues));return ce(r,{code:te.invalid_union,unionErrors:i}),ke}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(c=>new us(c));return ce(r,{code:te.invalid_union,unionErrors:a}),ke}}get options(){return this._def.options}}Jf.create=(e,t)=>new Jf({options:e,typeName:Ee.ZodUnion,...Ie(t)});function ay(e,t){const r=Ns(e),n=Ns(t);if(e===t)return{valid:!0,data:e};if(r===fe.object&&n===fe.object){const s=Ue.objectKeys(t),o=Ue.objectKeys(e).filter(a=>s.indexOf(a)!==-1),i={...e,...t};for(const a of o){const c=ay(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===fe.array&&n===fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],a=t[o],c=ay(i,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===fe.date&&n===fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Xf extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(I1(o)||I1(i))return ke;const a=ay(o.value,i.value);return a.valid?((D1(o)||D1(i))&&r.dirty(),{status:r.value,value:a.data}):(ce(n,{code:te.invalid_intersection_types}),ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Xf.create=(e,t,r)=>new Xf({left:e,right:t,typeName:Ee.ZodIntersection,...Ie(r)});class vi extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.array)return ce(n,{code:te.invalid_type,expected:fe.array,received:n.parsedType}),ke;if(n.data.length<this._def.items.length)return ce(n,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&n.data.length>this._def.items.length&&(ce(n,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new fo(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>Lr.mergeArray(r,i)):Lr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new vi({...this._def,rest:t})}}vi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vi({items:e,typeName:Ee.ZodTuple,rest:null,...Ie(t)})};class W1 extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.map)return ce(n,{code:te.invalid_type,expected:fe.map,received:n.parsedType}),ke;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new fo(n,a,n.path,[u,"key"])),value:o._parse(new fo(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return ke;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(u.value,f.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of i){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return ke;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(u.value,f.value)}return{status:r.value,value:a}}}}W1.create=(e,t,r)=>new W1({valueType:t,keyType:e,typeName:Ee.ZodMap,...Ie(r)});class su extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.set)return ce(n,{code:te.invalid_type,expected:fe.set,received:n.parsedType}),ke;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ce(n,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ce(n,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const f of c){if(f.status==="aborted")return ke;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>o._parse(new fo(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,r){return new su({...this._def,minSize:{value:t,message:pe.toString(r)}})}max(t,r){return new su({...this._def,maxSize:{value:t,message:pe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}su.create=(e,t)=>new su({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Ie(t)});class H1 extends Fe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}H1.create=(e,t)=>new H1({getter:e,typeName:Ee.ZodLazy,...Ie(t)});class K1 extends Fe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ce(r,{received:r.data,code:te.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}K1.create=(e,t)=>new K1({value:e,typeName:Ee.ZodLiteral,...Ie(t)});function jT(e,t){return new Ya({values:e,typeName:Ee.ZodEnum,...Ie(t)})}class Ya extends Fe{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ce(r,{expected:Ue.joinValues(n),received:r.parsedType,code:te.invalid_type}),ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ce(r,{received:r.data,code:te.invalid_enum_value,options:n}),ke}return tn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ya.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ya.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ya.create=jT;class G1 extends Fe{_parse(t){const r=Ue.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==fe.string&&n.parsedType!==fe.number){const s=Ue.objectValues(r);return ce(n,{expected:Ue.joinValues(s),received:n.parsedType,code:te.invalid_type}),ke}if(this._cache||(this._cache=new Set(Ue.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ue.objectValues(r);return ce(n,{received:n.data,code:te.invalid_enum_value,options:s}),ke}return tn(t.data)}get enum(){return this._def.values}}G1.create=(e,t)=>new G1({values:e,typeName:Ee.ZodNativeEnum,...Ie(t)});class eh extends Fe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.promise&&r.common.async===!1)return ce(r,{code:te.invalid_type,expected:fe.promise,received:r.parsedType}),ke;const n=r.parsedType===fe.promise?r.data:Promise.resolve(r.data);return tn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}eh.create=(e,t)=>new eh({type:e,typeName:Ee.ZodPromise,...Ie(t)});class Za extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{ce(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return ke;const c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?ke:c.status==="dirty"||r.value==="dirty"?tc(c.value):c});{if(r.value==="aborted")return ke;const a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?ke:a.status==="dirty"||r.value==="dirty"?tc(a.value):a}}if(s.type==="refinement"){const i=a=>{const c=s.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ke:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ke:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qa(i))return ke;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>qa(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:r.value,value:a})):ke);Ue.assertNever(s)}}Za.create=(e,t,r)=>new Za({schema:e,typeName:Ee.ZodEffects,effect:t,...Ie(r)});Za.createWithPreprocess=(e,t,r)=>new Za({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects,...Ie(r)});class no extends Fe{_parse(t){return this._getType(t)===fe.undefined?tn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}no.create=(e,t)=>new no({innerType:e,typeName:Ee.ZodOptional,...Ie(t)});class Qa extends Fe{_parse(t){return this._getType(t)===fe.null?tn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qa.create=(e,t)=>new Qa({innerType:e,typeName:Ee.ZodNullable,...Ie(t)});class ly extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ly.create=(e,t)=>new ly({innerType:e,typeName:Ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ie(t)});class cy extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new us(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new us(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}cy.create=(e,t)=>new cy({innerType:e,typeName:Ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ie(t)});class q1 extends Fe{_parse(t){if(this._getType(t)!==fe.nan){const n=this._getOrReturnCtx(t);return ce(n,{code:te.invalid_type,expected:fe.nan,received:n.parsedType}),ke}return{status:"valid",value:t.data}}}q1.create=e=>new q1({typeName:Ee.ZodNaN,...Ie(e)});class h7 extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class lx extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ke:o.status==="dirty"?(r.dirty(),tc(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ke:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new lx({in:t,out:r,typeName:Ee.ZodPipeline})}}class uy extends Fe{_parse(t){const r=this._def.innerType._parse(t),n=s=>(qa(s)&&(s.value=Object.freeze(s.value)),s);return Zf(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}uy.create=(e,t)=>new uy({innerType:e,typeName:Ee.ZodReadonly,...Ie(t)});ft.lazycreate;var Ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const ua=Ks.create;ho.create;Ln.create;const NT=ft.create;ft.strictCreate;Jf.create;Xf.create;vi.create;Ya.create;eh.create;no.create;Qa.create;const p7=""+new URL("splash-image-DR3bg2_b.png",import.meta.url).href,cx=({children:e})=>l.jsxs("div",{className:"flex min-h-screen",children:[l.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-primary",children:[l.jsx("img",{src:p7,alt:"Spiritual sanctuary",className:"absolute inset-0 w-full h-full object-cover opacity-90"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),l.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 text-primary-foreground",children:[l.jsx("img",{src:Vf,alt:"Ibadat",className:"w-24 h-auto brightness-0 invert"}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-3 font-display",children:"Your Spiritual Life, Organized"}),l.jsx("p",{className:"text-lg opacity-90",children:"Track prayers, manage dues, and cultivate daily habits with intention."})]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 lg:px-16 bg-background",children:[l.jsx("div",{className:"lg:hidden mb-8",children:l.jsx("img",{src:Vf,alt:"Ibadat",className:"w-20 h-auto"})}),l.jsx("div",{className:"w-full max-w-md mx-auto",children:e})]})]}),th=L.forwardRef(({className:e,...t},r)=>{const[n,s]=d.useState(!1);return l.jsxs("div",{className:"relative",children:[l.jsx(Qe,{ref:r,type:n?"text":"password",className:B("pr-10",e),...t}),l.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:n?l.jsx(JU,{className:"h-4 w-4"}):l.jsx(s8,{className:"h-4 w-4"})})]})});th.displayName="PasswordInput";const RT=bV,TT=d.createContext({}),da=({...e})=>l.jsx(TT.Provider,{value:{name:e.name},children:l.jsx(kV,{...e})}),cp=()=>{const e=d.useContext(TT),t=d.useContext(PT),{getFieldState:r,formState:n}=lp(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},PT=d.createContext({}),zo=d.forwardRef(({className:e,...t},r)=>{const n=d.useId();return l.jsx(PT.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:B("space-y-2",e),...t})})});zo.displayName="FormItem";const Vo=d.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=cp();return l.jsx(Se,{ref:r,className:B(n&&"text-destructive",e),htmlFor:s,...t})});Vo.displayName="FormLabel";const Wo=d.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=cp();return l.jsx(Si,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});Wo.displayName="FormControl";const m7=d.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=cp();return l.jsx("p",{ref:r,id:n,className:B("text-sm text-muted-foreground",e),...t})});m7.displayName="FormDescription";const Ho=d.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=cp(),i=s?String(s==null?void 0:s.message):t;return i?l.jsx("p",{ref:n,id:o,className:B("text-sm font-medium text-destructive",e),...r,children:i}):null});Ho.displayName="FormMessage";const g7=NT({email:ua().trim().email({message:"Please enter a valid email address"}),password:ua().min(6,{message:"Password must be at least 6 characters"})}),v7=()=>{const{signIn:e,user:t,loading:r}=Ot(),[n,s]=d.useState(!1),o=_T({resolver:CT(g7),defaultValues:{email:"",password:""}}),i=async a=>{s(!0);const{error:c}=await e(a.email,a.password);s(!1),c&&Ef({title:"Login failed",description:c.message,variant:"destructive"})};return r?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-foreground border-t-transparent"})}):t?l.jsx(Hc,{to:"/dashboard",replace:!0}):l.jsx(cx,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight font-display",children:"Welcome Back"}),l.jsx("p",{className:"text-muted-foreground",children:"Enter your credentials to access your account"})]}),l.jsx(RT,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-4",children:[l.jsx(da,{control:o.control,name:"email",render:({field:a})=>l.jsxs(zo,{children:[l.jsx(Vo,{children:"Email"}),l.jsx(Wo,{children:l.jsx(Qe,{type:"email",placeholder:"you@example.com",autoComplete:"email",...a})}),l.jsx(Ho,{})]})}),l.jsx(da,{control:o.control,name:"password",render:({field:a})=>l.jsxs(zo,{children:[l.jsx(Vo,{children:"Password"}),l.jsx(Wo,{children:l.jsx(th,{placeholder:"",autoComplete:"current-password",...a})}),l.jsx(Ho,{})]})}),l.jsx(Pe,{type:"submit",className:"w-full",disabled:n,children:n?"Signing in...":"Sign In"})]})}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",l.jsx(Vw,{to:"/auth/signup",className:"font-medium text-foreground hover:underline",children:"Create one"})]})]})})},y7=NT({fullName:ua().trim().min(2,{message:"Name must be at least 2 characters"}).max(100),email:ua().trim().email({message:"Please enter a valid email address"}),password:ua().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:ua()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),w7=()=>{const{signUp:e,user:t,loading:r}=Ot(),[n,s]=d.useState(!1),o=_T({resolver:CT(y7),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),i=async a=>{s(!0);const{error:c}=await e(a.email,a.password,a.fullName);s(!1),Ef(c?{title:"Signup failed",description:c.message,variant:"destructive"}:{title:"Account created",description:"Please check your email to verify your account."})};return r?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-foreground border-t-transparent"})}):t?l.jsx(Hc,{to:"/dashboard",replace:!0}):l.jsx(cx,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight font-display",children:"Create Account"}),l.jsx("p",{className:"text-muted-foreground",children:"Start your journey towards a more organized spiritual life"})]}),l.jsx(RT,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-4",children:[l.jsx(da,{control:o.control,name:"fullName",render:({field:a})=>l.jsxs(zo,{children:[l.jsx(Vo,{children:"Full Name"}),l.jsx(Wo,{children:l.jsx(Qe,{placeholder:"Your name",autoComplete:"name",...a})}),l.jsx(Ho,{})]})}),l.jsx(da,{control:o.control,name:"email",render:({field:a})=>l.jsxs(zo,{children:[l.jsx(Vo,{children:"Email"}),l.jsx(Wo,{children:l.jsx(Qe,{type:"email",placeholder:"you@example.com",autoComplete:"email",...a})}),l.jsx(Ho,{})]})}),l.jsx(da,{control:o.control,name:"password",render:({field:a})=>l.jsxs(zo,{children:[l.jsx(Vo,{children:"Password"}),l.jsx(Wo,{children:l.jsx(th,{placeholder:"",autoComplete:"new-password",...a})}),l.jsx(Ho,{})]})}),l.jsx(da,{control:o.control,name:"confirmPassword",render:({field:a})=>l.jsxs(zo,{children:[l.jsx(Vo,{children:"Confirm Password"}),l.jsx(Wo,{children:l.jsx(th,{placeholder:"",autoComplete:"new-password",...a})}),l.jsx(Ho,{})]})}),l.jsx(Pe,{type:"submit",className:"w-full",disabled:n,children:n?"Creating account...":"Create Account"})]})}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",l.jsx(Vw,{to:"/auth",className:"font-medium text-foreground hover:underline",children:"Sign in"})]})]})})};var up="Checkbox",[x7,_Z]=At(up),[b7,ux]=x7(up);function _7(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:h}=e,[m,p]=Qt({prop:r,defaultProp:s??!1,onChange:c,caller:up}),[y,g]=d.useState(null),[b,w]=d.useState(null),v=d.useRef(!1),x=y?!!i||!!y.closest("form"):!0,_={checked:m,disabled:o,setChecked:p,control:y,setControl:g,name:a,form:i,value:f,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:so(s)?!1:s,isFormControl:x,bubbleInput:b,setBubbleInput:w};return l.jsx(b7,{scope:t,..._,children:S7(h)?h(_):n})}var AT="CheckboxTrigger",OT=d.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:y}=ux(AT,e),g=Ne(s,f),b=d.useRef(c);return d.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const v=()=>h(b.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[o,h]),l.jsx(ie.button,{type:"button",role:"checkbox","aria-checked":so(c)?"mixed":c,"aria-required":u,"data-state":LT(c),"data-disabled":a?"":void 0,disabled:a,value:i,...n,ref:g,onKeyDown:ee(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ee(r,w=>{h(v=>so(v)?!0:!v),y&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});OT.displayName=AT;var dx=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:f,...h}=e;return l.jsx(_7,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(OT,{...h,ref:t,__scopeCheckbox:r}),m&&l.jsx($T,{__scopeCheckbox:r})]})})});dx.displayName=up;var IT="CheckboxIndicator",DT=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=ux(IT,r);return l.jsx(Jt,{present:n||so(o.checked)||o.checked===!0,children:l.jsx(ie.span,{"data-state":LT(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});DT.displayName=IT;var MT="CheckboxBubbleInput",$T=d.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:f,form:h,bubbleInput:m,setBubbleInput:p}=ux(MT,e),y=Ne(r,p),g=Xh(o),b=Oh(n);d.useEffect(()=>{const v=m;if(!v)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,C=!s.current;if(g!==o&&S){const k=new Event("click",{bubbles:C});v.indeterminate=so(o),S.call(v,so(o)?!1:o),v.dispatchEvent(k)}},[m,g,o,s]);const w=d.useRef(so(o)?!1:o);return l.jsx(ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:a,disabled:c,name:u,value:f,form:h,...t,tabIndex:-1,ref:y,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$T.displayName=MT;function S7(e){return typeof e=="function"}function so(e){return e==="indeterminate"}function LT(e){return so(e)?"indeterminate":e?"checked":"unchecked"}const yi=d.forwardRef(({className:e,...t},r)=>l.jsx(dx,{ref:r,className:B("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-accent data-[state=checked]:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(DT,{className:B("flex items-center justify-center text-current"),children:l.jsx(_w,{className:"h-4 w-4"})})}));yi.displayName=dx.displayName;function FT({className:e,showLocation:t=!1,compact:r=!1,variant:n="default"}){const{currentDate:s,location:o,maghribTime:i,isLoading:a}=Sr(),c=n==="light";if(a||!s)return l.jsxs("div",{className:B("flex items-center gap-2",c?"text-white/70":"text-muted-foreground",e),children:[l.jsx(tu,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"Loading calendar..."})]});const u=aN(s.hijri,"long"),f=X6(s.gregorian,r?"short":"long");return r?l.jsxs("div",{className:B("flex flex-col items-start",e),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[s.isAfterMaghrib?l.jsx(si,{className:B("h-4 w-4",c?"text-white":"text-primary")}):l.jsx(_a,{className:B("h-4 w-4",c?"text-white":"text-accent-foreground")}),l.jsx("span",{className:B("font-display text-sm sm:text-base whitespace-nowrap font-normal",c&&"text-white"),children:u})]}),l.jsxs("span",{className:B("text-xs uppercase tracking-widest whitespace-nowrap font-normal",c?"text-white/80":"text-muted-foreground"),children:[f,o!=null&&o.city?`  ${o.city}`:""]})]}):l.jsxs("div",{className:B("flex flex-col items-center space-y-1",e),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[s.isAfterMaghrib?l.jsx(si,{className:"h-5 w-5 text-primary"}):l.jsx(_a,{className:"h-5 w-5 text-accent-foreground"}),l.jsx("p",{className:"text-3xl font-display font-bold tracking-tight",children:u})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:f}),t&&(o==null?void 0:o.city)&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Kw,{className:"h-3 w-3"}),l.jsx("span",{children:o.city})]})]})}var fx="Progress",hx=100,[C7,SZ]=At(fx),[k7,E7]=C7(fx),UT=d.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=j7,...i}=e;(s||s===0)&&!Y1(s)&&console.error(N7(`${s}`,"Progress"));const a=Y1(s)?s:hx;n!==null&&!Z1(n,a)&&console.error(R7(`${n}`,"Progress"));const c=Z1(n,a)?n:null,u=rh(c)?o(c,a):void 0;return l.jsx(k7,{scope:r,value:c,max:a,children:l.jsx(ie.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":rh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":VT(c,a),"data-value":c??void 0,"data-max":a,...i,ref:t})})});UT.displayName=fx;var BT="ProgressIndicator",zT=d.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=E7(BT,r);return l.jsx(ie.div,{"data-state":VT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});zT.displayName=BT;function j7(e,t){return`${Math.round(e/t*100)}%`}function VT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function rh(e){return typeof e=="number"}function Y1(e){return rh(e)&&!isNaN(e)&&e>0}function Z1(e,t){return rh(e)&&!isNaN(e)&&e<=t&&e>=0}function N7(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hx}\`.`}function R7(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WT=UT,T7=zT;const HT=d.forwardRef(({className:e,value:t,...r},n)=>l.jsx(WT,{ref:n,className:B("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(T7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));HT.displayName=WT.displayName;const zi={0:"Start your day with Fajr",20:"Great start! Keep going",40:"You're on track",60:"More than halfway there!",80:"Almost complete!",100:"Masha'Allah! All complete!"};function P7(e){return e===100?zi[100]:e>=80?zi[80]:e>=60?zi[60]:e>=40?zi[40]:e>=20?zi[20]:zi[0]}const KT=({percentage:e,className:t,showMessage:r=!0,compact:n=!1,variant:s="default",breakdownLabel:o})=>{const i=P7(e),a=s==="light";return n?l.jsxs("div",{className:B("flex flex-col items-end",t),children:[l.jsxs("span",{className:B("text-3xl sm:text-4xl font-bold font-display",a?"text-white":"text-foreground"),children:[e,"%"]}),l.jsx("span",{className:B("text-xs uppercase tracking-widest whitespace-nowrap font-normal",a?"text-white/80":"text-muted-foreground"),children:"Ada"})]}):l.jsxs("div",{className:B("space-y-3",t),children:[l.jsxs("div",{className:"flex items-baseline justify-between",children:[l.jsxs("span",{className:"text-5xl font-bold tracking-tight font-display text-foreground",children:[e,"%"]}),l.jsx("span",{className:"label-caps",children:"Daily Progress"})]}),l.jsx(HT,{value:e,className:"h-3"}),o&&l.jsx("p",{className:"text-xs text-muted-foreground",children:o}),r&&l.jsx("p",{className:"text-sm text-muted-foreground",children:i})]})},Q1={fajr:"gradient-fajr",dhuhr:"gradient-zuhr",asr:"gradient-asr",maghrib:"gradient-maghrib",isha:"gradient-isha",nisfulLayl:"gradient-nisful-layl",default:"gradient-fajr"},A7=({variant:e})=>{const t="absolute pointer-events-none opacity-15";switch(e){case"fajr":return l.jsx("svg",{className:B(t,"bottom-0 right-0 w-36 h-36"),viewBox:"0 0 100 100",children:l.jsxs("g",{fill:"currentColor",stroke:"currentColor",className:"text-white",children:[l.jsx("rect",{x:"5",y:"68",width:"90",height:"2",rx:"1"}),l.jsx("path",{d:"M50,68 A22,22 0 0,1 28,68 L72,68 Z",fill:"currentColor"}),l.jsx("line",{x1:"50",y1:"38",x2:"50",y2:"28",strokeWidth:"2.5",strokeLinecap:"round"}),l.jsx("line",{x1:"35",y1:"43",x2:"28",y2:"35",strokeWidth:"2.5",strokeLinecap:"round"}),l.jsx("line",{x1:"65",y1:"43",x2:"72",y2:"35",strokeWidth:"2.5",strokeLinecap:"round"}),l.jsx("line",{x1:"23",y1:"55",x2:"14",y2:"52",strokeWidth:"2.5",strokeLinecap:"round"}),l.jsx("line",{x1:"77",y1:"55",x2:"86",y2:"52",strokeWidth:"2.5",strokeLinecap:"round"})]})});case"dhuhr":return l.jsx("svg",{className:B(t,"bottom-0 right-0 w-36 h-36"),viewBox:"0 0 100 100",children:l.jsxs("g",{fill:"currentColor",className:"text-white",children:[l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(0 50 50)"}),l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(45 50 50)"}),l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(90 50 50)"}),l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(135 50 50)"}),l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(180 50 50)"}),l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(225 50 50)"}),l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(270 50 50)"}),l.jsx("rect",{x:"45",y:"5",width:"10",height:"25",transform:"rotate(315 50 50)"}),l.jsx("circle",{cx:"50",cy:"50",r:"15"})]})});case"asr":return l.jsx("svg",{className:B(t,"bottom-0 right-0 w-40 h-32"),viewBox:"0 0 120 100",children:l.jsxs("g",{fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-white",children:[l.jsx("polyline",{points:"20,80 60,40 100,80"}),l.jsx("polyline",{points:"30,90 60,60 90,90"}),l.jsx("polyline",{points:"10,70 60,20 110,70"})]})});case"maghrib":return l.jsx("svg",{className:B(t,"bottom-0 right-0 w-36 h-36"),viewBox:"0 0 100 100",children:l.jsxs("g",{fill:"currentColor",className:"text-white",children:[l.jsx("circle",{cx:"30",cy:"70",r:"25",opacity:"0.6"}),l.jsx("circle",{cx:"55",cy:"55",r:"20",opacity:"0.8"}),l.jsx("circle",{cx:"75",cy:"75",r:"22",opacity:"0.5"}),l.jsx("circle",{cx:"50",cy:"80",r:"15",opacity:"0.7"})]})});case"isha":return l.jsx("svg",{className:B(t,"bottom-0 right-0 w-32 h-32"),viewBox:"0 0 100 100",children:l.jsxs("g",{fill:"currentColor",className:"text-white",children:[l.jsx("path",{d:"M50,10 A40,40 0 1,1 50,90 A30,30 0 1,0 50,10"}),l.jsx("circle",{cx:"75",cy:"25",r:"3"}),l.jsx("circle",{cx:"85",cy:"45",r:"2"}),l.jsx("circle",{cx:"80",cy:"65",r:"2.5"})]})});case"nisfulLayl":return l.jsx("svg",{className:B(t,"bottom-0 right-0 w-40 h-40"),viewBox:"0 0 100 100",children:l.jsxs("g",{fill:"currentColor",className:"text-white",children:[l.jsx("polygon",{points:"50,5 53,15 63,15 55,22 58,32 50,26 42,32 45,22 37,15 47,15"}),l.jsx("polygon",{points:"25,35 27,42 34,42 29,47 31,54 25,50 19,54 21,47 16,42 23,42"}),l.jsx("polygon",{points:"75,45 77,52 84,52 79,57 81,64 75,60 69,64 71,57 66,52 73,52"}),l.jsx("polygon",{points:"40,65 42,72 49,72 44,77 46,84 40,80 34,84 36,77 31,72 38,72"}),l.jsx("polygon",{points:"70,75 71,79 75,79 72,82 73,86 70,84 67,86 68,82 65,79 69,79"})]})});default:return null}},GT=({currentPrayer:e,children:t,className:r})=>{const n=e?Q1[e]:Q1.default;return l.jsxs("div",{className:B("relative overflow-hidden rounded-xl p-5",n,r),children:[l.jsx(A7,{variant:e}),l.jsx("div",{className:"relative z-10",children:t})]})},qT={fajr:"Fajr",dhuhr:"Zuhr",asr:"Asr",maghrib:"Maghrib",isha:"Isha",nisfulLayl:"Nisful Layl"},Ko=["fajr","dhuhr","asr","maghrib","isha"],YT=["nisfulLayl"],O7=[...Ko,...YT];function dy(e){const t=e.split(" ")[0],[r,n]=t.split(":").map(Number);return r*60+n}function ZT(e){const t=new Date,r=t.getHours()*60+t.getMinutes();for(let n=Ko.length-1;n>=0;n--){const s=Ko[n],o=dy(e[s]);if(r>=o){const i=n<Ko.length-1?Ko[n+1]:null;return{current:s,next:i}}}return{current:null,next:"fajr"}}function I7(e,t,r){if(r)return"completed";const n=new Date,s=n.getHours()*60+n.getMinutes(),o=Ko.indexOf(e),i=dy(t[e]);if(s<i)return"upcoming";const a=Ko[o+1];if(a){const c=dy(t[a]);if(s<c)return"current"}else return"current";return"missed"}function px(){const{location:e}=Sr(),[t,r]=d.useState(null),[n,s]=d.useState(null),[o,i]=d.useState(!0),[a,c]=d.useState(null),[u,f]=d.useState(0);return d.useEffect(()=>{(async()=>{if(!e){i(!1);return}i(!0),c(null);try{const p=await oU(new Date,e),y={fajr:p.Fajr.split(" ")[0],dhuhr:p.Dhuhr.split(" ")[0],asr:p.Asr.split(" ")[0],maghrib:p.Maghrib.split(" ")[0],isha:p.Isha.split(" ")[0]};r(y),s({...y,nisfulLayl:p.Midnight.split(" ")[0]})}catch(p){c(p instanceof Error?p:new Error("Failed to fetch prayer times"))}finally{i(!1)}})()},[e,u]),{prayerTimes:t,allPrayerTimes:n,isLoading:o,error:a,refetch:()=>f(m=>m+1)}}const D7=["maghrib","isha","nisfulLayl"];function J1(e,t,r){return D7.includes(e)?r:t}function QT(){const{user:e}=Ot(),{currentDate:t}=Sr(),{location:r}=Sr(),{prayerTimes:n,allPrayerTimes:s,isLoading:o}=px(),[i,a]=d.useState(new Map),[c,u]=d.useState(!0),f=d.useMemo(()=>{var P;if(!t)return null;const x=t.gregorian;let _=new Date(x);if(t.isAfterMaghrib){const O=r==null?void 0:r.timezone;let M;if(O){const F=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1,timeZone:O}).formatToParts(x);M=parseInt(((P=F.find($=>$.type==="hour"))==null?void 0:P.value)||"0")}else M=x.getHours();M<4&&_.setDate(_.getDate()-1)}const S=r==null?void 0:r.timezone;if(S)return new Intl.DateTimeFormat("en-CA",{timeZone:S}).format(_);const C=_.getFullYear(),k=String(_.getMonth()+1).padStart(2,"0"),E=String(_.getDate()).padStart(2,"0");return`${C}-${k}-${E}`},[t,r==null?void 0:r.timezone]);d.useEffect(()=>{(async()=>{if(!e||!f){u(!1);return}u(!0);try{const{data:_,error:S}=await we.from("prayer_logs").select("prayer, completed_at").eq("user_id",e.id).eq("gregorian_date",f).not("completed_at","is",null);if(S)throw S;const C=new Map;_==null||_.forEach(k=>{k.completed_at&&C.set(k.prayer,new Date(k.completed_at))}),a(C)}catch(_){console.error("Error fetching prayer logs:",_)}finally{u(!1)}})()},[e,f]);const h=d.useCallback(async x=>{if(!e||!f||!t)return;const _=J1(x,t.preMaghribHijri,t.postMaghribHijri),S=mc(_),C=i.has(x);try{if(C)await we.from("prayer_logs").delete().eq("user_id",e.id).eq("gregorian_date",f).eq("prayer",x),a(k=>{const E=new Map(k);return E.delete(x),E});else{const k=new Date;await we.from("prayer_logs").upsert({user_id:e.id,prayer_date:S,prayer:x,completed_at:k.toISOString(),gregorian_date:f},{onConflict:"user_id,prayer_date,prayer"}),a(E=>{const P=new Map(E);return P.set(x,k),P})}}catch(k){console.error("Error toggling prayer:",k)}},[e,f,t,i]),m=O7.map(x=>{const _=i.has(x),S=(s==null?void 0:s[x])||"--:--",C=YT.includes(x);let k;C?k=_?"completed":"upcoming":k=n?I7(x,n,_):"upcoming";const E=t?J1(x,t.preMaghribHijri,t.postMaghribHijri):null;return{name:x,displayName:qT[x],time:S,isCompleted:_,completedAt:i.get(x)||null,status:k,isOptional:C,hijriDate:E}}),p=m.filter(x=>!x.isOptional),y=p.find(x=>x.status==="current")||null,g=p.find(x=>x.status==="upcoming")||null,b=m.filter(x=>!x.isOptional&&x.isCompleted).length,w=5,v=Math.round(b/w*100);return{prayers:m,togglePrayer:h,completedCount:b,totalCount:w,percentage:v,isLoading:c||o,currentPrayer:y,nextPrayer:g}}function mx(e={}){const{user:t}=Ot(),{currentDate:r}=Sr(),n=ku(),s=(r==null?void 0:r.preMaghribHijri)??(r==null?void 0:r.hijri),o=r==null?void 0:r.gregorian,i=s?`${s.year}-${String(s.month).padStart(2,"0")}-${String(s.day).padStart(2,"0")}`:null,a=e.forDate||i,{data:c=[],isLoading:u}=Uw({queryKey:["goal-completions",t==null?void 0:t.id,a],queryFn:async()=>{if(!t||!a)return[];const{data:y,error:g}=await we.from("goal_completions").select("*").eq("user_id",t.id).eq("completion_date",a);if(g)throw console.error("Error fetching goal completions:",g),g;return y},enabled:!!t&&!!a}),f=new Map(c.map(y=>[y.goal_id,y])),h=y=>f.has(y),m=y=>f.get(y),p=la({mutationFn:async y=>{if(!t||!i||!o)throw new Error("Not authenticated or date not available");const g=f.get(y);if(g){const{error:b}=await we.from("goal_completions").delete().eq("id",g.id).eq("user_id",t.id);if(b)throw b;return{action:"removed"}}else{const b=o.toISOString().split("T")[0],{error:w}=await we.from("goal_completions").insert({user_id:t.id,goal_id:y,completion_date:i,gregorian_date:b});if(w)throw w;return{action:"added"}}},onSuccess:()=>{n.invalidateQueries({queryKey:["goal-completions",t==null?void 0:t.id,i]}),n.invalidateQueries({queryKey:["today-progress"]})},onError:y=>{console.error("Error toggling goal completion:",y)}});return{completions:c,completionMap:f,isLoading:u,isCompleted:h,getCompletion:m,toggleCompletion:p.mutateAsync,isToggling:p.isPending}}function gx(e,t,r){if(!e.is_active)return!1;const n=new Date(e.start_date);if(r<n)return!1;if(e.end_date){const s=new Date(e.end_date);if(r>s)return!1}switch(e.recurrence_type){case"daily":return!0;case"weekly":return M7(e,r);case"custom":return $7(e,t,r);case"one-time":return U7(e,r);default:return!1}}function M7(e,t){if(!e.recurrence_days||e.recurrence_days.length===0)return!1;const r=t.getDay();return e.recurrence_days.includes(r)}function $7(e,t,r){const n=e.recurrence_pattern;if(!n)return!1;switch(n.type){case"interval":return L7(e,r,n);case"monthly":return F7(t,r,n);default:return!1}}function L7(e,t,r){if(!r.interval||!r.intervalUnit)return!1;const n=new Date(e.start_date),s=t.getTime()-n.getTime(),o=Math.floor(s/(1e3*60*60*24));if(o<0)return!1;const i=r.intervalUnit==="weeks"?r.interval*7:r.interval;return o%i===0}function F7(e,t,r){return r.monthlyDay?(r.calendarType||"hijri")==="hijri"?e.day===r.monthlyDay:t.getDate()===r.monthlyDay:!1}function U7(e,t){if(!e.due_date)return!1;const r=new Date(e.due_date);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function B7(e,t,r){return e.filter(n=>gx(n,t,r))}function z7(e){switch(e.recurrence_type){case"daily":return"Daily";case"weekly":if(!e.recurrence_days||e.recurrence_days.length===0)return"Weekly";const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return`Weekly (${e.recurrence_days.sort((n,s)=>n-s).map(n=>t[n]).join(", ")})`;case"custom":return V7(e.recurrence_pattern);case"one-time":return e.due_date?`One-time (${new Date(e.due_date).toLocaleDateString()})`:"One-time";default:return"Unknown"}}function V7(e){if(!e)return"Custom";switch(e.type){case"interval":if(!e.interval||!e.intervalUnit)return"Custom";const t=e.interval===1?e.intervalUnit.slice(0,-1):e.intervalUnit;return`Every ${e.interval} ${t}`;case"monthly":if(!e.monthlyDay)return"Monthly";const r=e.calendarType==="gregorian"?"Gregorian":"Hijri";return`${e.monthlyDay}th of each month (${r})`;default:return"Custom"}}function W7(e,t){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-r.getTime();return Math.round(s/(1e3*60*60*24))===1?"Yesterday":e.toLocaleDateString("en-US",{day:"numeric",month:"short"})}function H7(e,t,r,n,s=7,o){const i=[],a=new Set;for(let c=1;c<=s;c++){const u=new Date(t);u.setDate(u.getDate()-c);const f=o(u);for(const h of e)if(h.is_active&&!a.has(h.id)&&gx(h,f,u)){const m=`${f.year}-${String(f.month).padStart(2,"0")}-${String(f.day).padStart(2,"0")}`,p=`${h.id}:${m}`;n.has(p)||(i.push({goal:h,overdueDate:u,overdueHijriDate:f}),a.add(h.id))}}return i}function K7(e,t,r,n,s){const o=[];for(let i=1;i<=n;i++){const a=new Date(t);a.setDate(a.getDate()-i);const c=s(a);if(gx(e,c,a)){const u=`${c.year}-${String(c.month).padStart(2,"0")}-${String(c.day).padStart(2,"0")}`,f=`${e.id}:${u}`;r.has(f)||o.push({gregorianDate:a,hijriDate:c})}}return o}function JT(e,t,r){const{currentDate:n}=Sr(),{goals:s,isLoading:o}=ip(),{isCompleted:i,isLoading:a}=mx(),c=n==null?void 0:n.hijri,u=n==null?void 0:n.gregorian;return{...d.useMemo(()=>{const h=e.filter(C=>!C.isOptional),m=h.length,p=h.filter(C=>C.isCompleted).length,y=m>0?Math.round(p/m*100):0;let g=[],b=0;if(c&&u){const C=s.filter(E=>E.is_active),k=B7(C,c,u);g=r?k.filter(E=>!r.has(E.id)):k,b=g.filter(E=>i(E.id)).length}const w=g.length,v=w>0?Math.round(b/w*100):100,x=m+w,_=p+b,S=x>0?Math.round(_/x*100):0;return{prayerCompleted:p,prayerTotal:m,prayerPercentage:y,goalsCompleted:b,goalsTotal:w,goalsPercentage:v,goalsDueToday:g,overallCompleted:_,overallTotal:x,overallPercentage:S}},[s,e,c,u,i,r]),isLoading:o||a||t}}const X1=["hsl(var(--primary))","hsl(var(--primary) / 0.7)","hsl(var(--accent))","hsl(var(--accent) / 0.7)","hsl(142 50% 55%)","hsl(45 90% 60%)"],eS=24,tS=700;function G7(e,t){return Array.from({length:eS},(r,n)=>({id:n,x:e,y:t,color:X1[Math.floor(Math.random()*X1.length)],size:4+Math.random()*4,angle:Math.PI*2*n/eS+(Math.random()-.5)*.5,velocity:40+Math.random()*60,rotation:Math.random()*360,shape:Math.random()>.5?"circle":"square"}))}const q7=({x:e,y:t,onDone:r})=>{const n=d.useRef(G7(e,t)).current;return d.useEffect(()=>{const s=setTimeout(r,tS);return()=>clearTimeout(s)},[r]),l.jsx("div",{className:"pointer-events-none fixed inset-0 z-[9999]","aria-hidden":"true",children:n.map(s=>{const o=Math.cos(s.angle)*s.velocity,i=Math.sin(s.angle)*s.velocity-20;return l.jsx("span",{className:"absolute",style:{left:s.x,top:s.y,width:s.size,height:s.size,backgroundColor:s.color,borderRadius:s.shape==="circle"?"50%":"2px",transform:`rotate(${s.rotation}deg)`,animation:`confetti-burst ${tS}ms cubic-bezier(0, 0.6, 0.5, 1) forwards`,"--tx":`${o}px`,"--ty":`${i}px`}},s.id)})})};function dp(){const[e,t]=d.useState([]),r=d.useRef(0),n=d.useCallback(i=>{let a=window.innerWidth/2,c=window.innerHeight/2;if(i){const f=i.getBoundingClientRect();a=f.left+f.width/2,c=f.top+f.height/2}const u=++r.current;t(f=>[...f,{key:u,x:a,y:c}])},[]),s=d.useCallback(i=>{t(a=>a.filter(c=>c.key!==i))},[]),o=d.useCallback(()=>e.length>0?Ar.createPortal(l.jsx(l.Fragment,{children:e.map(i=>l.jsx(q7,{x:i.x,y:i.y,onDone:()=>s(i.key)},i.key))}),document.body):null,[e,s]);return{triggerConfetti:n,ConfettiPortal:o}}function XT(){const{user:e}=Ot(),{toast:t}=fs(),[r,n]=d.useState([]),[s,o]=d.useState(!0),[i,a]=d.useState(null),c=d.useCallback(async()=>{if(!e){n([]),o(!1);return}try{o(!0),a(null);const{data:m,error:p}=await we.from("sabeels").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(p)throw p;if(!m||m.length===0){n([]);return}const y=m.map(C=>C.id),[g,b,w]=await Promise.all([we.from("fmb_hubs").select("*").in("sabeel_id",y),we.from("khumus").select("*").in("sabeel_id",y),we.from("zakats").select("*").in("sabeel_id",y)]),v=g.data||[],x=b.data||[],_=w.data||[],S=m.map(C=>({...C,calendar_type:C.calendar_type,reminder_type:C.reminder_type,fmb_hub:v.find(k=>k.sabeel_id===C.id)||null,khumus_list:x.filter(k=>k.sabeel_id===C.id).map(k=>({...k,calendar_type:k.calendar_type,reminder_type:k.reminder_type,calculation_type:k.calculation_type})),zakats:_.filter(k=>k.sabeel_id===C.id).map(k=>({...k,calendar_type:k.calendar_type,reminder_type:k.reminder_type,calculation_type:k.calculation_type}))}));n(S)}catch(m){console.error("Error fetching sabeels:",m),a(m instanceof Error?m.message:"Failed to fetch sabeels")}finally{o(!1)}},[e]),u=d.useCallback(async m=>{if(!e){t({title:"Error",description:"You must be logged in to create a Sabeel",variant:"destructive"});return}try{const{error:p}=await we.from("sabeels").insert({user_id:e.id,sabeel_name:m.sabeel_name,monthly_amount:m.monthly_amount,calendar_type:m.calendar_type,start_month:m.start_month,start_year:m.start_year,end_month:m.end_month,end_year:m.end_year,reminder_type:m.reminder_type,reminder_day:m.reminder_day,is_active:m.is_active??!0});if(p)throw p;t({title:"Sabeel created",description:`${m.sabeel_name} has been added successfully.`}),await c()}catch(p){console.error("Error creating sabeel:",p),t({title:"Error",description:p instanceof Error?p.message:"Failed to create Sabeel",variant:"destructive"})}},[e,t,c]),f=d.useCallback(async(m,p)=>{try{const{error:y}=await we.from("sabeels").update({sabeel_name:p.sabeel_name,monthly_amount:p.monthly_amount,calendar_type:p.calendar_type,start_month:p.start_month,start_year:p.start_year,end_month:p.end_month,end_year:p.end_year,reminder_type:p.reminder_type,reminder_day:p.reminder_day,is_active:p.is_active}).eq("id",m);if(y)throw y;t({title:"Sabeel updated",description:"Your changes have been saved."}),await c()}catch(y){console.error("Error updating sabeel:",y),t({title:"Error",description:y instanceof Error?y.message:"Failed to update Sabeel",variant:"destructive"})}},[t,c]),h=d.useCallback(async m=>{try{const{error:p}=await we.from("sabeels").delete().eq("id",m);if(p)throw p;t({title:"Sabeel deleted",description:"The Sabeel and all related entries have been removed."}),await c()}catch(p){console.error("Error deleting sabeel:",p),t({title:"Error",description:p instanceof Error?p.message:"Failed to delete Sabeel",variant:"destructive"})}},[t,c]);return d.useEffect(()=>{c()},[c]),{sabeels:r,isLoading:s,error:i,createSabeel:u,updateSabeel:f,deleteSabeel:h,refetch:c}}const vx=["January","February","March","April","May","June","July","August","September","October","November","December"];function e2(e,t=1446){return Uf(e,t)}function t2(e,t){return new Date(t,e,0).getDate()}function yx(e){const t=e2(e.month,e.year);return Math.max(0,t-e.day)}function wx(e){const t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),s=t2(r,t);return Math.max(0,s-n)}function Nd(e,t,r,n,s){if(r==="hijri"){const o=yx(n);switch(e){case"before_7_days":return o<=7;case"last_day":return o===0;case"custom":return t!=null&&n.day>=t;default:return!1}}else{const o=wx(s),i=s.getDate();switch(e){case"before_7_days":return o<=7;case"last_day":return o===0;case"custom":return t!=null&&i>=t;default:return!1}}}function Rd(e,t,r){const n=e==="hijri"?yx(t):wx(r);return n===0?"due_today":n<0?"overdue":"upcoming"}function Td(e,t,r){return e==="hijri"?yx(t):wx(r)}function Y7(e,t){return t==="hijri"?Hv(e):vx[e-1]||""}function r2(e){return e==="hijri"?[{value:1,label:"Moharram"},{value:2,label:"Safar"},{value:3,label:"Rabiul Awwal"},{value:4,label:"Rabiul Akhar"},{value:5,label:"Jamadal Ula"},{value:6,label:"Jamadal Ukra"},{value:7,label:"Rajab"},{value:8,label:"Shaban Karim"},{value:9,label:"Ramadan"},{value:10,label:"Shawwal Mukarram"},{value:11,label:"Zilqad"},{value:12,label:"Zilhaj"}]:vx.map((t,r)=>({value:r+1,label:t}))}function Z7(e,t){let r;return e==="hijri"?r=30:r=31,Array.from({length:r},(n,s)=>({value:s+1,label:String(s+1)}))}function n2(e,t,r,n=10){const s=e==="hijri"?t.year:r.getFullYear(),o=s-2,i=s+n;return Array.from({length:i-o+1},(a,c)=>({value:o+c,label:String(o+c)}))}function Q7(e,t,r){return`${Y7(e,r)} ${t}`}function nh(e,t,r){return e==="hijri"?{month:t.month,year:t.year}:{month:r.getMonth()+1,year:r.getFullYear()}}function Pd(e,t,r,n){if(e==="hijri")return`${t} ${Hv(r.month)}`;const s=vx[n.getMonth()],o=`${r.day} ${Hv(r.month)}`;return`${s} ${t} (${o})`}function rS(e,t,r,n,s,o,i){const{month:a,year:c}=nh(e,o,i),u=c>r||c===r&&a>=t;if(!n||!s)return u;const f=c<s||c===s&&a<=n;return u&&f}function J7(){const{user:e}=Ot(),{currentDate:t}=Sr(),{toast:r}=fs(),[n,s]=d.useState([]),[o,i]=d.useState(!0),[a,c]=d.useState(null),u=d.useCallback(async()=>{if(!e){s([]),i(!1);return}try{i(!0),c(null);const{data:p,error:y}=await we.from("due_payments").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(b=>({...b,due_type:b.due_type,calendar_type:b.calendar_type}));s(g)}catch(p){console.error("Error fetching due payments:",p),c(p instanceof Error?p.message:"Failed to fetch payments")}finally{i(!1)}},[e]),f=d.useCallback(async p=>{if(!e){r({title:"Error",description:"You must be logged in to mark payments",variant:"destructive"});return}try{const y=n.find(g=>g.due_type===p.due_type&&g.reference_id===p.reference_id&&g.due_month===p.due_month&&g.due_year===p.due_year);if(y){const{error:g}=await we.from("due_payments").update({amount_paid:p.amount_paid??p.amount_due,paid_at:new Date().toISOString()}).eq("id",y.id);if(g)throw g}else{const{error:g}=await we.from("due_payments").insert({user_id:e.id,due_type:p.due_type,reference_id:p.reference_id,calendar_type:p.calendar_type,due_month:p.due_month,due_year:p.due_year,amount_due:p.amount_due,amount_paid:p.amount_paid??p.amount_due,paid_at:new Date().toISOString()});if(g)throw g}await u()}catch(y){console.error("Error marking payment:",y),r({title:"Error",description:y instanceof Error?y.message:"Failed to record payment",variant:"destructive"})}},[e,n,r,u]),h=d.useCallback((p,y,g)=>{if(!t)return!1;const{month:b,year:w}=nh(g,t.hijri,t.gregorian);return n.some(v=>v.due_type===p&&v.reference_id===y&&v.due_month===b&&v.due_year===w&&v.paid_at!==null)},[n,t]),m=d.useCallback((p,y,g,b)=>n.find(w=>w.due_type===p&&w.reference_id===y&&w.due_month===g&&w.due_year===b)||null,[n]);return d.useEffect(()=>{u()},[u]),{payments:n,isLoading:o,error:a,markAsPaid:f,isPaymentMadeThisMonth:h,getPaymentForMonth:m,refetch:u}}function s2(e){return e.calculation_type==="fixed"?e.fixed_amount||0:(e.monthly_income||0)*(e.percentage_rate||20)/100}function o2(e){if(e.calculation_type==="fixed")return e.fixed_amount||0;const t=e.assets_value||0,r=e.nisab_threshold||0;return t>=r?t*(e.zakat_rate||2.5)/100:0}function Ad(e,t,r,n,s,o,i){return e==="custom"&&t?t:r==="hijri"?e2(n,s):t2(o,i)}function X7(){const{currentDate:e}=Sr(),{sabeels:t,isLoading:r}=XT(),{isPaymentMadeThisMonth:n,markAsPaid:s,isLoading:o}=J7(),i=d.useMemo(()=>{if(!e||r)return[];const{hijri:u,gregorian:f}=e,h=[];t.forEach(p=>{if(p.is_active&&rS(p.calendar_type,p.start_month,p.start_year,p.end_month,p.end_year,u,f)){const g=Nd(p.reminder_type,p.reminder_day,p.calendar_type,u,f),b=n("sabeel",p.id,p.calendar_type);if(g&&!b){nh(p.calendar_type,u,f);const w=Ad(p.reminder_type,p.reminder_day,p.calendar_type,u.month,u.year,f.getMonth()+1,f.getFullYear());h.push({id:`sabeel-${p.id}`,type:"sabeel",title:p.sabeel_name,subtitle:"Sabeel",amount:p.monthly_amount,calendarType:p.calendar_type,dueDate:Pd(p.calendar_type,w,u,f),daysRemaining:Td(p.calendar_type,u,f),urgency:b?"upcoming":Rd(p.calendar_type,u,f),sabeelId:p.id,sabeelName:p.sabeel_name})}}const y=p.fmb_hub;if(y&&y.is_active&&rS(y.calendar_type,y.start_month,y.start_year,y.end_month,y.end_year,u,f)){const g=Nd(y.reminder_type,y.reminder_day,y.calendar_type,u,f),b=n("fmb",y.id,y.calendar_type);if(g&&!b){const w=Ad(y.reminder_type,y.reminder_day,y.calendar_type,u.month,u.year,f.getMonth()+1,f.getFullYear());h.push({id:`fmb-${y.id}`,type:"fmb",title:"FMB Hub",subtitle:p.sabeel_name,amount:y.monthly_amount,calendarType:y.calendar_type,dueDate:Pd(y.calendar_type,w,u,f),daysRemaining:Td(y.calendar_type,u,f),urgency:b?"upcoming":Rd(y.calendar_type,u,f),sabeelId:p.id,sabeelName:p.sabeel_name})}}p.khumus_list.forEach(g=>{if(g.is_active){const b=Nd(g.reminder_type,g.reminder_day,g.calendar_type,u,f),w=n("khumus",g.id,g.calendar_type);if(b&&!w){const v=Ad(g.reminder_type,g.reminder_day,g.calendar_type,u.month,u.year,f.getMonth()+1,f.getFullYear());h.push({id:`khumus-${g.id}`,type:"khumus",title:`Khumus (${g.person_name})`,subtitle:p.sabeel_name,amount:s2(g),calendarType:g.calendar_type,dueDate:Pd(g.calendar_type,v,u,f),daysRemaining:Td(g.calendar_type,u,f),urgency:w?"upcoming":Rd(g.calendar_type,u,f),sabeelId:p.id,sabeelName:p.sabeel_name})}}}),p.zakats.forEach(g=>{if(g.is_active){const b=Nd(g.reminder_type,g.reminder_day,g.calendar_type,u,f),w=n("zakat",g.id,g.calendar_type);if(b&&!w){const v=Ad(g.reminder_type,g.reminder_day,g.calendar_type,u.month,u.year,f.getMonth()+1,f.getFullYear());h.push({id:`zakat-${g.id}`,type:"zakat",title:`Zakat (${g.person_name})`,subtitle:p.sabeel_name,amount:o2(g),calendarType:g.calendar_type,dueDate:Pd(g.calendar_type,v,u,f),daysRemaining:Td(g.calendar_type,u,f),urgency:w?"upcoming":Rd(g.calendar_type,u,f),sabeelId:p.id,sabeelName:p.sabeel_name})}}})});const m={overdue:0,due_today:1,upcoming:2};return h.sort((p,y)=>{const g=m[p.urgency]-m[y.urgency];return g!==0?g:p.daysRemaining-y.daysRemaining}),h},[e,t,r,n]),a=0,c=async u=>{if(!e)return;const f=u.id.split("-").slice(1).join("-"),{month:h,year:m}=nh(u.calendarType,e.hijri,e.gregorian),p={due_type:u.type,reference_id:f,calendar_type:u.calendarType,due_month:h,due_year:m,amount_due:u.amount,amount_paid:u.amount,paid_at:new Date().toISOString()};await s(p)};return{reminders:i,activeCount:i.length,paidCount:a,totalCount:i.length,isLoading:r||o,markAsPaid:c,isPaymentMadeThisMonth:n}}const eW=({dueName:e,amount:t})=>l.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-card border border-border shadow-lg w-[360px]",children:[l.jsx("div",{className:"pattern-celebration h-20 w-full"}),l.jsxs("div",{className:"px-5 py-4",children:[l.jsx("h3",{className:"font-display tracking-tight text-lg text-foreground",children:"Jazakallah! Payment Recorded"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e,"  ",t," marked as paid. Keep it up!"]})]})]});function tW(e,t){P$.custom(()=>l.jsx(eW,{dueName:e,amount:t}),{duration:5e3})}var i2="AlertDialog",[rW,CZ]=At(i2,[EN]),gs=EN(),a2=e=>{const{__scopeAlertDialog:t,...r}=e,n=gs(t);return l.jsx(Zh,{...n,...r,modal:!0})};a2.displayName=i2;var nW="AlertDialogTrigger",sW=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=gs(r);return l.jsx(Kz,{...s,...n,ref:t})});sW.displayName=nW;var oW="AlertDialogPortal",l2=e=>{const{__scopeAlertDialog:t,...r}=e,n=gs(t);return l.jsx(Qh,{...n,...r})};l2.displayName=oW;var iW="AlertDialogOverlay",c2=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=gs(r);return l.jsx(hl,{...s,...n,ref:t})});c2.displayName=iW;var Ca="AlertDialogContent",[aW,lW]=rW(Ca),cW=tE("AlertDialogContent"),u2=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=gs(r),i=d.useRef(null),a=Ne(t,i),c=d.useRef(null);return l.jsx(zz,{contentName:Ca,titleName:d2,docsSlug:"alert-dialog",children:l.jsx(aW,{scope:r,cancelRef:c,children:l.jsxs(pl,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:ee(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(cW,{children:n}),l.jsx(dW,{contentRef:i})]})})})});u2.displayName=Ca;var d2="AlertDialogTitle",f2=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=gs(r);return l.jsx(Ru,{...s,...n,ref:t})});f2.displayName=d2;var h2="AlertDialogDescription",p2=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=gs(r);return l.jsx(Tu,{...s,...n,ref:t})});p2.displayName=h2;var uW="AlertDialogAction",m2=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=gs(r);return l.jsx(Jh,{...s,...n,ref:t})});m2.displayName=uW;var g2="AlertDialogCancel",v2=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=lW(g2,r),o=gs(r),i=Ne(t,s);return l.jsx(Jh,{...o,...n,ref:i})});v2.displayName=g2;var dW=({contentRef:e})=>{const t=`\`${Ca}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ca}\` by passing a \`${h2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ca}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},fW=a2,hW=l2,y2=c2,w2=u2,x2=m2,b2=v2,_2=f2,S2=p2;const pW=fW,mW=hW,C2=d.forwardRef(({className:e,...t},r)=>l.jsx(y2,{className:B("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));C2.displayName=y2.displayName;const k2=d.forwardRef(({className:e,...t},r)=>l.jsxs(mW,{children:[l.jsx(C2,{}),l.jsx(w2,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));k2.displayName=w2.displayName;const E2=({className:e,...t})=>l.jsx("div",{className:B("flex flex-col space-y-2 text-center sm:text-left",e),...t});E2.displayName="AlertDialogHeader";const j2=({className:e,...t})=>l.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});j2.displayName="AlertDialogFooter";const N2=d.forwardRef(({className:e,...t},r)=>l.jsx(_2,{ref:r,className:B("text-lg font-semibold",e),...t}));N2.displayName=_2.displayName;const R2=d.forwardRef(({className:e,...t},r)=>l.jsx(S2,{ref:r,className:B("text-sm text-muted-foreground",e),...t}));R2.displayName=S2.displayName;const T2=d.forwardRef(({className:e,...t},r)=>l.jsx(x2,{ref:r,className:B(qw(),e),...t}));T2.displayName=x2.displayName;const P2=d.forwardRef(({className:e,...t},r)=>l.jsx(b2,{ref:r,className:B(qw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));P2.displayName=b2.displayName;function gW({open:e,onOpenChange:t,dueName:r,amount:n,onConfirm:s,isLoading:o}){return l.jsx(pW,{open:e,onOpenChange:t,children:l.jsxs(k2,{className:"overflow-hidden rounded-2xl p-0 max-w-[360px]",children:[l.jsx("div",{className:"pattern-celebration h-20 w-full"}),l.jsxs("div",{className:"px-6 pb-6 pt-4",children:[l.jsxs(E2,{children:[l.jsx(N2,{className:"font-display tracking-tight font-normal text-lg",children:"Confirm Payment"}),l.jsxs(R2,{className:"text-sm text-muted-foreground mt-1",children:[r,"  ",n," will be marked as paid for this month. This cannot be undone."]})]}),l.jsxs(j2,{className:"mt-6",children:[l.jsx(P2,{className:"rounded-full",disabled:o,children:"Cancel"}),l.jsx(T2,{className:"rounded-full",onClick:s,disabled:o,children:"Yes, Paid"})]})]})]})})}function vW(){const{reminders:e,paidCount:t,totalCount:r,isLoading:n,markAsPaid:s,isPaymentMadeThisMonth:o}=X7(),{triggerConfetti:i,ConfettiPortal:a}=dp(),c=d.useRef(new Map),[u,f]=L.useState(null),[h,m]=L.useState(null),p=(g,b)=>{b||m(g)},y=async()=>{if(!h)return;const g=h;m(null),f(g.id),i(c.current.get(g.id));try{await s(g),tW(g.title,String(g.amount))}finally{f(null)}};return n||e.length===0?null:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yU,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"font-display tracking-tight font-normal text-xl",children:"Dues Reminders"})]}),l.jsxs("span",{className:"label-caps",children:[t,"/",r]})]}),l.jsx("div",{className:"space-y-3",children:e.map(g=>{const b=g.id.split("-").slice(1).join("-"),w=o(g.type,b,g.calendarType);return l.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-border bg-card p-4 transition-colors hover:bg-muted/50",children:[l.jsx(yi,{ref:v=>{v?c.current.set(g.id,v):c.current.delete(g.id)},checked:w,onCheckedChange:()=>p(g,w),disabled:w||u===g.id,className:"h-5 w-5"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:B("text-base font-medium",w&&"line-through text-muted-foreground"),children:g.title}),g.calendarType==="hijri"?l.jsx(si,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}):l.jsx(CU,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"})]}),l.jsxs("p",{className:B("text-sm text-muted-foreground font-normal mt-0.5",w&&"line-through"),children:[g.amount,"  Due ",g.dueDate]})]}),w&&l.jsx(fl,{className:"h-4 w-4 text-primary shrink-0"})]},g.id)})}),l.jsx(a,{}),l.jsx(gW,{open:!!h,onOpenChange:g=>{g||m(null)},dueName:(h==null?void 0:h.title)??"",amount:String((h==null?void 0:h.amount)??""),onConfirm:y,isLoading:!!u})]})}const yW=({goalsDueToday:e,goalsCompleted:t,goalsTotal:r,isCompleted:n,onToggle:s,isToggling:o=!1,overdueGoals:i=[],onCompleteOverdue:a,isCompletingOverdue:c=!1})=>{const u=cl(),{triggerConfetti:f,ConfettiPortal:h}=dp(),m=d.useRef(new Map),p=x=>{n(x)||f(m.current.get(x)),s(x)},y=x=>{f(m.current.get(`overdue-${x}`)),a==null||a(x)},g=i.length>0,b=r+i.length,w=t,v=r;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xc,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"font-display tracking-tight font-normal text-xl",children:"Today's Goals"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[g&&l.jsxs("span",{className:"text-xs font-medium text-destructive",children:[i.length," overdue"]}),l.jsxs("span",{className:"label-caps",children:[w,"/",v]})]})]}),b===0?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No goals scheduled for today"}),l.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>u("/goals"),children:"Manage Goals"})]}):l.jsxs("div",{className:"space-y-3",children:[i.map(x=>l.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-destructive/30 bg-card p-4 transition-colors hover:bg-muted/50",children:[l.jsx(yi,{ref:_=>{const S=`overdue-${x.goal.id}`;_?m.current.set(S,_):m.current.delete(S)},checked:!1,onCheckedChange:()=>y(x.goal.id),disabled:c,className:"h-5 w-5"}),l.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>u("/goals"),role:"button",tabIndex:0,onKeyDown:_=>{_.key==="Enter"&&u("/goals")},children:[l.jsx("span",{className:"text-base font-medium",children:x.goal.title}),l.jsx("p",{className:"text-xs font-medium text-destructive mt-0.5",children:x.overdueDateLabel})]})]},`overdue-${x.goal.id}`)),e.map(x=>{const _=n(x.id);return l.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-border bg-card p-4 transition-colors hover:bg-muted/50",children:[l.jsx(yi,{ref:S=>{S?m.current.set(x.id,S):m.current.delete(x.id)},checked:_,onCheckedChange:()=>p(x.id),disabled:o,className:"h-5 w-5"}),l.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>u("/goals"),role:"button",tabIndex:0,onKeyDown:S=>{S.key==="Enter"&&u("/goals")},children:[l.jsx("span",{className:`text-base font-medium ${_?"line-through text-muted-foreground":""}`,children:x.title}),x.description&&l.jsx("p",{className:`text-sm text-muted-foreground font-normal line-clamp-1 mt-0.5 ${_?"line-through":""}`,children:x.description})]}),_&&l.jsx(fl,{className:"h-4 w-4 text-primary shrink-0"})]},x.id)})]}),l.jsx(h,{})]})},ng=7;function A2(){const{user:e}=Ot(),{currentDate:t,location:r}=Sr(),{goals:n}=ip(),s=ku(),o=(t==null?void 0:t.gregorian)??null,i=(t==null?void 0:t.preMaghribHijri)??(t==null?void 0:t.hijri)??null,a=d.useMemo(()=>{if(!o||!r)return[];const y=[];for(let g=1;g<=ng;g++){const b=new Date(o);b.setDate(b.getDate()-g);const w=ba(b,r.timezone);y.push(mc(w))}return y},[o,r]),{data:c=[],isLoading:u}=Uw({queryKey:["goal-completions-past",e==null?void 0:e.id,a],queryFn:async()=>{if(!e||a.length===0)return[];const{data:y,error:g}=await we.from("goal_completions").select("goal_id, completion_date").eq("user_id",e.id).in("completion_date",a);if(g)throw g;return y},enabled:!!e&&a.length>0}),f=d.useMemo(()=>{const y=new Set;for(const g of c)y.add(`${g.goal_id}:${g.completion_date}`);return y},[c]),h=d.useMemo(()=>{if(!o||!i||!r)return[];const y=n.filter(w=>w.is_active);return H7(y,o,i,f,ng,w=>ba(w,r.timezone)).map(({goal:w,overdueDate:v,overdueHijriDate:x})=>({goal:w,overdueDate:v,overdueDateLabel:W7(v,o),overdueHijriDate:mc(x),overdueGregorianDate:v.toISOString().split("T")[0]}))},[n,o,i,r,f]),m=la({mutationFn:async y=>{if(!e||!o||!r)throw new Error("Not authenticated or missing context");const g=n.find(_=>_.id===y);if(!g)throw new Error("Goal not found");const w=K7(g,o,f,ng,_=>ba(_,r.timezone));if(w.length===0)return;const v=w.map(({gregorianDate:_,hijriDate:S})=>({user_id:e.id,goal_id:y,completion_date:mc(S),gregorian_date:_.toISOString().split("T")[0]})),{error:x}=await we.from("goal_completions").insert(v);if(x)throw x},onSuccess:()=>{s.invalidateQueries({queryKey:["goal-completions-past",e==null?void 0:e.id]}),s.invalidateQueries({queryKey:["goal-completions",e==null?void 0:e.id]})}});return{overdueGoals:h,isLoading:u,completeOverdue:y=>{h.find(b=>b.goal.id===y)&&m.mutate(y)},isCompletingOverdue:m.isPending}}const wW={fajr:_a,dhuhr:_a,asr:_a,maghrib:si,isha:si,nisfulLayl:si},xW=()=>{const{user:e}=Ot(),{location:t,requestLocationPermission:r}=Sr(),n=cl(),[s,o]=d.useState(null),{prayers:i,togglePrayer:a,currentPrayer:c,nextPrayer:u,isLoading:f}=QT(),{prayerTimes:h}=px(),{isCompleted:m,toggleCompletion:p,isToggling:y}=mx(),{overdueGoals:g,completeOverdue:b,isCompletingOverdue:w}=A2(),v=d.useMemo(()=>new Set(g.map(F=>F.goal.id)),[g]),{prayerCompleted:x,prayerTotal:_,goalsCompleted:S,goalsTotal:C,goalsDueToday:k,overallPercentage:E}=JT(i,f,v),P=h?ZT(h):null,O=(P==null?void 0:P.current)||null;d.useEffect(()=>{(async()=>{if(e){const{data:$,error:Y}=await we.from("profiles").select("full_name, latitude").eq("id",e.id).maybeSingle();if(Y){console.error("Error fetching profile:",Y),o(!0);return}o($?$.latitude===null:!0)}})()},[e]),d.useEffect(()=>{s===!0&&n("/auth/onboarding",{replace:!0})},[s,n]);const M=c||u,T=M?wW[M.name]:_a;return s===null?l.jsx("div",{className:"flex min-h-[50vh] items-center justify-center",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-foreground border-t-transparent"})}):l.jsx("div",{className:"container py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[l.jsxs(GT,{currentPrayer:O,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx(FT,{showLocation:!0,compact:!0,variant:"light"}),l.jsx(KT,{percentage:E,compact:!0,variant:"light"})]}),!(t!=null&&t.city)&&l.jsxs(Pe,{variant:"outline",size:"sm",onClick:r,className:"mt-3 gap-2 border-white/30 text-white hover:bg-white/10 hover:text-white",children:[l.jsx(Kw,{className:"h-4 w-4"}),"Set your location"]}),l.jsx("div",{className:"mt-3 mb-4 h-2 w-full rounded-full bg-white/20 overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${E}%`,backgroundColor:"hsl(75, 70%, 55%)",backgroundImage:"repeating-linear-gradient(135deg, transparent, transparent 3px, rgba(255,255,255,0.2) 3px, rgba(255,255,255,0.2) 6px)"}})}),M?l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs uppercase tracking-widest text-white/70 font-normal",children:c?"Current Namaz":"Next Namaz"}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l.jsx("div",{className:"rounded-full p-2 bg-white/20",children:l.jsx(T,{className:"h-5 w-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-white font-display",children:M.displayName}),l.jsx("span",{className:"text-sm text-white/80",children:M.time})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[M.isCompleted&&l.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-sm",children:[l.jsx(fl,{className:"h-4 w-4"}),l.jsx("span",{children:"Done"})]}),l.jsx(yi,{checked:M.isCompleted,onCheckedChange:()=>a(M.name),className:"h-6 w-6 border-white/50 data-[state=checked]:bg-white/30 data-[state=checked]:text-white"})]})]}):l.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Reflect, rest, renew."})]}),l.jsx(vW,{}),l.jsx(yW,{goalsDueToday:k,goalsCompleted:S,goalsTotal:C,isCompleted:m,onToggle:p,isToggling:y,overdueGoals:g,onCompleteOverdue:b,isCompletingOverdue:w})]})})};var nS=1,bW=.9,_W=.8,SW=.17,sg=.1,og=.999,CW=.9999,kW=.99,EW=/[\\\/_+.#"@\[\(\{&]/,jW=/[\\\/_+.#"@\[\(\{&]/g,NW=/[\s-]/,O2=/[\s-]/g;function fy(e,t,r,n,s,o,i){if(o===t.length)return s===e.length?nS:kW;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var c=n.charAt(o),u=r.indexOf(c,s),f=0,h,m,p,y;u>=0;)h=fy(e,t,r,n,u+1,o+1,i),h>f&&(u===s?h*=nS:EW.test(e.charAt(u-1))?(h*=_W,p=e.slice(s,u-1).match(jW),p&&s>0&&(h*=Math.pow(og,p.length))):NW.test(e.charAt(u-1))?(h*=bW,y=e.slice(s,u-1).match(O2),y&&s>0&&(h*=Math.pow(og,y.length))):(h*=SW,s>0&&(h*=Math.pow(og,u-s))),e.charAt(u)!==t.charAt(o)&&(h*=CW)),(h<sg&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(m=fy(e,t,r,n,u+1,o+2,i),m*sg>h&&(h=m*sg)),h>f&&(f=h),u=r.indexOf(c,u+1);return i[a]=f,f}function sS(e){return e.toLowerCase().replace(O2," ")}function RW(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,fy(e,t,sS(e),sS(t),0,0,{})}var Hl='[cmdk-group=""]',ig='[cmdk-group-items=""]',TW='[cmdk-group-heading=""]',I2='[cmdk-item=""]',oS=`${I2}:not([aria-disabled="true"])`,hy="cmdk-item-select",qi="data-value",PW=(e,t,r)=>RW(e,t,r),D2=d.createContext(void 0),Du=()=>d.useContext(D2),M2=d.createContext(void 0),xx=()=>d.useContext(M2),$2=d.createContext(void 0),L2=d.forwardRef((e,t)=>{let r=Yi(()=>{var A,W;return{search:"",value:(W=(A=e.value)!=null?A:e.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Yi(()=>new Set),s=Yi(()=>new Map),o=Yi(()=>new Map),i=Yi(()=>new Set),a=F2(e),{label:c,children:u,value:f,onValueChange:h,filter:m,shouldFilter:p,loop:y,disablePointerSelection:g=!1,vimBindings:b=!0,...w}=e,v=Pt(),x=Pt(),_=Pt(),S=d.useRef(null),C=zW();wi(()=>{if(f!==void 0){let A=f.trim();r.current.value=A,k.emit()}},[f]),wi(()=>{C(6,F)},[]);let k=d.useMemo(()=>({subscribe:A=>(i.current.add(A),()=>i.current.delete(A)),snapshot:()=>r.current,setState:(A,W,Z)=>{var Q,ae,K,he;if(!Object.is(r.current[A],W)){if(r.current[A]=W,A==="search")T(),O(),C(1,M);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(_);de?de.focus():(Q=document.getElementById(v))==null||Q.focus()}if(C(7,()=>{var de;r.current.selectedItemId=(de=$())==null?void 0:de.id,k.emit()}),Z||C(5,F),((ae=a.current)==null?void 0:ae.value)!==void 0){let de=W??"";(he=(K=a.current).onValueChange)==null||he.call(K,de);return}}k.emit()}},emit:()=>{i.current.forEach(A=>A())}}),[]),E=d.useMemo(()=>({value:(A,W,Z)=>{var Q;W!==((Q=o.current.get(A))==null?void 0:Q.value)&&(o.current.set(A,{value:W,keywords:Z}),r.current.filtered.items.set(A,P(W,Z)),C(2,()=>{O(),k.emit()}))},item:(A,W)=>(n.current.add(A),W&&(s.current.has(W)?s.current.get(W).add(A):s.current.set(W,new Set([A]))),C(3,()=>{T(),O(),r.current.value||M(),k.emit()}),()=>{o.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let Z=$();C(4,()=>{T(),(Z==null?void 0:Z.getAttribute("id"))===A&&M(),k.emit()})}),group:A=>(s.current.has(A)||s.current.set(A,new Set),()=>{o.current.delete(A),s.current.delete(A)}),filter:()=>a.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:v,inputId:_,labelId:x,listInnerRef:S}),[]);function P(A,W){var Z,Q;let ae=(Q=(Z=a.current)==null?void 0:Z.filter)!=null?Q:PW;return A?ae(A,r.current.search,W):0}function O(){if(!r.current.search||a.current.shouldFilter===!1)return;let A=r.current.filtered.items,W=[];r.current.filtered.groups.forEach(Q=>{let ae=s.current.get(Q),K=0;ae.forEach(he=>{let de=A.get(he);K=Math.max(de,K)}),W.push([Q,K])});let Z=S.current;Y().sort((Q,ae)=>{var K,he;let de=Q.getAttribute("id"),se=ae.getAttribute("id");return((K=A.get(se))!=null?K:0)-((he=A.get(de))!=null?he:0)}).forEach(Q=>{let ae=Q.closest(ig);ae?ae.appendChild(Q.parentElement===ae?Q:Q.closest(`${ig} > *`)):Z.appendChild(Q.parentElement===Z?Q:Q.closest(`${ig} > *`))}),W.sort((Q,ae)=>ae[1]-Q[1]).forEach(Q=>{var ae;let K=(ae=S.current)==null?void 0:ae.querySelector(`${Hl}[${qi}="${encodeURIComponent(Q[0])}"]`);K==null||K.parentElement.appendChild(K)})}function M(){let A=Y().find(Z=>Z.getAttribute("aria-disabled")!=="true"),W=A==null?void 0:A.getAttribute(qi);k.setState("value",W||void 0)}function T(){var A,W,Z,Q;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ae=0;for(let K of n.current){let he=(W=(A=o.current.get(K))==null?void 0:A.value)!=null?W:"",de=(Q=(Z=o.current.get(K))==null?void 0:Z.keywords)!=null?Q:[],se=P(he,de);r.current.filtered.items.set(K,se),se>0&&ae++}for(let[K,he]of s.current)for(let de of he)if(r.current.filtered.items.get(de)>0){r.current.filtered.groups.add(K);break}r.current.filtered.count=ae}function F(){var A,W,Z;let Q=$();Q&&(((A=Q.parentElement)==null?void 0:A.firstChild)===Q&&((Z=(W=Q.closest(Hl))==null?void 0:W.querySelector(TW))==null||Z.scrollIntoView({block:"nearest"})),Q.scrollIntoView({block:"nearest"}))}function $(){var A;return(A=S.current)==null?void 0:A.querySelector(`${I2}[aria-selected="true"]`)}function Y(){var A;return Array.from(((A=S.current)==null?void 0:A.querySelectorAll(oS))||[])}function V(A){let W=Y()[A];W&&k.setState("value",W.getAttribute(qi))}function H(A){var W;let Z=$(),Q=Y(),ae=Q.findIndex(he=>he===Z),K=Q[ae+A];(W=a.current)!=null&&W.loop&&(K=ae+A<0?Q[Q.length-1]:ae+A===Q.length?Q[0]:Q[ae+A]),K&&k.setState("value",K.getAttribute(qi))}function I(A){let W=$(),Z=W==null?void 0:W.closest(Hl),Q;for(;Z&&!Q;)Z=A>0?UW(Z,Hl):BW(Z,Hl),Q=Z==null?void 0:Z.querySelector(oS);Q?k.setState("value",Q.getAttribute(qi)):H(A)}let R=()=>V(Y().length-1),U=A=>{A.preventDefault(),A.metaKey?R():A.altKey?I(1):H(1)},q=A=>{A.preventDefault(),A.metaKey?V(0):A.altKey?I(-1):H(-1)};return d.createElement(ie.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:A=>{var W;(W=w.onKeyDown)==null||W.call(w,A);let Z=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||Z))switch(A.key){case"n":case"j":{b&&A.ctrlKey&&U(A);break}case"ArrowDown":{U(A);break}case"p":case"k":{b&&A.ctrlKey&&q(A);break}case"ArrowUp":{q(A);break}case"Home":{A.preventDefault(),V(0);break}case"End":{A.preventDefault(),R();break}case"Enter":{A.preventDefault();let Q=$();if(Q){let ae=new Event(hy);Q.dispatchEvent(ae)}}}}},d.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:WW},c),fp(e,A=>d.createElement(M2.Provider,{value:k},d.createElement(D2.Provider,{value:E},A))))}),AW=d.forwardRef((e,t)=>{var r,n;let s=Pt(),o=d.useRef(null),i=d.useContext($2),a=Du(),c=F2(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;wi(()=>{if(!u)return a.item(s,i==null?void 0:i.id)},[u]);let f=U2(s,o,[e.value,e.children,o],e.keywords),h=xx(),m=po(C=>C.value&&C.value===f.current),p=po(C=>u||a.filter()===!1?!0:C.search?C.filtered.items.get(s)>0:!0);d.useEffect(()=>{let C=o.current;if(!(!C||e.disabled))return C.addEventListener(hy,y),()=>C.removeEventListener(hy,y)},[p,e.onSelect,e.disabled]);function y(){var C,k;g(),(k=(C=c.current).onSelect)==null||k.call(C,f.current)}function g(){h.setState("value",f.current,!0)}if(!p)return null;let{disabled:b,value:w,onSelect:v,forceMount:x,keywords:_,...S}=e;return d.createElement(ie.div,{ref:is(o,t),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!m,"data-disabled":!!b,"data-selected":!!m,onPointerMove:b||a.getDisablePointerSelection()?void 0:g,onClick:b?void 0:y},e.children)}),OW=d.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,i=Pt(),a=d.useRef(null),c=d.useRef(null),u=Pt(),f=Du(),h=po(p=>s||f.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);wi(()=>f.group(i),[]),U2(i,a,[e.value,e.heading,c]);let m=d.useMemo(()=>({id:i,forceMount:s}),[s]);return d.createElement(ie.div,{ref:is(a,t),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&d.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),fp(e,p=>d.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},d.createElement($2.Provider,{value:m},p))))}),IW=d.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=d.useRef(null),o=po(i=>!i.search);return!r&&!o?null:d.createElement(ie.div,{ref:is(s,t),...n,"cmdk-separator":"",role:"separator"})}),DW=d.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=xx(),i=po(u=>u.search),a=po(u=>u.selectedItemId),c=Du();return d.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),d.createElement(ie.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":a,id:c.inputId,type:"text",value:s?e.value:i,onChange:u=>{s||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),MW=d.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=d.useRef(null),i=d.useRef(null),a=po(u=>u.selectedItemId),c=Du();return d.useEffect(()=>{if(i.current&&o.current){let u=i.current,f=o.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=u.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(h),m.unobserve(u)}}},[]),d.createElement(ie.div,{ref:is(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:c.listId},fp(e,u=>d.createElement("div",{ref:is(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),$W=d.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=e;return d.createElement(Zh,{open:r,onOpenChange:n},d.createElement(Qh,{container:i},d.createElement(hl,{"cmdk-overlay":"",className:s}),d.createElement(pl,{"aria-label":e.label,"cmdk-dialog":"",className:o},d.createElement(L2,{ref:t,...a}))))}),LW=d.forwardRef((e,t)=>po(r=>r.filtered.count===0)?d.createElement(ie.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),FW=d.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return d.createElement(ie.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},fp(e,i=>d.createElement("div",{"aria-hidden":!0},i)))}),Cr=Object.assign(L2,{List:MW,Item:AW,Input:DW,Group:OW,Separator:IW,Dialog:$W,Empty:LW,Loading:FW});function UW(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function BW(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function F2(e){let t=d.useRef(e);return wi(()=>{t.current=e}),t}var wi=typeof window>"u"?d.useEffect:d.useLayoutEffect;function Yi(e){let t=d.useRef();return t.current===void 0&&(t.current=e()),t}function po(e){let t=xx(),r=()=>e(t.snapshot());return d.useSyncExternalStore(t.subscribe,r,r)}function U2(e,t,r,n=[]){let s=d.useRef(),o=Du();return wi(()=>{var i;let a=(()=>{var u;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());o.value(e,a,c),(i=t.current)==null||i.setAttribute(qi,a),s.current=a}),s}var zW=()=>{let[e,t]=d.useState(),r=Yi(()=>new Map);return wi(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function VW(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function fp({asChild:e,children:t},r){return e&&d.isValidElement(t)?d.cloneElement(VW(t),{ref:t.ref},r(t.props.children)):r(t)}var WW={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const B2=d.forwardRef(({className:e,...t},r)=>l.jsx(Cr,{ref:r,className:B("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));B2.displayName=Cr.displayName;const z2=d.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(RM,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Cr.Input,{ref:r,className:B("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));z2.displayName=Cr.Input.displayName;const V2=d.forwardRef(({className:e,...t},r)=>l.jsx(Cr.List,{ref:r,className:B("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));V2.displayName=Cr.List.displayName;const W2=d.forwardRef((e,t)=>l.jsx(Cr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));W2.displayName=Cr.Empty.displayName;const H2=d.forwardRef(({className:e,...t},r)=>l.jsx(Cr.Group,{ref:r,className:B("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));H2.displayName=Cr.Group.displayName;const HW=d.forwardRef(({className:e,...t},r)=>l.jsx(Cr.Separator,{ref:r,className:B("-mx-1 h-px bg-border",e),...t}));HW.displayName=Cr.Separator.displayName;const K2=d.forwardRef(({className:e,...t},r)=>l.jsx(Cr.Item,{ref:r,className:B("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));K2.displayName=Cr.Item.displayName;var hp="Popover",[G2,kZ]=At(hp,[yo]),Mu=yo(),[KW,Eo]=G2(hp),q2=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=Mu(t),c=d.useRef(null),[u,f]=d.useState(!1),[h,m]=Qt({prop:n,defaultProp:s??!1,onChange:o,caller:hp});return l.jsx(Ih,{...a,children:l.jsx(KW,{scope:t,contentId:Pt(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:d.useCallback(()=>f(!0),[]),onCustomAnchorRemove:d.useCallback(()=>f(!1),[]),modal:i,children:r})})};q2.displayName=hp;var Y2="PopoverAnchor",GW=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Eo(Y2,r),o=Mu(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return d.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(Cu,{...o,...n,ref:t})});GW.displayName=Y2;var Z2="PopoverTrigger",Q2=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Eo(Z2,r),o=Mu(r),i=Ne(t,s.triggerRef),a=l.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rP(s.open),...n,ref:i,onClick:ee(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Cu,{asChild:!0,...o,children:a})});Q2.displayName=Z2;var bx="PopoverPortal",[qW,YW]=G2(bx,{forceMount:void 0}),J2=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Eo(bx,t);return l.jsx(qW,{scope:t,forceMount:r,children:l.jsx(Jt,{present:r||o.open,children:l.jsx(rl,{asChild:!0,container:s,children:n})})})};J2.displayName=bx;var Ja="PopoverContent",X2=d.forwardRef((e,t)=>{const r=YW(Ja,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Eo(Ja,e.__scopePopover);return l.jsx(Jt,{present:n||o.open,children:o.modal?l.jsx(QW,{...s,ref:t}):l.jsx(JW,{...s,ref:t})})});X2.displayName=Ja;var ZW=lo("PopoverContent.RemoveScroll"),QW=d.forwardRef((e,t)=>{const r=Eo(Ja,e.__scopePopover),n=d.useRef(null),s=Ne(t,n),o=d.useRef(!1);return d.useEffect(()=>{const i=n.current;if(i)return qh(i)},[]),l.jsx(Nu,{as:ZW,allowPinchZoom:!0,children:l.jsx(eP,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),JW=d.forwardRef((e,t)=>{const r=Eo(Ja,e.__scopePopover),n=d.useRef(!1),s=d.useRef(!1);return l.jsx(eP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),eP=d.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...h}=e,m=Eo(Ja,r),p=Mu(r);return Kh(),l.jsx(ju,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Dh,{"data-state":rP(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tP="PopoverClose",XW=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Eo(tP,r);return l.jsx(ie.button,{type:"button",...n,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});XW.displayName=tP;var eH="PopoverArrow",tH=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Mu(r);return l.jsx(Mh,{...s,...n,ref:t})});tH.displayName=eH;function rP(e){return e?"open":"closed"}var rH=q2,nH=Q2,sH=J2,nP=X2;const oH=rH,iH=nH,sP=d.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(sH,{children:l.jsx(nP,{ref:s,align:t,sideOffset:r,className:B("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sP.displayName=nP.displayName;const pp=[{id:"mecca",name:"Mecca",country:"Saudi Arabia",countryCode:"SA",latitude:21.4225,longitude:39.8262,timezone:"Asia/Riyadh"},{id:"medina",name:"Medina",country:"Saudi Arabia",countryCode:"SA",latitude:24.5247,longitude:39.5692,timezone:"Asia/Riyadh"},{id:"mumbai",name:"Mumbai",country:"India",countryCode:"IN",latitude:19.076,longitude:72.8777,timezone:"Asia/Kolkata"},{id:"surat",name:"Surat",country:"India",countryCode:"IN",latitude:21.1702,longitude:72.8311,timezone:"Asia/Kolkata"},{id:"ahmedabad",name:"Ahmedabad",country:"India",countryCode:"IN",latitude:23.0225,longitude:72.5714,timezone:"Asia/Kolkata"},{id:"vadodara",name:"Vadodara",country:"India",countryCode:"IN",latitude:22.3072,longitude:73.1812,timezone:"Asia/Kolkata"},{id:"udaipur",name:"Udaipur",country:"India",countryCode:"IN",latitude:24.5854,longitude:73.7125,timezone:"Asia/Kolkata"},{id:"ujjain",name:"Ujjain",country:"India",countryCode:"IN",latitude:23.1765,longitude:75.7885,timezone:"Asia/Kolkata"},{id:"indore",name:"Indore",country:"India",countryCode:"IN",latitude:22.7196,longitude:75.8577,timezone:"Asia/Kolkata"},{id:"delhi",name:"Delhi",country:"India",countryCode:"IN",latitude:28.6139,longitude:77.209,timezone:"Asia/Kolkata"},{id:"bangalore",name:"Bangalore",country:"India",countryCode:"IN",latitude:12.9716,longitude:77.5946,timezone:"Asia/Kolkata"},{id:"chennai",name:"Chennai",country:"India",countryCode:"IN",latitude:13.0827,longitude:80.2707,timezone:"Asia/Kolkata"},{id:"hyderabad",name:"Hyderabad",country:"India",countryCode:"IN",latitude:17.385,longitude:78.4867,timezone:"Asia/Kolkata"},{id:"kolkata",name:"Kolkata",country:"India",countryCode:"IN",latitude:22.5726,longitude:88.3639,timezone:"Asia/Kolkata"},{id:"pune",name:"Pune",country:"India",countryCode:"IN",latitude:18.5204,longitude:73.8567,timezone:"Asia/Kolkata"},{id:"karachi",name:"Karachi",country:"Pakistan",countryCode:"PK",latitude:24.8607,longitude:67.0011,timezone:"Asia/Karachi"},{id:"colombo",name:"Colombo",country:"Sri Lanka",countryCode:"LK",latitude:6.9271,longitude:79.8612,timezone:"Asia/Colombo"},{id:"kandy",name:"Kandy",country:"Sri Lanka",countryCode:"LK",latitude:7.2906,longitude:80.6337,timezone:"Asia/Colombo"},{id:"dubai",name:"Dubai",country:"UAE",countryCode:"AE",latitude:25.2048,longitude:55.2708,timezone:"Asia/Dubai"},{id:"abu-dhabi",name:"Abu Dhabi",country:"UAE",countryCode:"AE",latitude:24.4539,longitude:54.3773,timezone:"Asia/Dubai"},{id:"sharjah",name:"Sharjah",country:"UAE",countryCode:"AE",latitude:25.3463,longitude:55.4209,timezone:"Asia/Dubai"},{id:"muscat",name:"Muscat",country:"Oman",countryCode:"OM",latitude:23.588,longitude:58.3829,timezone:"Asia/Muscat"},{id:"manama",name:"Manama",country:"Bahrain",countryCode:"BH",latitude:26.2285,longitude:50.586,timezone:"Asia/Bahrain"},{id:"kuwait-city",name:"Kuwait City",country:"Kuwait",countryCode:"KW",latitude:29.3759,longitude:47.9774,timezone:"Asia/Kuwait"},{id:"doha",name:"Doha",country:"Qatar",countryCode:"QA",latitude:25.2854,longitude:51.531,timezone:"Asia/Qatar"},{id:"riyadh",name:"Riyadh",country:"Saudi Arabia",countryCode:"SA",latitude:24.7136,longitude:46.6753,timezone:"Asia/Riyadh"},{id:"jeddah",name:"Jeddah",country:"Saudi Arabia",countryCode:"SA",latitude:21.5433,longitude:39.1728,timezone:"Asia/Riyadh"},{id:"nairobi",name:"Nairobi",country:"Kenya",countryCode:"KE",latitude:-1.2921,longitude:36.8219,timezone:"Africa/Nairobi"},{id:"mombasa",name:"Mombasa",country:"Kenya",countryCode:"KE",latitude:-4.0435,longitude:39.6682,timezone:"Africa/Nairobi"},{id:"dar-es-salaam",name:"Dar es Salaam",country:"Tanzania",countryCode:"TZ",latitude:-6.7924,longitude:39.2083,timezone:"Africa/Dar_es_Salaam"},{id:"cairo",name:"Cairo",country:"Egypt",countryCode:"EG",latitude:30.0444,longitude:31.2357,timezone:"Africa/Cairo"},{id:"london",name:"London",country:"United Kingdom",countryCode:"GB",latitude:51.5074,longitude:-.1278,timezone:"Europe/London"},{id:"manchester",name:"Manchester",country:"United Kingdom",countryCode:"GB",latitude:53.4808,longitude:-2.2426,timezone:"Europe/London"},{id:"birmingham",name:"Birmingham",country:"United Kingdom",countryCode:"GB",latitude:52.4862,longitude:-1.8904,timezone:"Europe/London"},{id:"paris",name:"Paris",country:"France",countryCode:"FR",latitude:48.8566,longitude:2.3522,timezone:"Europe/Paris"},{id:"new-york",name:"New York",country:"United States",countryCode:"US",latitude:40.7128,longitude:-74.006,timezone:"America/New_York"},{id:"chicago",name:"Chicago",country:"United States",countryCode:"US",latitude:41.8781,longitude:-87.6298,timezone:"America/Chicago"},{id:"los-angeles",name:"Los Angeles",country:"United States",countryCode:"US",latitude:34.0522,longitude:-118.2437,timezone:"America/Los_Angeles"},{id:"houston",name:"Houston",country:"United States",countryCode:"US",latitude:29.7604,longitude:-95.3698,timezone:"America/Chicago"},{id:"toronto",name:"Toronto",country:"Canada",countryCode:"CA",latitude:43.6532,longitude:-79.3832,timezone:"America/Toronto"},{id:"vancouver",name:"Vancouver",country:"Canada",countryCode:"CA",latitude:49.2827,longitude:-123.1207,timezone:"America/Vancouver"},{id:"singapore",name:"Singapore",country:"Singapore",countryCode:"SG",latitude:1.3521,longitude:103.8198,timezone:"Asia/Singapore"},{id:"hong-kong",name:"Hong Kong",country:"Hong Kong",countryCode:"HK",latitude:22.3193,longitude:114.1694,timezone:"Asia/Hong_Kong"},{id:"sydney",name:"Sydney",country:"Australia",countryCode:"AU",latitude:-33.8688,longitude:151.2093,timezone:"Australia/Sydney"},{id:"melbourne",name:"Melbourne",country:"Australia",countryCode:"AU",latitude:-37.8136,longitude:144.9631,timezone:"Australia/Melbourne"}],iS={SA:"",IN:"",PK:"",LK:"",AE:"",OM:"",BH:"",KW:"",QA:"",KE:"",TZ:"",EG:"",GB:"",FR:"",US:"",CA:"",SG:"",HK:"",AU:""},aH=()=>pp.reduce((e,t)=>(e[t.country]||(e[t.country]=[]),e[t.country].push(t),e),{}),lH=e=>pp.find(t=>t.id===e),oP=({value:e,onChange:t,className:r})=>{const[n,s]=d.useState(!1),[o,i]=d.useState(!1),a=aH(),c=async()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}i(!0),navigator.geolocation.getCurrentPosition(u=>{const{latitude:f,longitude:h}=u.coords,m=pp.find(p=>Math.abs(p.latitude-f)<.5&&Math.abs(p.longitude-h)<.5);m?t(m):t(null,{latitude:f,longitude:h}),i(!1)},u=>{console.error("GPS error:",u),alert("Unable to get your location. Please select a city manually."),i(!1)},{enableHighAccuracy:!0,timeout:1e4})};return l.jsxs("div",{className:B("space-y-3",r),children:[l.jsxs(oH,{open:n,onOpenChange:s,children:[l.jsx(iH,{asChild:!0,children:l.jsxs(Pe,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between h-11 bg-background",children:[e?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{children:iS[e.countryCode]}),l.jsxs("span",{children:[e.name,", ",e.country]})]}):l.jsx("span",{className:"text-muted-foreground",children:"Select your city..."}),l.jsx(z8,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(sP,{className:"w-[var(--radix-popover-trigger-width)] p-0 bg-popover z-50",align:"start",children:l.jsxs(B2,{children:[l.jsx(z2,{placeholder:"Search cities..."}),l.jsxs(V2,{children:[l.jsx(W2,{children:"No city found."}),Object.entries(a).map(([u,f])=>l.jsx(H2,{heading:`${iS[f[0].countryCode]} ${u}`,children:f.map(h=>l.jsxs(K2,{value:`${h.name} ${h.country}`,onSelect:()=>{t(h),s(!1)},children:[l.jsx(fl,{className:B("mr-2 h-4 w-4",(e==null?void 0:e.id)===h.id?"opacity-100":"opacity-0")}),h.name]},h.id))},u))]})]})})]}),l.jsx(Pe,{type:"button",variant:"secondary",onClick:c,disabled:o,className:"w-full",children:o?l.jsxs(l.Fragment,{children:[l.jsx(tu,{className:"mr-2 h-4 w-4 animate-spin"}),"Getting location..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Kw,{className:"mr-2 h-4 w-4"}),"Use my current location"]})})]})},cH=()=>{var g;const{user:e}=Ot(),t=cl(),{toast:r}=fs(),[n,s]=d.useState(),[o,i]=d.useState(null),[a,c]=d.useState(""),[u,f]=d.useState(!1);d.useEffect(()=>{(async()=>{if(e){const{data:w}=await we.from("profiles").select("full_name").eq("id",e.id).single();w!=null&&w.full_name&&c(w.full_name)}})()},[e]);const h=(b,w)=>{b?(s(b),i(null)):w&&(i(w),s(void 0))},m=async()=>{if(!e)return;const b=n?{latitude:n.latitude,longitude:n.longitude,city:n.name,timezone:n.timezone}:o?{latitude:o.latitude,longitude:o.longitude,city:"Custom Location",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}:null;if(!b){r({title:"Please select a location",description:"We need your location to show accurate prayer times.",variant:"destructive"});return}f(!0);const{error:w}=await we.from("profiles").upsert({id:e.id,...b,updated_at:new Date().toISOString()});if(f(!1),w){r({title:"Error saving location",description:w.message,variant:"destructive"});return}r({title:"Location saved!",description:"Your prayer times will now be accurate for your location."}),t("/dashboard")},p=async()=>{if(!e)return;const b=lH("mecca");b&&(f(!0),await we.from("profiles").upsert({id:e.id,latitude:b.latitude,longitude:b.longitude,city:b.name,timezone:b.timezone,updated_at:new Date().toISOString()}),f(!1),t("/dashboard"))},y=a||((g=e==null?void 0:e.email)==null?void 0:g.split("@")[0])||"there";return l.jsx(cx,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h1",{className:"text-2xl font-bold tracking-tight font-display",children:["Welcome, ",y,"! "]}),l.jsx("p",{className:"text-muted-foreground",children:"Select your location to get accurate prayer times. This helps us calculate Maghrib for the Hijri calendar transition."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(oP,{value:n,onChange:h}),o&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:[" Using GPS coordinates: ",o.latitude.toFixed(4),", ",o.longitude.toFixed(4)]})]}),l.jsxs("div",{className:"space-y-3 pt-2",children:[l.jsx(Pe,{onClick:m,className:"w-full",disabled:u||!n&&!o,children:u?l.jsxs(l.Fragment,{children:[l.jsx(tu,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Continue to Dashboard"}),l.jsx(Pe,{variant:"ghost",onClick:p,disabled:u,className:"w-full text-muted-foreground",children:"Skip for now (defaults to Mecca)"})]})]})})},uH=ki("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ou({className:e,variant:t,...r}){return l.jsx("div",{className:B(uH({variant:t}),e),...r})}var mp="Collapsible",[dH,EZ]=At(mp),[fH,_x]=dH(mp),iP=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...a}=e,[c,u]=Qt({prop:n,defaultProp:s??!1,onChange:i,caller:mp});return l.jsx(fH,{scope:r,disabled:o,contentId:Pt(),open:c,onOpenToggle:d.useCallback(()=>u(f=>!f),[u]),children:l.jsx(ie.div,{"data-state":Cx(c),"data-disabled":o?"":void 0,...a,ref:t})})});iP.displayName=mp;var aP="CollapsibleTrigger",lP=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=_x(aP,r);return l.jsx(ie.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Cx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:ee(e.onClick,s.onOpenToggle)})});lP.displayName=aP;var Sx="CollapsibleContent",cP=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_x(Sx,e.__scopeCollapsible);return l.jsx(Jt,{present:r||s.open,children:({present:o})=>l.jsx(hH,{...n,ref:t,present:o})})});cP.displayName=Sx;var hH=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=_x(Sx,r),[a,c]=d.useState(n),u=d.useRef(null),f=Ne(t,u),h=d.useRef(0),m=h.current,p=d.useRef(0),y=p.current,g=i.open||a,b=d.useRef(g),w=d.useRef(void 0);return d.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),Ft(()=>{const v=u.current;if(v){w.current=w.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const x=v.getBoundingClientRect();h.current=x.height,p.current=x.width,b.current||(v.style.transitionDuration=w.current.transitionDuration,v.style.animationName=w.current.animationName),c(n)}},[i.open,n]),l.jsx(ie.div,{"data-state":Cx(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...o,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&s})});function Cx(e){return e?"open":"closed"}var pH=iP;const mH=pH,gH=lP,vH=cP;function kn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function xi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const uP=6048e5,yH=864e5;let wH={};function gp(){return wH}function iu(e,t){var a,c,u,f;const r=gp(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=kn(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function sh(e){return iu(e,{weekStartsOn:1})}function dP(e){const t=kn(e),r=t.getFullYear(),n=xi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=sh(n),o=xi(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=sh(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function aS(e){const t=kn(e);return t.setHours(0,0,0,0),t}function lS(e){const t=kn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function xH(e,t){const r=aS(e),n=aS(t),s=+r-lS(r),o=+n-lS(n);return Math.round((s-o)/yH)}function bH(e){const t=dP(e),r=xi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sh(r)}function _H(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function SH(e){if(!_H(e)&&typeof e!="number")return!1;const t=kn(e);return!isNaN(Number(t))}function CH(e){const t=kn(e),r=xi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const kH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EH=(e,t,r)=>{let n;const s=kH[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ag(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const jH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TH={date:ag({formats:jH,defaultWidth:"full"}),time:ag({formats:NH,defaultWidth:"full"}),dateTime:ag({formats:RH,defaultWidth:"full"})},PH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AH=(e,t,r,n)=>PH[e];function Kl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const OH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$H={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},UH={ordinalNumber:FH,era:Kl({values:OH,defaultWidth:"wide"}),quarter:Kl({values:IH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kl({values:DH,defaultWidth:"wide"}),day:Kl({values:MH,defaultWidth:"wide"}),dayPeriod:Kl({values:$H,defaultWidth:"wide",formattingValues:LH,defaultFormattingWidth:"wide"})};function Gl(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?zH(a,h=>h.test(i)):BH(a,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(i.length);return{value:u,rest:f}}}function BH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function zH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function VH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const WH=/^(\d+)(th|st|nd|rd)?/i,HH=/\d+/i,KH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GH={any:[/^b/i,/^(a|c)/i]},qH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YH={any:[/1/i,/2/i,/3/i,/4/i]},ZH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rK={ordinalNumber:VH({matchPattern:WH,parsePattern:HH,valueCallback:e=>parseInt(e,10)}),era:Gl({matchPatterns:KH,defaultMatchWidth:"wide",parsePatterns:GH,defaultParseWidth:"any"}),quarter:Gl({matchPatterns:qH,defaultMatchWidth:"wide",parsePatterns:YH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gl({matchPatterns:ZH,defaultMatchWidth:"wide",parsePatterns:QH,defaultParseWidth:"any"}),day:Gl({matchPatterns:JH,defaultMatchWidth:"wide",parsePatterns:XH,defaultParseWidth:"any"}),dayPeriod:Gl({matchPatterns:eK,defaultMatchWidth:"any",parsePatterns:tK,defaultParseWidth:"any"})},nK={code:"en-US",formatDistance:EH,formatLong:TH,formatRelative:AH,localize:UH,match:rK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sK(e){const t=kn(e);return xH(t,CH(t))+1}function oK(e){const t=kn(e),r=+sh(t)-+bH(t);return Math.round(r/uP)+1}function fP(e,t){var f,h,m,p;const r=kn(e),n=r.getFullYear(),s=gp(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=xi(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=iu(i,t),c=xi(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=iu(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function iK(e,t){var a,c,u,f;const r=gp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=fP(e,t),o=xi(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),iu(o,t)}function aK(e,t){const r=kn(e),n=+iu(r,t)-+iK(r,t);return Math.round(n/uP)+1}function Ve(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const _s={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ve(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ve(r+1,2)},d(e,t){return Ve(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ve(e.getHours()%12||12,t.length)},H(e,t){return Ve(e.getHours(),t.length)},m(e,t){return Ve(e.getMinutes(),t.length)},s(e,t){return Ve(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ve(s,t.length)}},Vi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cS={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return _s.y(e,t)},Y:function(e,t,r,n){const s=fP(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ve(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ve(o,t.length)},R:function(e,t){const r=dP(e);return Ve(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ve(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ve(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ve(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return _s.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ve(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=aK(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ve(s,t.length)},I:function(e,t,r){const n=oK(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ve(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_s.d(e,t)},D:function(e,t,r){const n=sK(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ve(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ve(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ve(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ve(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Vi.noon:n===0?s=Vi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Vi.evening:n>=12?s=Vi.afternoon:n>=4?s=Vi.morning:s=Vi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _s.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_s.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_s.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_s.s(e,t)},S:function(e,t){return _s.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return dS(n);case"XXXX":case"XX":return Io(n);case"XXXXX":case"XXX":default:return Io(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return dS(n);case"xxxx":case"xx":return Io(n);case"xxxxx":case"xxx":default:return Io(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uS(n,":");case"OOOO":default:return"GMT"+Io(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uS(n,":");case"zzzz":default:return"GMT"+Io(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ve(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ve(n,t.length)}};function uS(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Ve(o,2)}function dS(e,t){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):Io(e,t)}function Io(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ve(Math.trunc(n/60),2),o=Ve(n%60,2);return r+s+t+o}const fS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lK=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return fS(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",fS(n,t)).replace("{{time}}",hP(s,t))},cK={p:hP,P:lK},uK=/^D+$/,dK=/^Y+$/,fK=["D","DD","YY","YYYY"];function hK(e){return uK.test(e)}function pK(e){return dK.test(e)}function mK(e,t,r){const n=gK(e,t,r);if(console.warn(n),fK.includes(e))throw new RangeError(n)}function gK(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wK=/^'([^]*?)'?$/,xK=/''/g,bK=/[a-zA-Z]/;function hS(e,t,r){var f,h,m,p;const n=gp(),s=n.locale??nK,o=n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=kn(e);if(!SH(a))throw new RangeError("Invalid time value");let c=t.match(yK).map(y=>{const g=y[0];if(g==="p"||g==="P"){const b=cK[g];return b(y,s.formatLong)}return y}).join("").match(vK).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:_K(y)};if(cS[g])return{isToken:!0,value:y};if(g.match(bK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;(pK(g)||hK(g))&&mK(g,t,String(e));const b=cS[g[0]];return b(a,g,s.localize,u)}).join("")}function _K(e){const t=e.match(wK);return t?t[1].replace(xK,"'"):e}const lg=10,SK={sabeel:"Sabeel",fmb:"FMB Hub",khumus:"Khumus",zakat:"Zakat"},CK=({open:e,onOpenChange:t,sabeel:r})=>{const{user:n}=Ot(),[s,o]=d.useState([]),[i,a]=d.useState(!1),[c,u]=d.useState(!1),[f,h]=d.useState(0),m=d.useCallback(()=>{const w=[r.id];return r.fmb_hub&&w.push(r.fmb_hub.id),r.khumus_list.forEach(v=>w.push(v.id)),r.zakats.forEach(v=>w.push(v.id)),w},[r]),p=d.useCallback(w=>{if(w.due_type==="khumus"){const v=r.khumus_list.find(x=>x.id===w.reference_id);return(v==null?void 0:v.person_name)||null}if(w.due_type==="zakat"){const v=r.zakats.find(x=>x.id===w.reference_id);return(v==null?void 0:v.person_name)||null}return null},[r]),y=d.useCallback(async(w,v)=>{if(n){a(!0);try{const x=m(),{data:_,error:S}=await we.from("due_payments").select("id, due_type, reference_id, amount_paid, amount_due, paid_at, created_at").in("reference_id",x).order("paid_at",{ascending:!1,nullsFirst:!1}).range(w,w+lg-1);if(S)throw S;const C=_||[];o(k=>v?[...k,...C]:C),u(C.length===lg)}catch(x){console.error("Failed to fetch payment history:",x)}finally{a(!1)}}},[n,m]);d.useEffect(()=>{e&&(h(0),o([]),y(0,!1))},[e,y]);const g=()=>{const w=f+lg;h(w),y(w,!0)},b=w=>new Intl.NumberFormat("en-IN",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}).format(w);return l.jsx(Ei,{open:e,onOpenChange:t,children:l.jsxs(bo,{side:"bottom",className:"h-[80vh] flex flex-col",children:[l.jsx(ji,{children:l.jsxs(Ni,{className:"flex items-center gap-2",children:[l.jsx(TE,{className:"h-5 w-5"}),"Payment History  ",r.sabeel_name]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 space-y-2",children:[s.length===0&&!i&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No payments recorded yet."}),s.map(w=>{const v=p(w),x=SK[w.due_type]||w.due_type,_=w.paid_at?hS(new Date(w.paid_at),"dd MMM yyyy"):hS(new Date(w.created_at),"dd MMM yyyy");return l.jsxs("div",{className:"flex items-center justify-between border border-border rounded-lg p-3 bg-card",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[l.jsx(ou,{variant:"secondary",className:"text-xs shrink-0",children:x}),v&&l.jsx("span",{className:"text-sm font-medium truncate",children:v})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:_})]}),l.jsx("p",{className:"text-sm font-semibold tabular-nums ml-3",children:b(w.amount_paid??w.amount_due)})]},w.id)}),i&&l.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((w,v)=>l.jsx(pi,{className:"h-16 w-full"},v))}),c&&!i&&l.jsx("div",{className:"pt-2 pb-4 text-center",children:l.jsx(Pe,{variant:"outline",size:"sm",onClick:g,children:"Show More"})})]})]})})},kK=({sabeel:e,onEdit:t,onDelete:r,onAddFMBHub:n,onEditFMBHub:s,onDeleteFMBHub:o,onAddKhumus:i,onEditKhumus:a,onDeleteKhumus:c,onAddZakat:u,onEditZakat:f,onDeleteZakat:h})=>{const[m,p]=d.useState(!1),[y,g]=d.useState(!1),b=e.fmb_hub||e.khumus_list.length>0||e.zakats.length>0,w=x=>new Intl.NumberFormat("en-IN",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}).format(x),v=e.calendar_type==="hijri"?PE:AE;return l.jsxs("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:[l.jsxs(mH,{open:m,onOpenChange:p,children:[l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsx(gH,{asChild:!0,children:l.jsxs("button",{className:"flex items-start gap-3 flex-1 text-left min-w-0",children:[l.jsx("div",{className:"mt-0.5",children:b?m?l.jsx(Sw,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(NE,{className:"h-5 w-5 text-muted-foreground"}):l.jsx("div",{className:"w-5"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("h3",{className:"font-semibold text-foreground truncate",children:e.sabeel_name}),l.jsxs(ou,{variant:"outline",className:"text-xs flex items-center gap-1",children:[l.jsx(v,{className:"h-3 w-3"}),e.calendar_type==="hijri"?"Hijri":"Gregorian"]}),!e.is_active&&l.jsx(ou,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[w(e.monthly_amount),"/month",l.jsx("span",{className:"mx-1.5",children:""}),"From"," ",Q7(e.start_month,e.start_year,e.calendar_type)]})]})]})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(e),children:l.jsx(ud,{className:"h-4 w-4"})}),l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>r(e.id),children:l.jsx(dd,{className:"h-4 w-4"})})]})]})}),l.jsx(vH,{children:l.jsxs("div",{className:"border-t border-border bg-muted/30 px-4 py-4 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"FMB Hub"}),!e.fmb_hub&&l.jsxs(Pe,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>n(e.id),children:[l.jsx(am,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.fmb_hub?l.jsxs("div",{className:"flex items-center justify-between bg-card rounded-md p-2.5 border border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>s(e.fmb_hub.id),children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm font-medium",children:[w(e.fmb_hub.monthly_amount),"/month"]})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(e.fmb_hub.id),children:l.jsx(ud,{className:"h-3.5 w-3.5"})}),l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>o(e.fmb_hub.id),children:l.jsx(dd,{className:"h-3.5 w-3.5"})})]})]}):l.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No FMB Hub configured"})]}),l.jsxs("div",{className:"border-t border-border/50 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Khumus"}),l.jsxs(Pe,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>i(e.id),children:[l.jsx(am,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.khumus_list.length>0?l.jsx("div",{className:"space-y-2",children:e.khumus_list.map(x=>l.jsxs("div",{className:"flex items-center justify-between bg-card rounded-md p-2.5 border border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>a(x.id),children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:x.person_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:x.calculation_type==="fixed"?w(x.fixed_amount||0):`${x.percentage_rate}% of ${w(x.monthly_income||0)} = ${w(s2(x))}`})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>a(x.id),children:l.jsx(ud,{className:"h-3.5 w-3.5"})}),l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>c(x.id),children:l.jsx(dd,{className:"h-3.5 w-3.5"})})]})]},x.id))}):l.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No Khumus entries"})]}),l.jsxs("div",{className:"border-t border-border/50 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Zakat"}),l.jsxs(Pe,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>u(e.id),children:[l.jsx(am,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.zakats.length>0?l.jsx("div",{className:"space-y-2",children:e.zakats.map(x=>l.jsxs("div",{className:"flex items-center justify-between bg-card rounded-md p-2.5 border border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>f(x.id),children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:x.person_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:x.calculation_type==="fixed"?w(x.fixed_amount||0):`${x.zakat_rate}% of ${w(x.assets_value||0)} = ${w(o2(x))}`})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>f(x.id),children:l.jsx(ud,{className:"h-3.5 w-3.5"})}),l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>h(x.id),children:l.jsx(dd,{className:"h-3.5 w-3.5"})})]})]},x.id))}):l.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No Zakat entries"})]}),l.jsx("div",{className:"border-t border-border/50 pt-4",children:l.jsxs(Pe,{variant:"outline",size:"sm",className:"w-full",onClick:()=>g(!0),children:[l.jsx(TE,{className:"h-4 w-4 mr-2"}),"History"]})})]})})]}),l.jsx(CK,{open:y,onOpenChange:g,sabeel:e})]})},vp=({value:e,onChange:t,disabled:r=!1})=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Calendar Type"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",disabled:r,onClick:()=>t("hijri"),className:B("flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",e==="hijri"?"border-primary bg-primary/5":"border-border bg-card hover:border-muted-foreground/50",r&&"opacity-50 cursor-not-allowed"),children:[l.jsx(PE,{className:B("h-6 w-6",e==="hijri"?"text-primary":"text-muted-foreground")}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:B("font-medium text-sm",e==="hijri"?"text-primary":"text-foreground"),children:"Hijri"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Islamic calendar"})]})]}),l.jsxs("button",{type:"button",disabled:r,onClick:()=>t("gregorian"),className:B("flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",e==="gregorian"?"border-primary bg-primary/5":"border-border bg-card hover:border-muted-foreground/50",r&&"opacity-50 cursor-not-allowed"),children:[l.jsx(AE,{className:B("h-6 w-6",e==="gregorian"?"text-primary":"text-muted-foreground")}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:B("font-medium text-sm",e==="gregorian"?"text-primary":"text-foreground"),children:"Gregorian"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Salary-aligned"})]})]})]})]});var kx="Radio",[EK,pP]=At(kx),[jK,NK]=EK(kx),mP=d.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:c,form:u,...f}=e,[h,m]=d.useState(null),p=Ne(t,b=>m(b)),y=d.useRef(!1),g=h?u||!!h.closest("form"):!0;return l.jsxs(jK,{scope:r,checked:s,disabled:i,children:[l.jsx(ie.button,{type:"button",role:"radio","aria-checked":s,"data-state":wP(s),"data-disabled":i?"":void 0,disabled:i,value:a,...f,ref:p,onClick:ee(e.onClick,b=>{s||c==null||c(),g&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),g&&l.jsx(yP,{control:h,bubbles:!y.current,name:n,value:a,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});mP.displayName=kx;var gP="RadioIndicator",vP=d.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=NK(gP,r);return l.jsx(Jt,{present:n||o.checked,children:l.jsx(ie.span,{"data-state":wP(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});vP.displayName=gP;var RK="RadioBubbleInput",yP=d.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=d.useRef(null),a=Ne(i,o),c=Xh(r),u=Oh(t);return d.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(y)}},[c,r,n]),l.jsx(ie.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yP.displayName=RK;function wP(e){return e?"checked":"unchecked"}var TK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yp="RadioGroup",[PK,jZ]=At(yp,[Co,pP]),xP=Co(),bP=pP(),[AK,OK]=PK(yp),_P=d.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:c,dir:u,loop:f=!0,onValueChange:h,...m}=e,p=xP(r),y=_l(u),[g,b]=Qt({prop:o,defaultProp:s??null,onChange:h,caller:yp});return l.jsx(AK,{scope:r,name:n,required:i,disabled:a,value:g,onValueChange:b,children:l.jsx(sp,{asChild:!0,...p,orientation:c,dir:y,loop:f,children:l.jsx(ie.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":a?"":void 0,dir:y,...m,ref:t})})})});_P.displayName=yp;var SP="RadioGroupItem",CP=d.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=OK(SP,r),i=o.disabled||n,a=xP(r),c=bP(r),u=d.useRef(null),f=Ne(t,u),h=o.value===s.value,m=d.useRef(!1);return d.useEffect(()=>{const p=g=>{TK.includes(g.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),l.jsx(op,{asChild:!0,...a,focusable:!i,active:h,children:l.jsx(mP,{disabled:i,required:o.required,checked:h,...c,...s,name:o.name,ref:f,onCheck:()=>o.onValueChange(s.value),onKeyDown:ee(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ee(s.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});CP.displayName=SP;var IK="RadioGroupIndicator",kP=d.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=bP(r);return l.jsx(vP,{...s,...n,ref:t})});kP.displayName=IK;var EP=_P,jP=CP,DK=kP;const wp=d.forwardRef(({className:e,...t},r)=>l.jsx(EP,{className:B("grid gap-2",e),...t,ref:r}));wp.displayName=EP.displayName;const oo=d.forwardRef(({className:e,...t},r)=>l.jsx(jP,{ref:r,className:B("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(DK,{className:"flex items-center justify-center",children:l.jsx(RE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));oo.displayName=jP.displayName;const xp=({calendarType:e,reminderType:t,reminderDay:r,onReminderTypeChange:n,onReminderDayChange:s,disabled:o=!1})=>{const i=Z7(e);return l.jsxs("div",{className:"space-y-3",children:[l.jsx(Se,{className:"text-sm font-medium",children:"Reminder"}),l.jsxs(wp,{value:t,onValueChange:a=>n(a),disabled:o,className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(oo,{value:"before_7_days",id:"before_7_days"}),l.jsx(Se,{htmlFor:"before_7_days",className:"text-sm font-normal cursor-pointer",children:"7 days before month end"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(oo,{value:"last_day",id:"last_day"}),l.jsx(Se,{htmlFor:"last_day",className:"text-sm font-normal cursor-pointer",children:"Last day of month"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(oo,{value:"custom",id:"custom"}),l.jsx(Se,{htmlFor:"custom",className:"text-sm font-normal cursor-pointer",children:"Custom day"})]})]}),t==="custom"&&l.jsxs("div",{className:"ml-6 mt-2",children:[l.jsxs(Or,{value:(r==null?void 0:r.toString())||"",onValueChange:a=>s(parseInt(a,10)),disabled:o,children:[l.jsx(vr,{className:"w-32",children:l.jsx(Ir,{placeholder:"Day"})}),l.jsx(yr,{children:i.map(a=>l.jsx(xt,{value:a.value.toString(),children:a.label},a.value))})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Remind on day ",r||"..."," of each"," ",e==="hijri"?"Hijri":"Gregorian"," month"]})]})]})},MK=({open:e,onOpenChange:t,sabeel:r,onSubmit:n,isLoading:s=!1})=>{const o=ms(),{currentDate:i}=Sr(),[a,c]=d.useState("hijri"),[u,f]=d.useState(""),[h,m]=d.useState(""),[p,y]=d.useState(1),[g,b]=d.useState(1446),[w,v]=d.useState(null),[x,_]=d.useState(null),[S,C]=d.useState(!1),[k,E]=d.useState("before_7_days"),[P,O]=d.useState(null),[M,T]=d.useState(!0);d.useEffect(()=>{e&&(r?(c(r.calendar_type),f(r.sabeel_name),m(r.monthly_amount.toString()),y(r.start_month),b(r.start_year),v(r.end_month||null),_(r.end_year||null),C(!!r.end_month),E(r.reminder_type),O(r.reminder_day||null),T(r.is_active)):(c("hijri"),f(""),m(""),y((i==null?void 0:i.hijri.month)||1),b((i==null?void 0:i.hijri.year)||1446),v(null),_(null),C(!1),E("before_7_days"),O(null),T(!0)))},[e,r,i]),d.useEffect(()=>{!r&&i&&(a==="hijri"?(y(i.hijri.month),b(i.hijri.year)):(y(i.gregorian.getMonth()+1),b(i.gregorian.getFullYear())))},[a,r,i]);const F=async q=>{q.preventDefault();const A={sabeel_name:u.trim(),monthly_amount:parseFloat(h)||0,calendar_type:a,start_month:p,start_year:g,end_month:S?w:null,end_year:S?x:null,reminder_type:k,reminder_day:k==="custom"?P:null,is_active:M};await n(A)},$=r2(a),Y=i?n2(a,i.hijri,i.gregorian):[],V=!!r,H=V?"Edit Sabeel":"Add Sabeel",I=V?"Update your Sabeel details":"Add a new Sabeel for your family",R=l.jsxs("form",{onSubmit:F,className:"space-y-6",children:[l.jsx(vp,{value:a,onChange:c,disabled:s}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"sabeelName",children:"Sabeel Name"}),l.jsx(Qe,{id:"sabeelName",value:u,onChange:q=>f(q.target.value),placeholder:"e.g., T0046A",disabled:s,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"monthlyAmount",children:"Monthly Amount"}),l.jsx(Qe,{id:"monthlyAmount",type:"number",value:h,onChange:q=>m(q.target.value),placeholder:"0",disabled:s,required:!0,min:"0",step:"0.01"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Start Date"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(Or,{value:p.toString(),onValueChange:q=>y(parseInt(q,10)),disabled:s,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Month"})}),l.jsx(yr,{children:$.map(q=>l.jsx(xt,{value:q.value.toString(),children:q.label},q.value))})]}),l.jsxs(Or,{value:g.toString(),onValueChange:q=>b(parseInt(q,10)),disabled:s,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Year"})}),l.jsx(yr,{children:Y.map(q=>l.jsx(xt,{value:q.value.toString(),children:q.label},q.value))})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"hasEndDate",className:"cursor-pointer",children:"Set end date"}),l.jsx(cs,{id:"hasEndDate",checked:S,onCheckedChange:C,disabled:s})]}),S&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"End Date"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(Or,{value:(w==null?void 0:w.toString())||"",onValueChange:q=>v(parseInt(q,10)),disabled:s,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Month"})}),l.jsx(yr,{children:$.map(q=>l.jsx(xt,{value:q.value.toString(),children:q.label},q.value))})]}),l.jsxs(Or,{value:(x==null?void 0:x.toString())||"",onValueChange:q=>_(parseInt(q,10)),disabled:s,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Year"})}),l.jsx(yr,{children:Y.map(q=>l.jsx(xt,{value:q.value.toString(),children:q.label},q.value))})]})]})]}),l.jsx(xp,{calendarType:a,reminderType:k,reminderDay:P,onReminderTypeChange:E,onReminderDayChange:O,disabled:s}),V&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"isActive",className:"cursor-pointer",children:"Active"}),l.jsx(cs,{id:"isActive",checked:M,onCheckedChange:T,disabled:s})]})]}),U=l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Pe,{variant:"outline",onClick:()=>t(!1),disabled:s,className:"flex-1",children:"Cancel"}),l.jsx(Pe,{onClick:F,disabled:s||!u.trim()||!h,className:"flex-1",children:s?"Saving...":V?"Update":"Add Sabeel"})]});return o?l.jsx(Ei,{open:e,onOpenChange:t,children:l.jsxs(bo,{side:"bottom",className:"h-[90vh] overflow-y-auto",children:[l.jsxs(ji,{className:"text-left",children:[l.jsx(Ni,{children:H}),l.jsx(gl,{children:I})]}),l.jsx("div",{className:"py-4",children:R}),l.jsx(ml,{children:U})]})}):l.jsx(Au,{open:e,onOpenChange:t,children:l.jsxs(vl,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs(yl,{children:[l.jsx(xl,{children:H}),l.jsx(bl,{children:I})]}),l.jsx("div",{className:"py-2",children:R}),l.jsx(wl,{children:U})]})})},$K=({open:e,onOpenChange:t,sabeelId:r,fmbHub:n,onSubmit:s,isLoading:o=!1})=>{const i=ms(),{currentDate:a}=Sr(),[c,u]=d.useState("hijri"),[f,h]=d.useState(""),[m,p]=d.useState(1),[y,g]=d.useState(1446),[b,w]=d.useState(null),[v,x]=d.useState(null),[_,S]=d.useState(!1),[C,k]=d.useState("before_7_days"),[E,P]=d.useState(null),[O,M]=d.useState(!0);d.useEffect(()=>{e&&(n?(u(n.calendar_type),h(n.monthly_amount.toString()),p(n.start_month),g(n.start_year),w(n.end_month||null),x(n.end_year||null),S(!!n.end_month),k(n.reminder_type),P(n.reminder_day||null),M(n.is_active)):(u("hijri"),h(""),p((a==null?void 0:a.hijri.month)||1),g((a==null?void 0:a.hijri.year)||1446),w(null),x(null),S(!1),k("before_7_days"),P(null),M(!0)))},[e,n,a]),d.useEffect(()=>{!n&&a&&(c==="hijri"?(p(a.hijri.month),g(a.hijri.year)):(p(a.gregorian.getMonth()+1),g(a.gregorian.getFullYear())))},[c,n,a]);const T=async U=>{U.preventDefault();const q={sabeel_id:r,monthly_amount:parseFloat(f)||0,calendar_type:c,start_month:m,start_year:y,end_month:_?b:null,end_year:_?v:null,reminder_type:C,reminder_day:C==="custom"?E:null,is_active:O};await s(q)},F=r2(c),$=a?n2(c,a.hijri,a.gregorian):[],Y=!!n,V=Y?"Edit FMB Hub":"Add FMB Hub",H=Y?"Update your FMB Hub contribution":"Configure your FMB Hub contribution for this Sabeel",I=l.jsxs("form",{onSubmit:T,className:"space-y-6",children:[l.jsx(vp,{value:c,onChange:u,disabled:o}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"monthlyAmount",children:"Monthly Contribution"}),l.jsx(Qe,{id:"monthlyAmount",type:"number",value:f,onChange:U=>h(U.target.value),placeholder:"0",disabled:o,required:!0,min:"0",step:"0.01"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Start Date"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(Or,{value:m.toString(),onValueChange:U=>p(parseInt(U,10)),disabled:o,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Month"})}),l.jsx(yr,{children:F.map(U=>l.jsx(xt,{value:U.value.toString(),children:U.label},U.value))})]}),l.jsxs(Or,{value:y.toString(),onValueChange:U=>g(parseInt(U,10)),disabled:o,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Year"})}),l.jsx(yr,{children:$.map(U=>l.jsx(xt,{value:U.value.toString(),children:U.label},U.value))})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"hasEndDate",className:"cursor-pointer",children:"Set end date"}),l.jsx(cs,{id:"hasEndDate",checked:_,onCheckedChange:S,disabled:o})]}),_&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"End Date"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(Or,{value:(b==null?void 0:b.toString())||"",onValueChange:U=>w(parseInt(U,10)),disabled:o,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Month"})}),l.jsx(yr,{children:F.map(U=>l.jsx(xt,{value:U.value.toString(),children:U.label},U.value))})]}),l.jsxs(Or,{value:(v==null?void 0:v.toString())||"",onValueChange:U=>x(parseInt(U,10)),disabled:o,children:[l.jsx(vr,{children:l.jsx(Ir,{placeholder:"Year"})}),l.jsx(yr,{children:$.map(U=>l.jsx(xt,{value:U.value.toString(),children:U.label},U.value))})]})]})]}),l.jsx(xp,{calendarType:c,reminderType:C,reminderDay:E,onReminderTypeChange:k,onReminderDayChange:P,disabled:o}),Y&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"isActive",className:"cursor-pointer",children:"Active"}),l.jsx(cs,{id:"isActive",checked:O,onCheckedChange:M,disabled:o})]})]}),R=l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Pe,{variant:"outline",onClick:()=>t(!1),disabled:o,className:"flex-1",children:"Cancel"}),l.jsx(Pe,{onClick:T,disabled:o||!f,className:"flex-1",children:o?"Saving...":Y?"Update":"Add FMB Hub"})]});return i?l.jsx(Ei,{open:e,onOpenChange:t,children:l.jsxs(bo,{side:"bottom",className:"h-[85vh] overflow-y-auto",children:[l.jsxs(ji,{className:"text-left",children:[l.jsx(Ni,{children:V}),l.jsx(gl,{children:H})]}),l.jsx("div",{className:"py-4",children:I}),l.jsx(ml,{children:R})]})}):l.jsx(Au,{open:e,onOpenChange:t,children:l.jsxs(vl,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs(yl,{children:[l.jsx(xl,{children:V}),l.jsx(bl,{children:H})]}),l.jsx("div",{className:"py-2",children:I}),l.jsx(wl,{children:R})]})})},LK=({open:e,onOpenChange:t,sabeelId:r,khumus:n,onSubmit:s,isLoading:o=!1})=>{const i=ms();Sr();const[a,c]=d.useState(""),[u,f]=d.useState("fixed"),[h,m]=d.useState(""),[p,y]=d.useState(""),[g,b]=d.useState("20"),[w,v]=d.useState("hijri"),[x,_]=d.useState("before_7_days"),[S,C]=d.useState(null),[k,E]=d.useState(!0);d.useEffect(()=>{var H,I;e&&(n?(c(n.person_name),f(n.calculation_type),m(((H=n.fixed_amount)==null?void 0:H.toString())||""),y(((I=n.monthly_income)==null?void 0:I.toString())||""),b(n.percentage_rate.toString()),v(n.calendar_type),_(n.reminder_type),C(n.reminder_day||null),E(n.is_active)):(c(""),f("fixed"),m(""),y(""),b("20"),v("hijri"),_("before_7_days"),C(null),E(!0)))},[e,n]);const P=async H=>{H.preventDefault();const I={sabeel_id:r,person_name:a.trim(),calculation_type:u,fixed_amount:u==="fixed"?parseFloat(h)||0:null,monthly_income:u==="percentage"?parseFloat(p)||0:null,percentage_rate:parseFloat(g)||20,calendar_type:w,reminder_type:x,reminder_day:x==="custom"?S:null,is_active:k};await s(I)},O=u==="percentage"?(parseFloat(p)||0)*(parseFloat(g)||20)/100:parseFloat(h)||0,M=!!n,T=M?"Edit Khumus":"Add Khumus",F=M?"Update Khumus details":"Add a new Khumus obligation for an individual",$=l.jsxs("form",{onSubmit:P,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"personName",children:"Person Name"}),l.jsx(Qe,{id:"personName",value:a,onChange:H=>c(H.target.value),placeholder:"Enter name",disabled:o,required:!0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"The individual this Khumus is for"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Se,{children:"Calculation Type"}),l.jsxs(wp,{value:u,onValueChange:H=>f(H),disabled:o,className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(oo,{value:"fixed",id:"calc_fixed"}),l.jsx(Se,{htmlFor:"calc_fixed",className:"text-sm font-normal cursor-pointer",children:"Fixed amount"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(oo,{value:"percentage",id:"calc_percentage"}),l.jsx(Se,{htmlFor:"calc_percentage",className:"text-sm font-normal cursor-pointer",children:"Percentage of income"})]})]})]}),u==="fixed"?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"fixedAmount",children:"Monthly Amount"}),l.jsx(Qe,{id:"fixedAmount",type:"number",value:h,onChange:H=>m(H.target.value),placeholder:"0",disabled:o,required:!0,min:"0",step:"0.01"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"monthlyIncome",children:"Monthly Income"}),l.jsx(Qe,{id:"monthlyIncome",type:"number",value:p,onChange:H=>y(H.target.value),placeholder:"0",disabled:o,required:!0,min:"0",step:"0.01"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"percentageRate",children:"Khumus Rate (%)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qe,{id:"percentageRate",type:"number",value:g,onChange:H=>b(H.target.value),placeholder:"20",disabled:o,min:"0",max:"100",step:"0.1"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"%"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Standard Khumus rate is 20%"})]}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Calculated amount:"}),l.jsx("span",{className:"font-semibold",children:O})]})})]}),l.jsx(vp,{value:w,onChange:v,disabled:o}),l.jsx(xp,{calendarType:w,reminderType:x,reminderDay:S,onReminderTypeChange:_,onReminderDayChange:C,disabled:o}),M&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"isActive",className:"cursor-pointer",children:"Active"}),l.jsx(cs,{id:"isActive",checked:k,onCheckedChange:E,disabled:o})]})]}),Y=a.trim()&&(u==="fixed"?h:p),V=l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Pe,{variant:"outline",onClick:()=>t(!1),disabled:o,className:"flex-1",children:"Cancel"}),l.jsx(Pe,{onClick:P,disabled:o||!Y,className:"flex-1",children:o?"Saving...":M?"Update":"Add Khumus"})]});return i?l.jsx(Ei,{open:e,onOpenChange:t,children:l.jsxs(bo,{side:"bottom",className:"h-[90vh] overflow-y-auto",children:[l.jsxs(ji,{className:"text-left",children:[l.jsx(Ni,{children:T}),l.jsx(gl,{children:F})]}),l.jsx("div",{className:"py-4",children:$}),l.jsx(ml,{children:V})]})}):l.jsx(Au,{open:e,onOpenChange:t,children:l.jsxs(vl,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs(yl,{children:[l.jsx(xl,{children:T}),l.jsx(bl,{children:F})]}),l.jsx("div",{className:"py-2",children:$}),l.jsx(wl,{children:V})]})})},FK=({open:e,onOpenChange:t,sabeelId:r,zakat:n,onSubmit:s,isLoading:o=!1})=>{const i=ms();Sr();const[a,c]=d.useState(""),[u,f]=d.useState("fixed"),[h,m]=d.useState(""),[p,y]=d.useState(""),[g,b]=d.useState(""),[w,v]=d.useState("2.5"),[x,_]=d.useState("hijri"),[S,C]=d.useState("before_7_days"),[k,E]=d.useState(null),[P,O]=d.useState(!0);d.useEffect(()=>{var W,Z,Q;e&&(n?(c(n.person_name),f(n.calculation_type),m(((W=n.fixed_amount)==null?void 0:W.toString())||""),y(((Z=n.assets_value)==null?void 0:Z.toString())||""),b(((Q=n.nisab_threshold)==null?void 0:Q.toString())||""),v(n.zakat_rate.toString()),_(n.calendar_type),C(n.reminder_type),E(n.reminder_day||null),O(n.is_active)):(c(""),f("fixed"),m(""),y(""),b(""),v("2.5"),_("hijri"),C("before_7_days"),E(null),O(!0)))},[e,n]);const M=async W=>{W.preventDefault();const Z={sabeel_id:r,person_name:a.trim(),calculation_type:u,fixed_amount:u==="fixed"?parseFloat(h)||0:null,assets_value:u==="nisab_based"?parseFloat(p)||0:null,nisab_threshold:u==="nisab_based"?parseFloat(g)||0:null,zakat_rate:parseFloat(w)||2.5,calendar_type:x,reminder_type:S,reminder_day:S==="custom"?k:null,is_active:P};await s(Z)},T=parseFloat(p)||0,F=parseFloat(g)||0,$=parseFloat(w)||2.5,Y=T>=F&&F>0,V=u==="nisab_based"&&Y?T*$/100:u==="fixed"&&parseFloat(h)||0,H=!!n,I=H?"Edit Zakat":"Add Zakat",R=H?"Update Zakat details":"Add a new Zakat obligation for an individual",U=l.jsxs("form",{onSubmit:M,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"personName",children:"Person Name"}),l.jsx(Qe,{id:"personName",value:a,onChange:W=>c(W.target.value),placeholder:"Enter name",disabled:o,required:!0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"The individual this Zakat is for"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Se,{children:"Calculation Type"}),l.jsxs(wp,{value:u,onValueChange:W=>f(W),disabled:o,className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(oo,{value:"fixed",id:"zakat_fixed"}),l.jsx(Se,{htmlFor:"zakat_fixed",className:"text-sm font-normal cursor-pointer",children:"Fixed amount"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(oo,{value:"nisab_based",id:"zakat_nisab"}),l.jsx(Se,{htmlFor:"zakat_nisab",className:"text-sm font-normal cursor-pointer",children:"Nisab-based calculation"})]})]})]}),u==="fixed"?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"fixedAmount",children:"Annual Zakat Amount"}),l.jsx(Qe,{id:"fixedAmount",type:"number",value:h,onChange:W=>m(W.target.value),placeholder:"0",disabled:o,required:!0,min:"0",step:"0.01"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"assetsValue",children:"Total Assets Value"}),l.jsx(Qe,{id:"assetsValue",type:"number",value:p,onChange:W=>y(W.target.value),placeholder:"0",disabled:o,required:!0,min:"0",step:"0.01"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total value of zakatable assets"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"nisabThreshold",children:"Nisab Threshold"}),l.jsx(Qe,{id:"nisabThreshold",type:"number",value:g,onChange:W=>b(W.target.value),placeholder:"0",disabled:o,required:!0,min:"0",step:"0.01"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum wealth threshold for Zakat obligation"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"zakatRate",children:"Zakat Rate (%)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qe,{id:"zakatRate",type:"number",value:w,onChange:W=>v(W.target.value),placeholder:"2.5",disabled:o,min:"0",max:"100",step:"0.1"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"%"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Standard Zakat rate is 2.5%"})]}),l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg space-y-1",children:[F>0&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Status:"}),l.jsx("span",{className:Y?"text-primary font-medium":"text-muted-foreground",children:Y?"Above Nisab ":"Below Nisab"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Calculated Zakat:"}),l.jsx("span",{className:"font-semibold",children:Y?V:0})]})]})]}),l.jsx(vp,{value:x,onChange:_,disabled:o}),l.jsx(xp,{calendarType:x,reminderType:S,reminderDay:k,onReminderTypeChange:C,onReminderDayChange:E,disabled:o}),H&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{htmlFor:"isActive",className:"cursor-pointer",children:"Active"}),l.jsx(cs,{id:"isActive",checked:P,onCheckedChange:O,disabled:o})]})]}),q=a.trim()&&(u==="fixed"?h:p&&g),A=l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Pe,{variant:"outline",onClick:()=>t(!1),disabled:o,className:"flex-1",children:"Cancel"}),l.jsx(Pe,{onClick:M,disabled:o||!q,className:"flex-1",children:o?"Saving...":H?"Update":"Add Zakat"})]});return i?l.jsx(Ei,{open:e,onOpenChange:t,children:l.jsxs(bo,{side:"bottom",className:"h-[90vh] overflow-y-auto",children:[l.jsxs(ji,{className:"text-left",children:[l.jsx(Ni,{children:I}),l.jsx(gl,{children:R})]}),l.jsx("div",{className:"py-4",children:U}),l.jsx(ml,{children:A})]})}):l.jsx(Au,{open:e,onOpenChange:t,children:l.jsxs(vl,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs(yl,{children:[l.jsx(xl,{children:I}),l.jsx(bl,{children:R})]}),l.jsx("div",{className:"py-2",children:U}),l.jsx(wl,{children:A})]})})};function UK(e){const{user:t}=Ot(),{toast:r}=fs(),n=d.useCallback(async i=>{if(!t){r({title:"Error",description:"You must be logged in",variant:"destructive"});return}try{const{error:a}=await we.from("fmb_hubs").insert({sabeel_id:i.sabeel_id,monthly_amount:i.monthly_amount,calendar_type:i.calendar_type,start_month:i.start_month,start_year:i.start_year,end_month:i.end_month,end_year:i.end_year,reminder_type:i.reminder_type,reminder_day:i.reminder_day,is_active:i.is_active??!0});if(a)throw a;r({title:"FMB Hub added",description:"FMB Hub has been configured successfully."}),e==null||e()}catch(a){console.error("Error creating FMB Hub:",a),r({title:"Error",description:a instanceof Error?a.message:"Failed to create FMB Hub",variant:"destructive"})}},[t,r,e]),s=d.useCallback(async(i,a)=>{try{const{error:c}=await we.from("fmb_hubs").update({monthly_amount:a.monthly_amount,calendar_type:a.calendar_type,start_month:a.start_month,start_year:a.start_year,end_month:a.end_month,end_year:a.end_year,reminder_type:a.reminder_type,reminder_day:a.reminder_day,is_active:a.is_active}).eq("id",i);if(c)throw c;r({title:"FMB Hub updated",description:"Your changes have been saved."}),e==null||e()}catch(c){console.error("Error updating FMB Hub:",c),r({title:"Error",description:c instanceof Error?c.message:"Failed to update FMB Hub",variant:"destructive"})}},[r,e]),o=d.useCallback(async i=>{try{const{error:a}=await we.from("fmb_hubs").delete().eq("id",i);if(a)throw a;r({title:"FMB Hub removed",description:"FMB Hub has been deleted."}),e==null||e()}catch(a){console.error("Error deleting FMB Hub:",a),r({title:"Error",description:a instanceof Error?a.message:"Failed to delete FMB Hub",variant:"destructive"})}},[r,e]);return{createFMBHub:n,updateFMBHub:s,deleteFMBHub:o}}function BK(e){const{user:t}=Ot(),{toast:r}=fs(),n=d.useCallback(async i=>{if(!t){r({title:"Error",description:"You must be logged in",variant:"destructive"});return}try{const{error:a}=await we.from("khumus").insert({sabeel_id:i.sabeel_id,person_name:i.person_name,calculation_type:i.calculation_type,fixed_amount:i.calculation_type==="fixed"?i.fixed_amount:null,monthly_income:i.calculation_type==="percentage"?i.monthly_income:null,percentage_rate:i.percentage_rate??20,calendar_type:i.calendar_type,reminder_type:i.reminder_type,reminder_day:i.reminder_day,is_active:i.is_active??!0});if(a)throw a;r({title:"Khumus added",description:`Khumus for ${i.person_name} has been added.`}),e==null||e()}catch(a){console.error("Error creating Khumus:",a),r({title:"Error",description:a instanceof Error?a.message:"Failed to create Khumus",variant:"destructive"})}},[t,r,e]),s=d.useCallback(async(i,a)=>{try{const{error:c}=await we.from("khumus").update({person_name:a.person_name,calculation_type:a.calculation_type,fixed_amount:a.calculation_type==="fixed"?a.fixed_amount:null,monthly_income:a.calculation_type==="percentage"?a.monthly_income:null,percentage_rate:a.percentage_rate,calendar_type:a.calendar_type,reminder_type:a.reminder_type,reminder_day:a.reminder_day,is_active:a.is_active}).eq("id",i);if(c)throw c;r({title:"Khumus updated",description:"Your changes have been saved."}),e==null||e()}catch(c){console.error("Error updating Khumus:",c),r({title:"Error",description:c instanceof Error?c.message:"Failed to update Khumus",variant:"destructive"})}},[r,e]),o=d.useCallback(async i=>{try{const{error:a}=await we.from("khumus").delete().eq("id",i);if(a)throw a;r({title:"Khumus removed",description:"Khumus entry has been deleted."}),e==null||e()}catch(a){console.error("Error deleting Khumus:",a),r({title:"Error",description:a instanceof Error?a.message:"Failed to delete Khumus",variant:"destructive"})}},[r,e]);return{createKhumus:n,updateKhumus:s,deleteKhumus:o}}function zK(e){const{user:t}=Ot(),{toast:r}=fs(),n=d.useCallback(async i=>{if(!t){r({title:"Error",description:"You must be logged in",variant:"destructive"});return}try{const{error:a}=await we.from("zakats").insert({sabeel_id:i.sabeel_id,person_name:i.person_name,calculation_type:i.calculation_type,fixed_amount:i.calculation_type==="fixed"?i.fixed_amount:null,assets_value:i.calculation_type==="nisab_based"?i.assets_value:null,nisab_threshold:i.calculation_type==="nisab_based"?i.nisab_threshold:null,zakat_rate:i.zakat_rate??2.5,calendar_type:i.calendar_type,reminder_type:i.reminder_type,reminder_day:i.reminder_day,is_active:i.is_active??!0});if(a)throw a;r({title:"Zakat added",description:`Zakat for ${i.person_name} has been added.`}),e==null||e()}catch(a){console.error("Error creating Zakat:",a),r({title:"Error",description:a instanceof Error?a.message:"Failed to create Zakat",variant:"destructive"})}},[t,r,e]),s=d.useCallback(async(i,a)=>{try{const{error:c}=await we.from("zakats").update({person_name:a.person_name,calculation_type:a.calculation_type,fixed_amount:a.calculation_type==="fixed"?a.fixed_amount:null,assets_value:a.calculation_type==="nisab_based"?a.assets_value:null,nisab_threshold:a.calculation_type==="nisab_based"?a.nisab_threshold:null,zakat_rate:a.zakat_rate,calendar_type:a.calendar_type,reminder_type:a.reminder_type,reminder_day:a.reminder_day,is_active:a.is_active}).eq("id",i);if(c)throw c;r({title:"Zakat updated",description:"Your changes have been saved."}),e==null||e()}catch(c){console.error("Error updating Zakat:",c),r({title:"Error",description:c instanceof Error?c.message:"Failed to update Zakat",variant:"destructive"})}},[r,e]),o=d.useCallback(async i=>{try{const{error:a}=await we.from("zakats").delete().eq("id",i);if(a)throw a;r({title:"Zakat removed",description:"Zakat entry has been deleted."}),e==null||e()}catch(a){console.error("Error deleting Zakat:",a),r({title:"Error",description:a instanceof Error?a.message:"Failed to delete Zakat",variant:"destructive"})}},[r,e]);return{createZakat:n,updateZakat:s,deleteZakat:o}}const VK=()=>{const e=ms(),{sabeels:t,isLoading:r,createSabeel:n,updateSabeel:s,deleteSabeel:o,refetch:i}=XT(),[a,c]=d.useState(!1),[u,f]=d.useState(null),[h,m]=d.useState(!1),[p,y]=d.useState(!1),[g,b]=d.useState(""),[w,v]=d.useState(null),[x,_]=d.useState(!1),[S,C]=d.useState(!1),[k,E]=d.useState(""),[P,O]=d.useState(null),[M,T]=d.useState(!1),[F,$]=d.useState(!1),[Y,V]=d.useState(""),[H,I]=d.useState(null),[R,U]=d.useState(!1),{createFMBHub:q,updateFMBHub:A,deleteFMBHub:W}=UK(i),{createKhumus:Z,updateKhumus:Q,deleteKhumus:ae}=BK(i),{createZakat:K,updateZakat:he,deleteZakat:de}=zK(i),se=()=>{f(null),c(!0)},Ce=G=>{f(G),c(!0)},_e=async G=>{confirm("Are you sure you want to delete this Sabeel? All related FMB Hub, Khumus, and Zakat entries will also be deleted.")&&await o(G)},He=async G=>{m(!0);try{u?await s(u.id,G):await n(G),c(!1)}finally{m(!1)}},Ke=G=>{b(G),v(null),y(!0)},_t=G=>{const ge=t.find(je=>{var Ge;return((Ge=je.fmb_hub)==null?void 0:Ge.id)===G});ge!=null&&ge.fmb_hub&&(b(ge.id),v(ge.fmb_hub),y(!0))},St=async G=>{confirm("Are you sure you want to delete this FMB Hub?")&&await W(G)},ur=async G=>{_(!0);try{w?await A(w.id,G):await q(G),y(!1)}finally{_(!1)}},rn=G=>{E(G),O(null),C(!0)},Xt=G=>{for(const ge of t){const je=ge.khumus_list.find(Ge=>Ge.id===G);if(je){E(ge.id),O(je),C(!0);break}}},j=async G=>{confirm("Are you sure you want to delete this Khumus entry?")&&await ae(G)},D=async G=>{T(!0);try{P?await Q(P.id,G):await Z(G),C(!1)}finally{T(!1)}},z=G=>{V(G),I(null),$(!0)},ne=G=>{for(const ge of t){const je=ge.zakats.find(Ge=>Ge.id===G);if(je){V(ge.id),I(je),$(!0);break}}},re=async G=>{confirm("Are you sure you want to delete this Zakat entry?")&&await de(G)},X=async G=>{U(!0);try{H?await he(H.id,G):await K(G),$(!1)}finally{U(!1)}};return r?l.jsxs("section",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"font-display tracking-tight font-normal text-xl",children:"Sabeel"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(pi,{className:"h-24 w-full"}),l.jsx(pi,{className:"h-24 w-full"})]})]}):l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"font-display tracking-tight font-normal text-xl",children:"Sabeel"}),!e&&l.jsxs(Pe,{size:"sm",onClick:se,children:[l.jsx(gc,{className:"h-4 w-4 mr-1"}),"Add Sabeel"]})]}),t.length===0?l.jsxs("div",{className:"border border-dashed border-border rounded-lg p-8 text-center",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No Sabeels configured yet. Add your first Sabeel to start tracking your dues."}),!e&&l.jsxs(Pe,{variant:"outline",onClick:se,children:[l.jsx(gc,{className:"h-4 w-4 mr-2"}),"Add Your First Sabeel"]})]}):l.jsx("div",{className:"space-y-3",children:t.map(G=>l.jsx(kK,{sabeel:G,onEdit:Ce,onDelete:_e,onAddFMBHub:Ke,onEditFMBHub:_t,onDeleteFMBHub:St,onAddKhumus:rn,onEditKhumus:Xt,onDeleteKhumus:j,onAddZakat:z,onEditZakat:ne,onDeleteZakat:re},G.id))}),l.jsx(MK,{open:a,onOpenChange:c,sabeel:u,onSubmit:He,isLoading:h}),l.jsx($K,{open:p,onOpenChange:y,sabeelId:g,fmbHub:w,onSubmit:ur,isLoading:x}),l.jsx(LK,{open:S,onOpenChange:C,sabeelId:k,khumus:P,onSubmit:D,isLoading:M}),l.jsx(FK,{open:F,onOpenChange:$,sabeelId:Y,zakat:H,onSubmit:X,isLoading:R}),e&&l.jsxs(Pe,{onClick:se,className:"fixed bottom-20 right-4 z-40 shadow-lg",children:[l.jsx(gc,{className:"h-5 w-5"}),"New Sabeel"]})]})},WK=()=>{const{user:e,signOut:t}=Ot(),{toast:r}=fs(),[n,s]=d.useState("menu"),[o,i]=d.useState(""),[a,c]=d.useState(),[u,f]=d.useState(null),[h,m]=d.useState(!0),[p,y]=d.useState(!1);d.useEffect(()=>{(async()=>{if(!e)return;const{data:v,error:x}=await we.from("profiles").select("full_name, latitude, longitude, city, timezone").eq("id",e.id).maybeSingle();if(x&&console.error("Error fetching profile:",x),v&&(i(v.full_name||""),v.latitude&&v.longitude)){const _=pp.find(S=>S.latitude===v.latitude&&S.longitude===v.longitude);_?c(_):f({latitude:v.latitude,longitude:v.longitude})}m(!1)})()},[e]);const g=(w,v)=>{w?(c(w),f(null)):v&&(f(v),c(void 0))},b=async()=>{if(!e)return;y(!0);const w=a?{latitude:a.latitude,longitude:a.longitude,city:a.name,timezone:a.timezone}:u?{latitude:u.latitude,longitude:u.longitude,city:"Custom Location",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}:{},{error:v}=await we.from("profiles").upsert({id:e.id,full_name:o,...w,updated_at:new Date().toISOString()});if(y(!1),v){r({title:"Error saving profile",description:v.message,variant:"destructive"});return}r({title:"Profile updated",description:"Your changes have been saved successfully."})};return h?l.jsx("div",{className:"flex min-h-[50vh] items-center justify-center",children:l.jsx(tu,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n==="account"?l.jsx("div",{className:"container py-8",children:l.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[l.jsxs("button",{onClick:()=>s("menu"),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[l.jsx(B_,{className:"h-4 w-4"}),"Back"]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-normal tracking-tight font-display",children:"Account Information"}),l.jsx("p",{className:"text-base text-muted-foreground mt-1 font-normal",children:"Manage your personal details and location."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"fullName",children:"Full Name"}),l.jsx(Qe,{id:"fullName",value:o,onChange:w=>i(w.target.value),placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"email",children:"Email"}),l.jsx(Qe,{id:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-muted"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed."})]})]}),l.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-display tracking-tight font-normal text-lg",children:"Location"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Your location is used to calculate accurate prayer times."})]}),l.jsx(oP,{value:a,onChange:g}),u&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:[" Using GPS coordinates: ",u.latitude.toFixed(4),", ",u.longitude.toFixed(4)]})]})]}),l.jsx(Pe,{onClick:b,disabled:p,className:"w-full",children:p?l.jsxs(l.Fragment,{children:[l.jsx(tu,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(u8,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})}):n==="sabeel"?l.jsx("div",{className:"container py-8",children:l.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[l.jsxs("button",{onClick:()=>s("menu"),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[l.jsx(B_,{className:"h-4 w-4"}),"Back"]}),l.jsx(VK,{})]})}):l.jsx("div",{className:"container py-8",children:l.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-normal tracking-tight font-display",children:"Profile"}),l.jsx("p",{className:"text-base text-muted-foreground mt-1 font-normal",children:"Manage your account settings."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>s("sabeel"),className:"w-full flex items-center justify-between rounded-xl border border-border bg-card p-4 transition-colors hover:bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(UU,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"text-base font-medium",children:"Sabeel"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage dues and obligations"})]})]}),l.jsx(W_,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsxs("button",{onClick:()=>s("account"),className:"w-full flex items-center justify-between rounded-xl border border-border bg-card p-4 transition-colors hover:bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Gw,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"text-base font-medium",children:"Account Information"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Name, email, and location settings"})]})]}),l.jsx(W_,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 rounded-xl border border-border bg-card p-4 transition-colors hover:bg-destructive/5 text-destructive",children:[l.jsx(fN,{className:"h-5 w-5"}),l.jsx("span",{className:"text-base font-medium",children:"Sign Out"})]})]})]})})};var bp="Tabs",[HK,NZ]=At(bp,[Co]),NP=Co(),[KK,Ex]=HK(bp),RP=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,f=_l(a),[h,m]=Qt({prop:n,onChange:s,defaultProp:o??"",caller:bp});return l.jsx(KK,{scope:r,baseId:Pt(),value:h,onValueChange:m,orientation:i,dir:f,activationMode:c,children:l.jsx(ie.div,{dir:f,"data-orientation":i,...u,ref:t})})});RP.displayName=bp;var TP="TabsList",PP=d.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Ex(TP,r),i=NP(r);return l.jsx(sp,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(ie.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});PP.displayName=TP;var AP="TabsTrigger",OP=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Ex(AP,r),a=NP(r),c=MP(i.baseId,n),u=$P(i.baseId,n),f=n===i.value;return l.jsx(op,{asChild:!0,...a,focusable:!s,active:f,children:l.jsx(ie.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ee(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:ee(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:ee(e.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(n)})})})});OP.displayName=AP;var IP="TabsContent",DP=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Ex(IP,r),c=MP(a.baseId,n),u=$P(a.baseId,n),f=n===a.value,h=d.useRef(f);return d.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Jt,{present:s||f,children:({present:m})=>l.jsx(ie.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});DP.displayName=IP;function MP(e,t){return`${e}-trigger-${t}`}function $P(e,t){return`${e}-content-${t}`}var GK=RP,LP=PP,FP=OP,UP=DP;const qK=GK,BP=d.forwardRef(({className:e,...t},r)=>l.jsx(LP,{ref:r,className:B("inline-flex h-12 items-center justify-center w-full border-b border-border",e),...t}));BP.displayName=LP.displayName;const py=d.forwardRef(({className:e,...t},r)=>l.jsx(FP,{ref:r,className:B("inline-flex items-center justify-center gap-2 whitespace-nowrap px-4 py-3 text-sm font-medium text-muted-foreground transition-all border-b-2 border-transparent -mb-px hover:text-foreground hover:border-muted-foreground/50 data-[state=active]:text-primary data-[state=active]:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));py.displayName=FP.displayName;const my=d.forwardRef(({className:e,...t},r)=>l.jsx(UP,{ref:r,className:B("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));my.displayName=UP.displayName;const YK={upcoming:"border-border bg-card",current:"border-primary bg-primary/5 ring-1 ring-primary/20",completed:"border-primary/50 bg-primary/10",missed:"border-destructive/50 bg-destructive/5"},ZK={upcoming:eu,current:eu,completed:fl,missed:hN},QK=({name:e,displayName:t,time:r,status:n,isCompleted:s,onToggle:o,compact:i=!1,isOptional:a=!1,hijriDate:c})=>{const f=a?si:ZK[a&&n==="missed"?"upcoming":n],h=d.useRef(null),{triggerConfetti:m,ConfettiPortal:p}=dp(),y=()=>{s||m(h.current),o()};return l.jsxs("div",{className:B("flex items-center justify-between rounded-lg border p-4 transition-all",a?"border-border/50 bg-muted/30":YK[n],i&&"p-3"),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yi,{ref:h,id:`prayer-${e}`,checked:s,onCheckedChange:y,className:"h-5 w-5"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Se,{htmlFor:`prayer-${e}`,className:B("cursor-pointer font-medium",s&&"line-through text-muted-foreground",a&&!s&&"text-muted-foreground",i?"text-sm":"text-base"),children:t}),a&&l.jsx(ou,{variant:"outline",className:"text-xs font-normal text-muted-foreground",children:"Optional"})]}),c&&l.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.day," ",c.monthName]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx("span",{children:r}),l.jsx(f,{className:B("h-4 w-4",a&&"text-muted-foreground/60",!a&&n==="current"&&"text-primary",!a&&n==="completed"&&"text-primary",!a&&n==="missed"&&"text-destructive")})]}),l.jsx(p,{})]})},JK=({prayers:e,onToggle:t,isLoading:r=!1,compact:n=!1})=>r?l.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(s=>l.jsx(pi,{className:"h-16 w-full rounded-lg"},s))}):l.jsx("div",{className:"space-y-3",children:e.map(s=>l.jsx(QK,{name:s.name,displayName:s.displayName,time:s.time,status:s.status,isCompleted:s.isCompleted,onToggle:()=>t(s.name),compact:n,isOptional:s.isOptional,hijriDate:s.hijriDate},s.name))}),XK=({prayer:e,onFulfill:t})=>l.jsxs("div",{className:B("flex items-center justify-between rounded-lg border p-4 transition-all",e.isFulfilled?"border-primary/30 bg-primary/5":"border-destructive/30 bg-destructive/5"),children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:B("font-medium",e.isFulfilled&&"line-through text-muted-foreground"),children:e.displayName}),e.isFulfilled&&l.jsx(fl,{className:"h-4 w-4 text-primary shrink-0"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-1 space-y-0.5",children:[l.jsx("p",{children:e.hijriDisplay}),l.jsx("p",{className:"text-xs",children:e.gregorianDisplay})]}),e.isFulfilled&&e.qazaCompletedAt&&l.jsxs("p",{className:"text-xs text-primary mt-2",children:["Fulfilled on ",e.qazaCompletedAt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),!e.isFulfilled&&l.jsxs(Pe,{variant:"outline",size:"sm",onClick:t,className:"shrink-0 gap-2",children:[l.jsx(PB,{className:"h-3 w-3"}),"Ada"]})]}),eG=({prayers:e,onFulfill:t,isLoading:r=!1})=>{if(r)return l.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(o=>l.jsx(pi,{className:"h-24 w-full rounded-lg"},o))});if(e.filter(o=>!o.isFulfilled).length,e.length===0)return l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx("p",{className:"text-lg font-medium",children:"No missed prayers!"}),l.jsx("p",{className:"text-sm mt-1",children:"Keep up the great work"})]});const n=e.reduce((o,i)=>{const a=i.gregorianDate.toISOString().split("T")[0];return o[a]||(o[a]={hijriDisplay:i.hijriDisplay,gregorianDisplay:i.gregorianDisplay,prayers:[]}),o[a].prayers.push(i),o},{}),s=Object.keys(n).sort((o,i)=>new Date(i).getTime()-new Date(o).getTime());return l.jsx("div",{className:"space-y-6",children:s.map(o=>{const i=n[o];return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"sticky top-0 bg-background py-2 border-b border-border",children:[l.jsx("h3",{className:"font-medium",children:i.hijriDisplay}),l.jsx("p",{className:"text-xs text-muted-foreground",children:i.gregorianDisplay})]}),l.jsx("div",{className:"space-y-2",children:i.prayers.map(a=>l.jsx(XK,{prayer:a,onFulfill:()=>t(a.id)},a.id))})]},o)})})};function tG(){const{user:e}=Ot(),[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,i]=d.useState(null);d.useEffect(()=>{(async()=>{if(!e){s(!1);return}s(!0),i(null);try{const{data:f,error:h}=await we.from("profiles").select("created_at").eq("id",e.id).maybeSingle();if(h)throw h;if(!(f!=null&&f.created_at)){r([]),s(!1);return}const m=new Date(f.created_at),p=new Date;p.setDate(p.getDate()-1),p.setHours(23,59,59,999);const{data:y,error:g}=await we.from("prayer_logs").select("*").eq("user_id",e.id).gte("gregorian_date",m.toISOString().split("T")[0]).lte("gregorian_date",p.toISOString().split("T")[0]);if(g)throw g;const b=new Map;y==null||y.forEach(C=>{const k=`${C.prayer_date}-${C.prayer}`;b.set(k,{completedAt:C.completed_at?new Date(C.completed_at):null,qazaAt:C.qaza_completed_at?new Date(C.qaza_completed_at):null,id:C.id})});const w=[],v=["fajr","dhuhr","asr","maghrib","isha"],x=["maghrib","isha"],_=new Date(m);for(_.setHours(12,0,0,0);_<=p;){const C=ba(_),k=Vv(C);for(const E of v){const O=x.includes(E)?k:C,M=mc(O),T=`${M}-${E}`,F=b.get(T);F!=null&&F.completedAt||w.push({id:(F==null?void 0:F.id)||`${M}-${E}`,prayer:E,prayerDate:M,gregorianDate:new Date(_),hijriDate:O,hijriDisplay:aN(O,"long"),gregorianDisplay:_.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),displayName:qT[E],qazaCompletedAt:(F==null?void 0:F.qazaAt)||null,isFulfilled:!!(F!=null&&F.qazaAt)})}_.setDate(_.getDate()+1)}const S={fajr:1,dhuhr:2,asr:3,maghrib:4,isha:5};w.sort((C,k)=>{const E=k.gregorianDate.getTime()-C.gregorianDate.getTime();return E!==0?E:S[C.prayer]-S[k.prayer]}),r(w)}catch(f){console.error("Error fetching missed prayers:",f),i(f instanceof Error?f:new Error("Failed to fetch missed prayers"))}finally{s(!1)}})()},[e]);const a=d.useCallback(async u=>{if(!e)return;const f=t.find(h=>h.id===u);if(!(!f||f.isFulfilled))try{const h=new Date;await we.from("prayer_logs").upsert({user_id:e.id,prayer_date:f.prayerDate,prayer:f.prayer,gregorian_date:f.gregorianDate.toISOString().split("T")[0],qaza_completed_at:h.toISOString()},{onConflict:"user_id,prayer_date,prayer"}),r(m=>m.map(p=>p.id===u?{...p,qazaCompletedAt:h,isFulfilled:!0}:p))}catch(h){console.error("Error fulfilling prayer:",h)}},[e,t]),c=t.filter(u=>!u.isFulfilled).length;return{missedPrayers:t,unfulfilledCount:c,fulfillPrayer:a,isLoading:n,error:o}}const rG=()=>{const{prayers:e,togglePrayer:t,isLoading:r}=QT(),{overallPercentage:n}=JT(e,r),{missedPrayers:s,unfulfilledCount:o,fulfillPrayer:i,isLoading:a}=tG(),{prayerTimes:c}=px(),u=c?ZT(c):null,f=(u==null?void 0:u.current)||null;return l.jsxs("div",{className:"container py-6 max-w-xl mx-auto space-y-6",children:[l.jsx(GT,{currentPrayer:f,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx(FT,{showLocation:!0,compact:!0,variant:"light"}),l.jsx(KT,{percentage:n,compact:!0,variant:"light"})]})}),l.jsxs(qK,{defaultValue:"today",className:"w-full",children:[l.jsxs(BP,{className:"grid w-full grid-cols-2",children:[l.jsxs(py,{value:"today",children:[l.jsx(eu,{className:"h-4 w-4"}),"Today's Namaz"]}),l.jsxs(py,{value:"missed",children:[l.jsx(hN,{className:"h-4 w-4"}),"Qaza Namaz",o>0&&l.jsx("span",{className:"ml-1.5 flex h-5 min-w-5 items-center justify-center rounded-full bg-destructive px-1.5 text-xs font-semibold text-destructive-foreground",children:o>99?"99+":o})]})]}),l.jsx(my,{value:"today",className:"mt-6",children:l.jsx(JK,{prayers:e,onToggle:t,isLoading:r})}),l.jsx(my,{value:"missed",className:"mt-6",children:l.jsx(eG,{prayers:s,onFulfill:i,isLoading:a})})]})]})};function nG(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const _p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function jx(e){return"nodeType"in e}function kr(e){var t,r;return e?Cl(e)?e:jx(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Nx(e){const{Document:t}=kr(e);return e instanceof t}function $u(e){return Cl(e)?!1:e instanceof kr(e).HTMLElement}function zP(e){return e instanceof kr(e).SVGElement}function kl(e){return e?Cl(e)?e.document:jx(e)?Nx(e)?e:$u(e)||zP(e)?e.ownerDocument:document:document:document}const Un=_p?d.useLayoutEffect:d.useEffect;function Rx(e){const t=d.useRef(e);return Un(()=>{t.current=e}),d.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function sG(){const e=d.useRef(null),t=d.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),r=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function au(e,t){t===void 0&&(t=[e]);const r=d.useRef(e);return Un(()=>{r.current!==e&&(r.current=e)},t),r}function Lu(e,t){const r=d.useRef();return d.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function oh(e){const t=Rx(e),r=d.useRef(null),n=d.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,n]}function gy(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let cg={};function Fu(e,t){return d.useMemo(()=>{if(t)return t;const r=cg[e]==null?0:cg[e]+1;return cg[e]=r,e+"-"+r},[e,t])}function VP(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((o,i)=>{const a=Object.entries(i);for(const[c,u]of a){const f=o[c];f!=null&&(o[c]=f+e*u)}return o},{...t})}}const ka=VP(1),lu=VP(-1);function oG(e){return"clientX"in e&&"clientY"in e}function Tx(e){if(!e)return!1;const{KeyboardEvent:t}=kr(e.target);return t&&e instanceof t}function iG(e){if(!e)return!1;const{TouchEvent:t}=kr(e.target);return t&&e instanceof t}function vy(e){if(iG(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return oG(e)?{x:e.clientX,y:e.clientY}:null}const cu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[cu.Translate.toString(e),cu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),pS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aG(e){return e.matches(pS)?e:e.querySelector(pS)}const lG={display:"none"};function cG(e){let{id:t,value:r}=e;return L.createElement("div",{id:t,style:lG},r)}function uG(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return L.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function dG(){const[e,t]=d.useState("");return{announce:d.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const WP=d.createContext(null);function fG(e){const t=d.useContext(WP);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function hG(){const[e]=d.useState(()=>new Set),t=d.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[d.useCallback(n=>{let{type:s,event:o}=n;e.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[e]),t]}const pG={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mG={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function gG(e){let{announcements:t=mG,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=pG}=e;const{announce:o,announcement:i}=dG(),a=Fu("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),fG(d.useMemo(()=>({onDragStart(h){let{active:m}=h;o(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:p}=h;t.onDragMove&&o(t.onDragMove({active:m,over:p}))},onDragOver(h){let{active:m,over:p}=h;o(t.onDragOver({active:m,over:p}))},onDragEnd(h){let{active:m,over:p}=h;o(t.onDragEnd({active:m,over:p}))},onDragCancel(h){let{active:m,over:p}=h;o(t.onDragCancel({active:m,over:p}))}}),[o,t])),!c)return null;const f=L.createElement(L.Fragment,null,L.createElement(cG,{id:n,value:s.draggable}),L.createElement(uG,{id:a,announcement:i}));return r?Ar.createPortal(f,r):f}var Nt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Nt||(Nt={}));function ih(){}function mS(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function vG(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Sn=Object.freeze({x:0,y:0});function HP(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function KP(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function yG(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function gS(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function GP(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function vS(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const wG=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=vS(t,t.left,t.top),o=[];for(const i of n){const{id:a}=i,c=r.get(a);if(c){const u=HP(vS(c),s);o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(KP)},xG=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=gS(t),o=[];for(const i of n){const{id:a}=i,c=r.get(a);if(c){const u=gS(c),f=s.reduce((m,p,y)=>m+HP(u[y],p),0),h=Number((f/4).toFixed(4));o.push({id:a,data:{droppableContainer:i,value:h}})}}return o.sort(KP)};function bG(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-n,a=o-r;if(n<s&&r<o){const c=t.width*t.height,u=e.width*e.height,f=i*a,h=f/(c+u-f);return Number(h.toFixed(4))}return 0}const _G=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=[];for(const o of n){const{id:i}=o,a=r.get(i);if(a){const c=bG(a,t);c>0&&s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(yG)};function SG(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function qP(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Sn}function CG(e){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...r})}}const kG=CG(1);function EG(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function jG(e,t,r){const n=EG(t);if(!n)return e;const{scaleX:s,scaleY:o,x:i,y:a}=n,c=e.left-i-(1-s)*parseFloat(r),u=e.top-a-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),f=s?e.width/s:e.width,h=o?e.height/o:e.height;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c}}const NG={ignoreTransform:!1};function El(e,t){t===void 0&&(t=NG);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=kr(e).getComputedStyle(e);u&&(r=jG(r,u,f))}const{top:n,left:s,width:o,height:i,bottom:a,right:c}=r;return{top:n,left:s,width:o,height:i,bottom:a,right:c}}function yS(e){return El(e,{ignoreTransform:!0})}function RG(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function TG(e,t){return t===void 0&&(t=kr(e).getComputedStyle(e)),t.position==="fixed"}function PG(e,t){t===void 0&&(t=kr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?r.test(o):!1})}function Sp(e,t){const r=[];function n(s){if(t!=null&&r.length>=t||!s)return r;if(Nx(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!$u(s)||zP(s)||r.includes(s))return r;const o=kr(e).getComputedStyle(s);return s!==e&&PG(s,o)&&r.push(s),TG(s,o)?r:n(s.parentNode)}return e?n(e):r}function YP(e){const[t]=Sp(e,1);return t??null}function ug(e){return!_p||!e?null:Cl(e)?e:jx(e)?Nx(e)||e===kl(e).scrollingElement?window:$u(e)?e:null:null}function ZP(e){return Cl(e)?e.scrollX:e.scrollLeft}function QP(e){return Cl(e)?e.scrollY:e.scrollTop}function yy(e){return{x:ZP(e),y:QP(e)}}var $t;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($t||($t={}));function JP(e){return!_p||!e?!1:e===document.scrollingElement}function XP(e){const t={x:0,y:0},r=JP(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:n,minScroll:t}}const AG={x:.2,y:.2};function OG(e,t,r,n,s){let{top:o,left:i,right:a,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=AG);const{isTop:u,isBottom:f,isLeft:h,isRight:m}=XP(e),p={x:0,y:0},y={x:0,y:0},g={height:t.height*s.y,width:t.width*s.x};return!u&&o<=t.top+g.height?(p.y=$t.Backward,y.y=n*Math.abs((t.top+g.height-o)/g.height)):!f&&c>=t.bottom-g.height&&(p.y=$t.Forward,y.y=n*Math.abs((t.bottom-g.height-c)/g.height)),!m&&a>=t.right-g.width?(p.x=$t.Forward,y.x=n*Math.abs((t.right-g.width-a)/g.width)):!h&&i<=t.left+g.width&&(p.x=$t.Backward,y.x=n*Math.abs((t.left+g.width-i)/g.width)),{direction:p,speed:y}}function IG(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function eA(e){return e.reduce((t,r)=>ka(t,yy(r)),Sn)}function DG(e){return e.reduce((t,r)=>t+ZP(r),0)}function MG(e){return e.reduce((t,r)=>t+QP(r),0)}function $G(e,t){if(t===void 0&&(t=El),!e)return;const{top:r,left:n,bottom:s,right:o}=t(e);YP(e)&&(s<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const LG=[["x",["left","right"],DG],["y",["top","bottom"],MG]];class Px{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Sp(r),s=eA(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,a]of LG)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=a(n),f=s[o]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class wc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var s;(s=this.target)==null||s.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function FG(e){const{EventTarget:t}=kr(e);return e instanceof t?e:kl(e)}function dg(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Gr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Gr||(Gr={}));function wS(e){e.preventDefault()}function UG(e){e.stopPropagation()}var $e;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($e||($e={}));const tA={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},BG=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case $e.Right:return{...r,x:r.x+25};case $e.Left:return{...r,x:r.x-25};case $e.Down:return{...r,y:r.y+25};case $e.Up:return{...r,y:r.y-25}}};class Ax{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new wc(kl(r)),this.windowListeners=new wc(kr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Gr.Resize,this.handleCancel),this.windowListeners.add(Gr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Gr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&$G(n),r(Sn)}handleKeyDown(t){if(Tx(t)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:o=tA,coordinateGetter:i=BG,scrollBehavior:a="smooth"}=s,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,f=u?{x:u.left,y:u.top}:Sn;this.referenceCoordinates||(this.referenceCoordinates=f);const h=i(t,{active:r,context:n.current,currentCoordinates:f});if(h){const m=lu(h,f),p={x:0,y:0},{scrollableAncestors:y}=n.current;for(const g of y){const b=t.code,{isTop:w,isRight:v,isLeft:x,isBottom:_,maxScroll:S,minScroll:C}=XP(g),k=IG(g),E={x:Math.min(b===$e.Right?k.right-k.width/2:k.right,Math.max(b===$e.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(b===$e.Down?k.bottom-k.height/2:k.bottom,Math.max(b===$e.Down?k.top:k.top+k.height/2,h.y))},P=b===$e.Right&&!v||b===$e.Left&&!x,O=b===$e.Down&&!_||b===$e.Up&&!w;if(P&&E.x!==h.x){const M=g.scrollLeft+m.x,T=b===$e.Right&&M<=S.x||b===$e.Left&&M>=C.x;if(T&&!m.y){g.scrollTo({left:M,behavior:a});return}T?p.x=g.scrollLeft-M:p.x=b===$e.Right?g.scrollLeft-S.x:g.scrollLeft-C.x,p.x&&g.scrollBy({left:-p.x,behavior:a});break}else if(O&&E.y!==h.y){const M=g.scrollTop+m.y,T=b===$e.Down&&M<=S.y||b===$e.Up&&M>=C.y;if(T&&!m.x){g.scrollTo({top:M,behavior:a});return}T?p.y=g.scrollTop-M:p.y=b===$e.Down?g.scrollTop-S.y:g.scrollTop-C.y,p.y&&g.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(t,ka(lu(h,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ax.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=tA,onActivation:s}=t,{active:o}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function xS(e){return!!(e&&"distance"in e)}function bS(e){return!!(e&&"delay"in e)}class Ox{constructor(t,r,n){var s;n===void 0&&(n=FG(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:o}=t,{target:i}=o;this.props=t,this.events=r,this.document=kl(i),this.documentListeners=new wc(this.document),this.listeners=new wc(n),this.windowListeners=new wc(kr(i)),this.initialCoordinates=(s=vy(o))!=null?s:Sn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Gr.Resize,this.handleCancel),this.windowListeners.add(Gr.DragStart,wS),this.windowListeners.add(Gr.VisibilityChange,this.handleCancel),this.windowListeners.add(Gr.ContextMenu,wS),this.documentListeners.add(Gr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(bS(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(xS(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Gr.Click,UG,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Gr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const c=(r=vy(t))!=null?r:Sn,u=lu(s,c);if(!n&&a){if(xS(a)){if(a.tolerance!=null&&dg(u,a.tolerance))return this.handleCancel();if(dg(u,a.distance))return this.handleStart()}if(bS(a)&&dg(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const zG={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ix extends Ox{constructor(t){const{event:r}=t,n=kl(r.target);super(t,zG,n)}}Ix.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const VG={move:{name:"mousemove"},end:{name:"mouseup"}};var wy;(function(e){e[e.RightClick=2]="RightClick"})(wy||(wy={}));class WG extends Ox{constructor(t){super(t,VG,kl(t.event.target))}}WG.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===wy.RightClick?!1:(n==null||n({event:r}),!0)}}];const fg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class HG extends Ox{constructor(t){super(t,fg)}static setup(){return window.addEventListener(fg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(fg.move.name,t)};function t(){}}}HG.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var xc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xc||(xc={}));var ah;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ah||(ah={}));function KG(e){let{acceleration:t,activator:r=xc.Pointer,canScroll:n,draggingRect:s,enabled:o,interval:i=5,order:a=ah.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:m}=e;const p=qG({delta:h,disabled:!o}),[y,g]=sG(),b=d.useRef({x:0,y:0}),w=d.useRef({x:0,y:0}),v=d.useMemo(()=>{switch(r){case xc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case xc.DraggableRect:return s}},[r,s,c]),x=d.useRef(null),_=d.useCallback(()=>{const C=x.current;if(!C)return;const k=b.current.x*w.current.x,E=b.current.y*w.current.y;C.scrollBy(k,E)},[]),S=d.useMemo(()=>a===ah.TreeOrder?[...u].reverse():u,[a,u]);d.useEffect(()=>{if(!o||!u.length||!v){g();return}for(const C of S){if((n==null?void 0:n(C))===!1)continue;const k=u.indexOf(C),E=f[k];if(!E)continue;const{direction:P,speed:O}=OG(C,E,v,t,m);for(const M of["x","y"])p[M][P[M]]||(O[M]=0,P[M]=0);if(O.x>0||O.y>0){g(),x.current=C,y(_,i),b.current=O,w.current=P;return}}b.current={x:0,y:0},w.current={x:0,y:0},g()},[t,_,n,g,o,i,JSON.stringify(v),JSON.stringify(p),y,u,S,f,JSON.stringify(m)])}const GG={x:{[$t.Backward]:!1,[$t.Forward]:!1},y:{[$t.Backward]:!1,[$t.Forward]:!1}};function qG(e){let{delta:t,disabled:r}=e;const n=gy(t);return Lu(s=>{if(r||!n||!s)return GG;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[$t.Backward]:s.x[$t.Backward]||o.x===-1,[$t.Forward]:s.x[$t.Forward]||o.x===1},y:{[$t.Backward]:s.y[$t.Backward]||o.y===-1,[$t.Forward]:s.y[$t.Forward]||o.y===1}}},[r,t,n])}function YG(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Lu(s=>{var o;return t==null?null:(o=n??s)!=null?o:null},[n,t])}function ZG(e,t){return d.useMemo(()=>e.reduce((r,n)=>{const{sensor:s}=n,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,n)}));return[...r,...o]},[]),[e,t])}var uu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(uu||(uu={}));var xy;(function(e){e.Optimized="optimized"})(xy||(xy={}));const _S=new Map;function QG(e,t){let{dragging:r,dependencies:n,config:s}=t;const[o,i]=d.useState(null),{frequency:a,measure:c,strategy:u}=s,f=d.useRef(e),h=b(),m=au(h),p=d.useCallback(function(w){w===void 0&&(w=[]),!m.current&&i(v=>v===null?w:v.concat(w.filter(x=>!v.includes(x))))},[m]),y=d.useRef(null),g=Lu(w=>{if(h&&!r)return _S;if(!w||w===_S||f.current!==e||o!=null){const v=new Map;for(let x of e){if(!x)continue;if(o&&o.length>0&&!o.includes(x.id)&&x.rect.current){v.set(x.id,x.rect.current);continue}const _=x.node.current,S=_?new Px(c(_),_):null;x.rect.current=S,S&&v.set(x.id,S)}return v}return w},[e,o,r,h,c]);return d.useEffect(()=>{f.current=e},[e]),d.useEffect(()=>{h||p()},[r,h]),d.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),d.useEffect(()=>{h||typeof a!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},a))},[a,h,p,...n]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:o!=null};function b(){switch(u){case uu.Always:return!1;case uu.BeforeDragging:return r;default:return!r}}}function rA(e,t){return Lu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function JG(e,t){return rA(e,t)}function XG(e){let{callback:t,disabled:r}=e;const n=Rx(t),s=d.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Cp(e){let{callback:t,disabled:r}=e;const n=Rx(t),s=d.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function eq(e){return new Px(El(e),e)}function SS(e,t,r){t===void 0&&(t=eq);const[n,s]=d.useState(null);function o(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const i=XG({callback(c){if(e)for(const u of c){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){o();break}}}}),a=Cp({callback:o});return Un(()=>{o(),e?(a==null||a.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[e]),n}function tq(e){const t=rA(e);return qP(e,t)}const CS=[];function rq(e){const t=d.useRef(e),r=Lu(n=>e?n&&n!==CS&&e&&t.current&&e.parentNode===t.current.parentNode?n:Sp(e):CS,[e]);return d.useEffect(()=>{t.current=e},[e]),r}function nq(e){const[t,r]=d.useState(null),n=d.useRef(e),s=d.useCallback(o=>{const i=ug(o.target);i&&r(a=>a?(a.set(i,yy(i)),new Map(a)):null)},[]);return d.useEffect(()=>{const o=n.current;if(e!==o){i(o);const a=e.map(c=>{const u=ug(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,yy(u)]):null}).filter(c=>c!=null);r(a.length?new Map(a):null),n.current=e}return()=>{i(e),i(o)};function i(a){a.forEach(c=>{const u=ug(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>ka(o,i),Sn):eA(e):Sn,[e,t])}function kS(e,t){t===void 0&&(t=[]);const r=d.useRef(null);return d.useEffect(()=>{r.current=null},t),d.useEffect(()=>{const n=e!==Sn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?lu(e,r.current):Sn}function sq(e){d.useEffect(()=>{if(!_p)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function oq(e,t){return d.useMemo(()=>e.reduce((r,n)=>{let{eventName:s,handler:o}=n;return r[s]=i=>{o(i,t)},r},{}),[e,t])}function nA(e){return d.useMemo(()=>e?RG(e):null,[e])}const ES=[];function iq(e,t){t===void 0&&(t=El);const[r]=e,n=nA(r?kr(r):null),[s,o]=d.useState(ES);function i(){o(()=>e.length?e.map(c=>JP(c)?n:new Px(t(c),c)):ES)}const a=Cp({callback:i});return Un(()=>{a==null||a.disconnect(),i(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),s}function aq(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return $u(t)?t:e}function lq(e){let{measure:t}=e;const[r,n]=d.useState(null),s=d.useCallback(u=>{for(const{target:f}of u)if($u(f)){n(h=>{const m=t(f);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),o=Cp({callback:s}),i=d.useCallback(u=>{const f=aq(u);o==null||o.disconnect(),f&&(o==null||o.observe(f)),n(f?t(f):null)},[t,o]),[a,c]=oh(i);return d.useMemo(()=>({nodeRef:a,rect:r,setRef:c}),[r,a,c])}const cq=[{sensor:Ix,options:{}},{sensor:Ax,options:{}}],uq={current:{}},ef={draggable:{measure:yS},droppable:{measure:yS,strategy:uu.WhileDragging,frequency:xy.Optimized},dragOverlay:{measure:El}};class bc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const dq={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ih},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ef,measureDroppableContainers:ih,windowRect:null,measuringScheduled:!1},fq={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ih,draggableNodes:new Map,over:null,measureDroppableContainers:ih},kp=d.createContext(fq),sA=d.createContext(dq);function hq(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bc}}}function pq(e,t){switch(t.type){case Nt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Nt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Nt.DragEnd:case Nt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Nt.RegisterDroppable:{const{element:r}=t,{id:n}=r,s=new bc(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case Nt.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const i=new bc(e.droppable.containers);return i.set(r,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case Nt.UnregisterDroppable:{const{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const o=new bc(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function mq(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=d.useContext(kp),o=gy(n),i=gy(r==null?void 0:r.id);return d.useEffect(()=>{if(!t&&!n&&o&&i!=null){if(!Tx(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const h=aG(f);if(h){h.focus();break}}})}},[n,t,s,i,o]),null}function gq(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...n}),r):r}function vq(e){return d.useMemo(()=>({draggable:{...ef.draggable,...e==null?void 0:e.draggable},droppable:{...ef.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ef.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function yq(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const o=d.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Un(()=>{if(!i&&!a||!t){o.current=!1;return}if(o.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=r(u),h=qP(f,n);if(i||(h.x=0),a||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=YP(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,i,a,n,r])}const oA=d.createContext({...Sn,scaleX:1,scaleY:1});var Rs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Rs||(Rs={}));const wq=d.memo(function(t){var r,n,s,o;let{id:i,accessibility:a,autoScroll:c=!0,children:u,sensors:f=cq,collisionDetection:h=_G,measuring:m,modifiers:p,...y}=t;const g=d.useReducer(pq,void 0,hq),[b,w]=g,[v,x]=hG(),[_,S]=d.useState(Rs.Uninitialized),C=_===Rs.Initialized,{draggable:{active:k,nodes:E,translate:P},droppable:{containers:O}}=b,M=k!=null?E.get(k):null,T=d.useRef({initial:null,translated:null}),F=d.useMemo(()=>{var vt;return k!=null?{id:k,data:(vt=M==null?void 0:M.data)!=null?vt:uq,rect:T}:null},[k,M]),$=d.useRef(null),[Y,V]=d.useState(null),[H,I]=d.useState(null),R=au(y,Object.values(y)),U=Fu("DndDescribedBy",i),q=d.useMemo(()=>O.getEnabled(),[O]),A=vq(m),{droppableRects:W,measureDroppableContainers:Z,measuringScheduled:Q}=QG(q,{dragging:C,dependencies:[P.x,P.y],config:A.droppable}),ae=YG(E,k),K=d.useMemo(()=>H?vy(H):null,[H]),he=Rp(),de=JG(ae,A.draggable.measure);yq({activeNode:k!=null?E.get(k):null,config:he.layoutShiftCompensation,initialRect:de,measure:A.draggable.measure});const se=SS(ae,A.draggable.measure,de),Ce=SS(ae?ae.parentElement:null),_e=d.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),He=O.getNodeFor((r=_e.current.over)==null?void 0:r.id),Ke=lq({measure:A.dragOverlay.measure}),_t=(n=Ke.nodeRef.current)!=null?n:ae,St=C?(s=Ke.rect)!=null?s:se:null,ur=!!(Ke.nodeRef.current&&Ke.rect),rn=tq(ur?null:se),Xt=nA(_t?kr(_t):null),j=rq(C?He??ae:null),D=iq(j),z=gq(p,{transform:{x:P.x-rn.x,y:P.y-rn.y,scaleX:1,scaleY:1},activatorEvent:H,active:F,activeNodeRect:se,containerNodeRect:Ce,draggingNodeRect:St,over:_e.current.over,overlayNodeRect:Ke.rect,scrollableAncestors:j,scrollableAncestorRects:D,windowRect:Xt}),ne=K?ka(K,P):null,re=nq(j),X=kS(re),G=kS(re,[se]),ge=ka(z,X),je=St?kG(St,z):null,Ge=F&&je?h({active:F,collisionRect:je,droppableRects:W,droppableContainers:q,pointerCoordinates:ne}):null,zr=GP(Ge,"id"),[Ct,jo]=d.useState(null),zn=ur?z:ka(z,G),Vr=SG(zn,(o=Ct==null?void 0:Ct.rect)!=null?o:null,se),vs=d.useRef(null),Wr=d.useCallback((vt,at)=>{let{sensor:er,options:ye}=at;if($.current==null)return;const Re=E.get($.current);if(!Re)return;const Oe=vt.nativeEvent,lt=new er({active:$.current,activeNode:Re,event:Oe,options:ye,context:_e,onAbort(qe){if(!E.get(qe))return;const{onDragAbort:ct}=R.current,Dt={id:qe};ct==null||ct(Dt),v({type:"onDragAbort",event:Dt})},onPending(qe,Ht,ct,Dt){if(!E.get(qe))return;const{onDragPending:Rl}=R.current,ys={id:qe,constraint:Ht,initialCoordinates:ct,offset:Dt};Rl==null||Rl(ys),v({type:"onDragPending",event:ys})},onStart(qe){const Ht=$.current;if(Ht==null)return;const ct=E.get(Ht);if(!ct)return;const{onDragStart:Dt}=R.current,Nl={activatorEvent:Oe,active:{id:Ht,data:ct.data,rect:T}};Ar.unstable_batchedUpdates(()=>{Dt==null||Dt(Nl),S(Rs.Initializing),w({type:Nt.DragStart,initialCoordinates:qe,active:Ht}),v({type:"onDragStart",event:Nl}),V(vs.current),I(Oe)})},onMove(qe){w({type:Nt.DragMove,coordinates:qe})},onEnd:It(Nt.DragEnd),onCancel:It(Nt.DragCancel)});vs.current=lt;function It(qe){return async function(){const{active:ct,collisions:Dt,over:Nl,scrollAdjustedTranslate:Rl}=_e.current;let ys=null;if(ct&&Rl){const{cancelDrop:Tl}=R.current;ys={activatorEvent:Oe,active:ct,collisions:Dt,delta:Rl,over:Nl},qe===Nt.DragEnd&&typeof Tl=="function"&&await Promise.resolve(Tl(ys))&&(qe=Nt.DragCancel)}$.current=null,Ar.unstable_batchedUpdates(()=>{w({type:qe}),S(Rs.Uninitialized),jo(null),V(null),I(null),vs.current=null;const Tl=qe===Nt.DragEnd?"onDragEnd":"onDragCancel";if(ys){const Tp=R.current[Tl];Tp==null||Tp(ys),v({type:Tl,event:ys})}})}}},[E]),jl=d.useCallback((vt,at)=>(er,ye)=>{const Re=er.nativeEvent,Oe=E.get(ye);if($.current!==null||!Oe||Re.dndKit||Re.defaultPrevented)return;const lt={active:Oe};vt(er,at.options,lt)===!0&&(Re.dndKit={capturedBy:at.sensor},$.current=ye,Wr(er,at))},[E,Wr]),No=ZG(f,jl);sq(f),Un(()=>{se&&_===Rs.Initializing&&S(Rs.Initialized)},[se,_]),d.useEffect(()=>{const{onDragMove:vt}=R.current,{active:at,activatorEvent:er,collisions:ye,over:Re}=_e.current;if(!at||!er)return;const Oe={active:at,activatorEvent:er,collisions:ye,delta:{x:ge.x,y:ge.y},over:Re};Ar.unstable_batchedUpdates(()=>{vt==null||vt(Oe),v({type:"onDragMove",event:Oe})})},[ge.x,ge.y]),d.useEffect(()=>{const{active:vt,activatorEvent:at,collisions:er,droppableContainers:ye,scrollAdjustedTranslate:Re}=_e.current;if(!vt||$.current==null||!at||!Re)return;const{onDragOver:Oe}=R.current,lt=ye.get(zr),It=lt&&lt.rect.current?{id:lt.id,rect:lt.rect.current,data:lt.data,disabled:lt.disabled}:null,qe={active:vt,activatorEvent:at,collisions:er,delta:{x:Re.x,y:Re.y},over:It};Ar.unstable_batchedUpdates(()=>{jo(It),Oe==null||Oe(qe),v({type:"onDragOver",event:qe})})},[zr]),Un(()=>{_e.current={activatorEvent:H,active:F,activeNode:ae,collisionRect:je,collisions:Ge,droppableRects:W,draggableNodes:E,draggingNode:_t,draggingNodeRect:St,droppableContainers:O,over:Ct,scrollableAncestors:j,scrollAdjustedTranslate:ge},T.current={initial:St,translated:je}},[F,ae,Ge,je,E,_t,St,W,O,Ct,j,ge]),KG({...he,delta:P,draggingRect:je,pointerCoordinates:ne,scrollableAncestors:j,scrollableAncestorRects:D});const zu=d.useMemo(()=>({active:F,activeNode:ae,activeNodeRect:se,activatorEvent:H,collisions:Ge,containerNodeRect:Ce,dragOverlay:Ke,draggableNodes:E,droppableContainers:O,droppableRects:W,over:Ct,measureDroppableContainers:Z,scrollableAncestors:j,scrollableAncestorRects:D,measuringConfiguration:A,measuringScheduled:Q,windowRect:Xt}),[F,ae,se,H,Ge,Ce,Ke,E,O,W,Ct,Z,j,D,A,Q,Xt]),Vu=d.useMemo(()=>({activatorEvent:H,activators:No,active:F,activeNodeRect:se,ariaDescribedById:{draggable:U},dispatch:w,draggableNodes:E,over:Ct,measureDroppableContainers:Z}),[H,No,F,se,w,U,E,Ct,Z]);return L.createElement(WP.Provider,{value:x},L.createElement(kp.Provider,{value:Vu},L.createElement(sA.Provider,{value:zu},L.createElement(oA.Provider,{value:Vr},u)),L.createElement(mq,{disabled:(a==null?void 0:a.restoreFocus)===!1})),L.createElement(gG,{...a,hiddenTextDescribedById:U}));function Rp(){const vt=(Y==null?void 0:Y.autoScrollEnabled)===!1,at=typeof c=="object"?c.enabled===!1:c===!1,er=C&&!vt&&!at;return typeof c=="object"?{...c,enabled:er}:{enabled:er}}}),xq=d.createContext(null),jS="button",bq="Draggable";function _q(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const o=Fu(bq),{activators:i,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:m}=d.useContext(kp),{role:p=jS,roleDescription:y="draggable",tabIndex:g=0}=s??{},b=(c==null?void 0:c.id)===t,w=d.useContext(b?oA:xq),[v,x]=oh(),[_,S]=oh(),C=oq(i,t),k=au(r);Un(()=>(h.set(t,{id:t,key:o,node:v,activatorNode:_,data:k}),()=>{const P=h.get(t);P&&P.key===o&&h.delete(t)}),[h,t]);const E=d.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":n,"aria-pressed":b&&p===jS?!0:void 0,"aria-roledescription":y,"aria-describedby":f.draggable}),[n,p,g,b,y,f.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:E,isDragging:b,listeners:n?void 0:C,node:v,over:m,setNodeRef:x,setActivatorNodeRef:S,transform:w}}function Sq(){return d.useContext(sA)}const Cq="Droppable",kq={timeout:25};function Eq(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const o=Fu(Cq),{active:i,dispatch:a,over:c,measureDroppableContainers:u}=d.useContext(kp),f=d.useRef({disabled:r}),h=d.useRef(!1),m=d.useRef(null),p=d.useRef(null),{disabled:y,updateMeasurementsFor:g,timeout:b}={...kq,...s},w=au(g??n),v=d.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),p.current=null},b)},[b]),x=Cp({callback:v,disabled:y||!i}),_=d.useCallback((E,P)=>{x&&(P&&(x.unobserve(P),h.current=!1),E&&x.observe(E))},[x]),[S,C]=oh(_),k=au(t);return d.useEffect(()=>{!x||!S.current||(x.disconnect(),h.current=!1,x.observe(S.current))},[S,x]),d.useEffect(()=>(a({type:Nt.RegisterDroppable,element:{id:n,key:o,disabled:r,node:S,rect:m,data:k}}),()=>a({type:Nt.UnregisterDroppable,key:o,id:n})),[n]),d.useEffect(()=>{r!==f.current.disabled&&(a({type:Nt.SetDroppableDisabled,id:n,key:o,disabled:r}),f.current.disabled=r)},[n,o,r,a]),{active:i,rect:m,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:C}}function iA(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function jq(e,t){return e.reduce((r,n,s)=>{const o=t.get(n);return o&&(r[s]=o),r},Array(e.length))}function Od(e){return e!==null&&e>=0}function Nq(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Rq(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const aA=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e;const o=iA(t,n,r),i=t[s],a=o[s];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},Id={scaleX:1,scaleY:1},Tq=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:s,rects:o,overIndex:i}=e;const a=(t=o[r])!=null?t:n;if(!a)return null;if(s===r){const u=o[i];return u?{x:0,y:r<i?u.top+u.height-(a.top+a.height):u.top-a.top,...Id}:null}const c=Pq(o,s,r);return s>r&&s<=i?{x:0,y:-a.height-c,...Id}:s<r&&s>=i?{x:0,y:a.height+c,...Id}:{x:0,y:0,...Id}};function Pq(e,t,r){const n=e[t],s=e[t-1],o=e[t+1];return n?r<t?s?n.top-(s.top+s.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const lA="Sortable",cA=L.createContext({activeIndex:-1,containerId:lA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:aA,disabled:{draggable:!1,droppable:!1}});function Aq(e){let{children:t,id:r,items:n,strategy:s=aA,disabled:o=!1}=e;const{active:i,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:f}=Sq(),h=Fu(lA,r),m=a.rect!==null,p=d.useMemo(()=>n.map(C=>typeof C=="object"&&"id"in C?C.id:C),[n]),y=i!=null,g=i?p.indexOf(i.id):-1,b=u?p.indexOf(u.id):-1,w=d.useRef(p),v=!Nq(p,w.current),x=b!==-1&&g===-1||v,_=Rq(o);Un(()=>{v&&y&&f(p)},[v,p,y,f]),d.useEffect(()=>{w.current=p},[p]);const S=d.useMemo(()=>({activeIndex:g,containerId:h,disabled:_,disableTransforms:x,items:p,overIndex:b,useDragOverlay:m,sortedRects:jq(p,c),strategy:s}),[g,h,_.draggable,_.droppable,x,p,b,c,m,s]);return L.createElement(cA.Provider,{value:S},t)}const Oq=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return iA(r,n,s).indexOf(t)},Iq=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:o,newIndex:i,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!n||a!==o&&s===i?!1:r?!0:i!==s&&t===c},Dq={duration:200,easing:"ease"},uA="transform",Mq=cu.Transition.toString({property:uA,duration:0,easing:"linear"}),$q={roleDescription:"sortable"};function Lq(e){let{disabled:t,index:r,node:n,rect:s}=e;const[o,i]=d.useState(null),a=d.useRef(r);return Un(()=>{if(!t&&r!==a.current&&n.current){const c=s.current;if(c){const u=El(n.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&i(f)}}r!==a.current&&(a.current=r)},[t,r,n,s]),d.useEffect(()=>{o&&i(null)},[o]),o}function Fq(e){let{animateLayoutChanges:t=Iq,attributes:r,disabled:n,data:s,getNewIndex:o=Oq,id:i,strategy:a,resizeObserverConfig:c,transition:u=Dq}=e;const{items:f,containerId:h,activeIndex:m,disabled:p,disableTransforms:y,sortedRects:g,overIndex:b,useDragOverlay:w,strategy:v}=d.useContext(cA),x=Uq(n,p),_=f.indexOf(i),S=d.useMemo(()=>({sortable:{containerId:h,index:_,items:f},...s}),[h,s,_,f]),C=d.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:k,node:E,isOver:P,setNodeRef:O}=Eq({id:i,data:S,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:M,activatorEvent:T,activeNodeRect:F,attributes:$,setNodeRef:Y,listeners:V,isDragging:H,over:I,setActivatorNodeRef:R,transform:U}=_q({id:i,data:S,attributes:{...$q,...r},disabled:x.draggable}),q=nG(O,Y),A=!!M,W=A&&!y&&Od(m)&&Od(b),Z=!w&&H,Q=Z&&W?U:null,K=W?Q??(a??v)({rects:g,activeNodeRect:F,activeIndex:m,overIndex:b,index:_}):null,he=Od(m)&&Od(b)?o({id:i,items:f,activeIndex:m,overIndex:b}):_,de=M==null?void 0:M.id,se=d.useRef({activeId:de,items:f,newIndex:he,containerId:h}),Ce=f!==se.current.items,_e=t({active:M,containerId:h,isDragging:H,isSorting:A,id:i,index:_,items:f,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:u,wasDragging:se.current.activeId!=null}),He=Lq({disabled:!_e,index:_,node:E,rect:k});return d.useEffect(()=>{A&&se.current.newIndex!==he&&(se.current.newIndex=he),h!==se.current.containerId&&(se.current.containerId=h),f!==se.current.items&&(se.current.items=f)},[A,he,h,f]),d.useEffect(()=>{if(de===se.current.activeId)return;if(de&&!se.current.activeId){se.current.activeId=de;return}const _t=setTimeout(()=>{se.current.activeId=de},50);return()=>clearTimeout(_t)},[de]),{active:M,activeIndex:m,attributes:$,data:S,rect:k,index:_,newIndex:he,items:f,isOver:P,isSorting:A,isDragging:H,listeners:V,node:E,overIndex:b,over:I,setNodeRef:q,setActivatorNodeRef:R,setDroppableNodeRef:O,setDraggableNodeRef:Y,transform:He??K,transition:Ke()};function Ke(){if(He||Ce&&se.current.newIndex===_)return Mq;if(!(Z&&!Tx(T)||!u)&&(A||_e))return cu.Transition.toString({...u,property:uA})}}function Uq(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function lh(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Bq=[$e.Down,$e.Right,$e.Up,$e.Left],zq=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:o,over:i,scrollableAncestors:a}}=t;if(Bq.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];o.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(e.code){case $e.Down:n.top<m.top&&c.push(h);break;case $e.Up:n.top>m.top&&c.push(h);break;case $e.Left:n.left>m.left&&c.push(h);break;case $e.Right:n.left<m.left&&c.push(h);break}});const u=xG({active:r,collisionRect:n,droppableRects:s,droppableContainers:c,pointerCoordinates:null});let f=GP(u,"id");if(f===(i==null?void 0:i.id)&&u.length>1&&(f=u[1].id),f!=null){const h=o.get(r.id),m=o.get(f),p=m?s.get(m.id):null,y=m==null?void 0:m.node.current;if(y&&p&&h&&m){const b=Sp(y).some((C,k)=>a[k]!==C),w=dA(h,m),v=Vq(h,m),x=b||!w?{x:0,y:0}:{x:v?n.width-p.width:0,y:v?n.height-p.height:0},_={x:p.left,y:p.top};return x.x&&x.y?_:lu(_,x)}}}};function dA(e,t){return!lh(e)||!lh(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Vq(e,t){return!lh(e)||!lh(t)||!dA(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Wq=e=>{let{transform:t}=e;return{...t,x:0}};var by=["Enter"," "],Hq=["ArrowDown","PageUp","Home"],fA=["ArrowUp","PageDown","End"],Kq=[...Hq,...fA],Gq={ltr:[...by,"ArrowRight"],rtl:[...by,"ArrowLeft"]},qq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uu="Menu",[du,Yq,Zq]=jh(Uu),[Ri,hA]=At(Uu,[Zq,yo,Co]),Ep=yo(),pA=Co(),[Qq,Ti]=Ri(Uu),[Jq,Bu]=Ri(Uu),mA=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=Ep(t),[c,u]=d.useState(null),f=d.useRef(!1),h=_r(o),m=_l(s);return d.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(Ih,{...a,children:l.jsx(Qq,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(Jq,{scope:t,onClose:d.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:i,children:n})})})};mA.displayName=Uu;var Xq="MenuAnchor",Dx=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ep(r);return l.jsx(Cu,{...s,...n,ref:t})});Dx.displayName=Xq;var Mx="MenuPortal",[eY,gA]=Ri(Mx,{forceMount:void 0}),vA=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Ti(Mx,t);return l.jsx(eY,{scope:t,forceMount:r,children:l.jsx(Jt,{present:r||o.open,children:l.jsx(rl,{asChild:!0,container:s,children:n})})})};vA.displayName=Mx;var Jr="MenuContent",[tY,$x]=Ri(Jr),yA=d.forwardRef((e,t)=>{const r=gA(Jr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ti(Jr,e.__scopeMenu),i=Bu(Jr,e.__scopeMenu);return l.jsx(du.Provider,{scope:e.__scopeMenu,children:l.jsx(Jt,{present:n||o.open,children:l.jsx(du.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(rY,{...s,ref:t}):l.jsx(nY,{...s,ref:t})})})})}),rY=d.forwardRef((e,t)=>{const r=Ti(Jr,e.__scopeMenu),n=d.useRef(null),s=Ne(t,n);return d.useEffect(()=>{const o=n.current;if(o)return qh(o)},[]),l.jsx(Lx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),nY=d.forwardRef((e,t)=>{const r=Ti(Jr,e.__scopeMenu);return l.jsx(Lx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),sY=lo("MenuContent.ScrollLock"),Lx=d.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=e,b=Ti(Jr,r),w=Bu(Jr,r),v=Ep(r),x=pA(r),_=Yq(r),[S,C]=d.useState(null),k=d.useRef(null),E=Ne(t,k,b.onContentChange),P=d.useRef(0),O=d.useRef(""),M=d.useRef(0),T=d.useRef(null),F=d.useRef("right"),$=d.useRef(0),Y=y?Nu:d.Fragment,V=y?{as:sY,allowPinchZoom:!0}:void 0,H=R=>{var K,he;const U=O.current+R,q=_().filter(de=>!de.disabled),A=document.activeElement,W=(K=q.find(de=>de.ref.current===A))==null?void 0:K.textValue,Z=q.map(de=>de.textValue),Q=gY(Z,U,W),ae=(he=q.find(de=>de.textValue===Q))==null?void 0:he.ref.current;(function de(se){O.current=se,window.clearTimeout(P.current),se!==""&&(P.current=window.setTimeout(()=>de(""),1e3))})(U),ae&&setTimeout(()=>ae.focus())};d.useEffect(()=>()=>window.clearTimeout(P.current),[]),Kh();const I=d.useCallback(R=>{var q,A;return F.current===((q=T.current)==null?void 0:q.side)&&yY(R,(A=T.current)==null?void 0:A.area)},[]);return l.jsx(tY,{scope:r,searchRef:O,onItemEnter:d.useCallback(R=>{I(R)&&R.preventDefault()},[I]),onItemLeave:d.useCallback(R=>{var U;I(R)||((U=k.current)==null||U.focus(),C(null))},[I]),onTriggerLeave:d.useCallback(R=>{I(R)&&R.preventDefault()},[I]),pointerGraceTimerRef:M,onPointerGraceIntentChange:d.useCallback(R=>{T.current=R},[]),children:l.jsx(Y,{...V,children:l.jsx(ju,{asChild:!0,trapped:s,onMountAutoFocus:ee(o,R=>{var U;R.preventDefault(),(U=k.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:l.jsx(sp,{asChild:!0,...x,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:ee(c,R=>{w.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Dh,{role:"menu","aria-orientation":"vertical","data-state":IA(b.open),"data-radix-menu-content":"",dir:w.dir,...v,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:ee(g.onKeyDown,R=>{const q=R.target.closest("[data-radix-menu-content]")===R.currentTarget,A=R.ctrlKey||R.altKey||R.metaKey,W=R.key.length===1;q&&(R.key==="Tab"&&R.preventDefault(),!A&&W&&H(R.key));const Z=k.current;if(R.target!==Z||!Kq.includes(R.key))return;R.preventDefault();const ae=_().filter(K=>!K.disabled).map(K=>K.ref.current);fA.includes(R.key)&&ae.reverse(),pY(ae)}),onBlur:ee(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:ee(e.onPointerMove,fu(R=>{const U=R.target,q=$.current!==R.clientX;if(R.currentTarget.contains(U)&&q){const A=R.clientX>$.current?"right":"left";F.current=A,$.current=R.clientX}}))})})})})})})});yA.displayName=Jr;var oY="MenuGroup",Fx=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ie.div,{role:"group",...n,ref:t})});Fx.displayName=oY;var iY="MenuLabel",wA=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ie.div,{...n,ref:t})});wA.displayName=iY;var ch="MenuItem",NS="menu.itemSelect",jp=d.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=d.useRef(null),i=Bu(ch,e.__scopeMenu),a=$x(ch,e.__scopeMenu),c=Ne(t,o),u=d.useRef(!1),f=()=>{const h=o.current;if(!r&&h){const m=new CustomEvent(NS,{bubbles:!0,cancelable:!0});h.addEventListener(NS,p=>n==null?void 0:n(p),{once:!0}),yw(h,m),m.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(xA,{...s,ref:c,disabled:r,onClick:ee(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:ee(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:ee(e.onKeyDown,h=>{const m=a.searchRef.current!=="";r||m&&h.key===" "||by.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});jp.displayName=ch;var xA=d.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=$x(ch,r),a=pA(r),c=d.useRef(null),u=Ne(t,c),[f,h]=d.useState(!1),[m,p]=d.useState("");return d.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[o.children]),l.jsx(du.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:l.jsx(op,{asChild:!0,...a,focusable:!n,children:l.jsx(ie.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:ee(e.onPointerMove,fu(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,fu(y=>i.onItemLeave(y))),onFocus:ee(e.onFocus,()=>h(!0)),onBlur:ee(e.onBlur,()=>h(!1))})})})}),aY="MenuCheckboxItem",bA=d.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(EA,{scope:e.__scopeMenu,checked:r,children:l.jsx(jp,{role:"menuitemcheckbox","aria-checked":uh(r)?"mixed":r,...s,ref:t,"data-state":Bx(r),onSelect:ee(s.onSelect,()=>n==null?void 0:n(uh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});bA.displayName=aY;var _A="MenuRadioGroup",[lY,cY]=Ri(_A,{value:void 0,onValueChange:()=>{}}),SA=d.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=_r(n);return l.jsx(lY,{scope:e.__scopeMenu,value:r,onValueChange:o,children:l.jsx(Fx,{...s,ref:t})})});SA.displayName=_A;var CA="MenuRadioItem",kA=d.forwardRef((e,t)=>{const{value:r,...n}=e,s=cY(CA,e.__scopeMenu),o=r===s.value;return l.jsx(EA,{scope:e.__scopeMenu,checked:o,children:l.jsx(jp,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Bx(o),onSelect:ee(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});kA.displayName=CA;var Ux="MenuItemIndicator",[EA,uY]=Ri(Ux,{checked:!1}),jA=d.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=uY(Ux,r);return l.jsx(Jt,{present:n||uh(o.checked)||o.checked===!0,children:l.jsx(ie.span,{...s,ref:t,"data-state":Bx(o.checked)})})});jA.displayName=Ux;var dY="MenuSeparator",NA=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});NA.displayName=dY;var fY="MenuArrow",RA=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ep(r);return l.jsx(Mh,{...s,...n,ref:t})});RA.displayName=fY;var hY="MenuSub",[RZ,TA]=Ri(hY),rc="MenuSubTrigger",PA=d.forwardRef((e,t)=>{const r=Ti(rc,e.__scopeMenu),n=Bu(rc,e.__scopeMenu),s=TA(rc,e.__scopeMenu),o=$x(rc,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>f,[f]),d.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),c(null)}},[a,c]),l.jsx(Dx,{asChild:!0,...u,children:l.jsx(xA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":IA(r.open),...e,ref:is(t,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,fu(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:ee(e.onPointerLeave,fu(h=>{var p,y;f();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(y=r.content)==null?void 0:y.dataset.side,b=g==="right",w=b?-5:5,v=m[b?"left":"right"],x=m[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:v,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,h=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&h.key===" "||Gq[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});PA.displayName=rc;var AA="MenuSubContent",OA=d.forwardRef((e,t)=>{const r=gA(Jr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ti(Jr,e.__scopeMenu),i=Bu(Jr,e.__scopeMenu),a=TA(AA,e.__scopeMenu),c=d.useRef(null),u=Ne(t,c);return l.jsx(du.Provider,{scope:e.__scopeMenu,children:l.jsx(Jt,{present:n||o.open,children:l.jsx(du.Slot,{scope:e.__scopeMenu,children:l.jsx(Lx,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ee(e.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:ee(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=qq[i.dir].includes(f.key);h&&m&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),f.preventDefault())})})})})})});OA.displayName=AA;function IA(e){return e?"open":"closed"}function uh(e){return e==="indeterminate"}function Bx(e){return uh(e)?"indeterminate":e?"checked":"unchecked"}function pY(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function mY(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function gY(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=mY(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function vY(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,f=a.y,h=c.x,m=c.y;f>n!=m>n&&r<(h-u)*(n-f)/(m-f)+u&&(s=!s)}return s}function yY(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return vY(r,t)}function fu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wY=mA,xY=Dx,bY=vA,_Y=yA,SY=Fx,CY=wA,kY=jp,EY=bA,jY=SA,NY=kA,RY=jA,TY=NA,PY=RA,AY=PA,OY=OA,Np="DropdownMenu",[IY,TZ]=At(Np,[hA]),cr=hA(),[DY,DA]=IY(Np),MA=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=cr(t),u=d.useRef(null),[f,h]=Qt({prop:s,defaultProp:o??!1,onChange:i,caller:Np});return l.jsx(DY,{scope:t,triggerId:Pt(),triggerRef:u,contentId:Pt(),open:f,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(m=>!m),[h]),modal:a,children:l.jsx(wY,{...c,open:f,onOpenChange:h,dir:n,modal:a,children:r})})};MA.displayName=Np;var $A="DropdownMenuTrigger",LA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=DA($A,r),i=cr(r);return l.jsx(xY,{asChild:!0,...i,children:l.jsx(ie.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:is(t,o.triggerRef),onPointerDown:ee(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:ee(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});LA.displayName=$A;var MY="DropdownMenuPortal",FA=e=>{const{__scopeDropdownMenu:t,...r}=e,n=cr(t);return l.jsx(bY,{...n,...r})};FA.displayName=MY;var UA="DropdownMenuContent",BA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=DA(UA,r),o=cr(r),i=d.useRef(!1);return l.jsx(_Y,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BA.displayName=UA;var $Y="DropdownMenuGroup",LY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(SY,{...s,...n,ref:t})});LY.displayName=$Y;var FY="DropdownMenuLabel",zA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(CY,{...s,...n,ref:t})});zA.displayName=FY;var UY="DropdownMenuItem",VA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(kY,{...s,...n,ref:t})});VA.displayName=UY;var BY="DropdownMenuCheckboxItem",WA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(EY,{...s,...n,ref:t})});WA.displayName=BY;var zY="DropdownMenuRadioGroup",VY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(jY,{...s,...n,ref:t})});VY.displayName=zY;var WY="DropdownMenuRadioItem",HA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(NY,{...s,...n,ref:t})});HA.displayName=WY;var HY="DropdownMenuItemIndicator",KA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(RY,{...s,...n,ref:t})});KA.displayName=HY;var KY="DropdownMenuSeparator",GA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(TY,{...s,...n,ref:t})});GA.displayName=KY;var GY="DropdownMenuArrow",qY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(PY,{...s,...n,ref:t})});qY.displayName=GY;var YY="DropdownMenuSubTrigger",qA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(AY,{...s,...n,ref:t})});qA.displayName=YY;var ZY="DropdownMenuSubContent",YA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cr(r);return l.jsx(OY,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YA.displayName=ZY;var QY=MA,JY=LA,XY=FA,ZA=BA,QA=zA,JA=VA,XA=WA,eO=HA,tO=KA,rO=GA,nO=qA,sO=YA;const eZ=QY,tZ=JY,rZ=d.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(nO,{ref:s,className:B("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(NE,{className:"ml-auto h-4 w-4"})]}));rZ.displayName=nO.displayName;const nZ=d.forwardRef(({className:e,...t},r)=>l.jsx(sO,{ref:r,className:B("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));nZ.displayName=sO.displayName;const oO=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(XY,{children:l.jsx(ZA,{ref:n,sideOffset:t,className:B("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));oO.displayName=ZA.displayName;const _y=d.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(JA,{ref:n,className:B("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));_y.displayName=JA.displayName;const sZ=d.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(XA,{ref:s,className:B("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tO,{children:l.jsx(_w,{className:"h-4 w-4"})})}),t]}));sZ.displayName=XA.displayName;const oZ=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(eO,{ref:n,className:B("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tO,{children:l.jsx(RE,{className:"h-2 w-2 fill-current"})})}),t]}));oZ.displayName=eO.displayName;const iZ=d.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(QA,{ref:n,className:B("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));iZ.displayName=QA.displayName;const aZ=d.forwardRef(({className:e,...t},r)=>l.jsx(rO,{ref:r,className:B("-mx-1 my-1 h-px bg-muted",e),...t}));aZ.displayName=rO.displayName;const lZ=({goal:e,onToggle:t,onEdit:r,onDelete:n,isToggling:s=!1,overdueLabel:o})=>{const{attributes:i,listeners:a,setNodeRef:c,transform:u,transition:f,isDragging:h}=Fq({id:e.id}),m={transform:cu.Transform.toString(u),transition:f},p=z7(e),y=d.useRef(null),{triggerConfetti:g,ConfettiPortal:b}=dp(),w=()=>{e.isCompleted||g(y.current),t(e.id)};return l.jsxs("div",{ref:c,style:m,className:`group flex items-start gap-4 rounded-xl border ${o?"border-destructive/30":"border-border"} bg-card p-4 transition-colors ${h?"opacity-50 shadow-lg":""} ${e.isCompleted?"opacity-75":""}`,children:[l.jsx("button",{...i,...a,className:"mt-0.5 cursor-grab touch-none text-muted-foreground/40 hover:text-muted-foreground active:cursor-grabbing","aria-label":"Drag to reorder",children:l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"currentColor",children:[l.jsx("circle",{cx:"5",cy:"3",r:"1.5"}),l.jsx("circle",{cx:"11",cy:"3",r:"1.5"}),l.jsx("circle",{cx:"5",cy:"8",r:"1.5"}),l.jsx("circle",{cx:"11",cy:"8",r:"1.5"}),l.jsx("circle",{cx:"5",cy:"13",r:"1.5"}),l.jsx("circle",{cx:"11",cy:"13",r:"1.5"})]})}),l.jsx(yi,{ref:y,checked:e.isCompleted,onCheckedChange:w,disabled:s,className:"mt-0.5"}),l.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>r(e),role:"button",tabIndex:0,onKeyDown:v=>{v.key==="Enter"&&r(e)},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-base font-medium leading-tight ${e.isCompleted?"line-through text-muted-foreground":""}`,children:e.title}),l.jsx(ou,{variant:"secondary",className:"text-[10px] px-1.5 py-0 shrink-0",children:p})]}),e.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:e.description}),o&&l.jsx("p",{className:"text-xs font-medium text-destructive mt-0.5",children:o})]}),l.jsxs(eZ,{children:[l.jsx(tZ,{asChild:!0,children:l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0 opacity-0 group-hover:opacity-100 focus:opacity-100",children:l.jsx(M8,{className:"h-4 w-4"})})}),l.jsxs(oO,{align:"end",className:"bg-popover",children:[l.jsxs(_y,{onClick:()=>r(e),children:[l.jsx(KU,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(_y,{onClick:()=>n(e.id),className:"text-destructive focus:text-destructive",children:[l.jsx(kB,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),l.jsx(b,{})]})},cZ=({goals:e,onToggle:t,onEdit:r,onDelete:n,onReorder:s,isToggling:o=!1,overdueLabels:i})=>{const a=vG(mS(Ix,{activationConstraint:{distance:8}}),mS(Ax,{coordinateGetter:zq})),c=u=>{const{active:f,over:h}=u;if(!h||f.id===h.id)return;const m=e.findIndex(b=>b.id===f.id),p=e.findIndex(b=>b.id===h.id);if(m===-1||p===-1)return;const y=[...e],[g]=y.splice(m,1);y.splice(p,0,g),s(y.map(b=>b.id))};return l.jsx(wq,{sensors:a,collisionDetection:wG,modifiers:[Wq],onDragEnd:c,children:l.jsx(Aq,{items:e.map(u=>u.id),strategy:Tq,children:l.jsx("div",{className:"space-y-2",children:e.map(u=>l.jsx(lZ,{goal:u,onToggle:t,onEdit:r,onDelete:n,isToggling:o,overdueLabel:i==null?void 0:i.get(u.id)},u.id))})})})},uZ=()=>{const{goals:e,isLoading:t,createGoal:r,updateGoal:n,deleteGoal:s,reorderGoals:o,isCreating:i,isUpdating:a}=ip(),{isCompleted:c,toggleCompletion:u,isToggling:f}=mx(),{overdueGoals:h,completeOverdue:m,isCompletingOverdue:p}=A2(),y=ms(),[g,b]=d.useState(!1),[w,v]=d.useState(null),x=d.useMemo(()=>e.map(T=>({...T,isCompleted:c(T.id)})),[e,c]),_=()=>{v(null),b(!0)},S=T=>{v(T),b(!0)},C=async T=>{w?await n(w.id,T):await r(T)},k=async T=>{await s(T)},E=T=>{h.some($=>$.goal.id===T)?m(T):u(T)},P=T=>{o(T)},O=d.useMemo(()=>{const T=new Map;for(const F of h)T.set(F.goal.id,F.overdueDateLabel);return T},[h]),M=x.filter(T=>T.is_active);return l.jsxs("div",{className:"container py-8",children:[l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"md:text-4xl tracking-tight font-display text-4xl font-normal",children:"Goals"}),l.jsx("p",{className:"text-base text-muted-foreground mt-1 font-normal",children:"Rooted in Niyat, completed with Ikhlas."})]}),!y&&l.jsxs(Pe,{onClick:_,children:[l.jsx(Xc,{className:"mr-2 h-4 w-4"}),"Add Goal"]})]}),t?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading goals..."})}):M.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(Xc,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No goals yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create your first goal to start tracking your daily habits."})]}):l.jsx(cZ,{goals:M,onToggle:E,onEdit:S,onDelete:k,onReorder:P,isToggling:f||p,overdueLabels:O})]}),l.jsx(sy,{open:g,onOpenChange:b,goal:w,onSubmit:C,isLoading:i||a})]})},dZ=()=>{const e=xo();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},fZ=new G5,hZ=()=>l.jsx(J5,{client:fZ,children:l.jsx(H6,{children:l.jsx(aU,{children:l.jsxs(yj,{children:[l.jsx(d$,{}),l.jsx(W$,{}),l.jsx(oF,{children:l.jsxs(Q4,{children:[l.jsx(on,{path:"/",element:l.jsx(Hc,{to:"/auth",replace:!0})}),l.jsx(on,{path:"/auth",element:l.jsx(v7,{})}),l.jsx(on,{path:"/auth/signup",element:l.jsx(w7,{})}),l.jsx(on,{path:"/dashboard",element:l.jsx(Hc,{to:"/today",replace:!0})}),l.jsx(on,{path:"/auth/onboarding",element:l.jsx(zl,{children:l.jsx(cH,{})})}),l.jsx(on,{path:"/today",element:l.jsx(zl,{children:l.jsx(jd,{children:l.jsx(xW,{})})})}),l.jsx(on,{path:"/goals",element:l.jsx(zl,{children:l.jsx(jd,{children:l.jsx(uZ,{})})})}),l.jsx(on,{path:"/profile",element:l.jsx(zl,{children:l.jsx(jd,{children:l.jsx(WK,{})})})}),l.jsx(on,{path:"/namaz",element:l.jsx(zl,{children:l.jsx(jd,{children:l.jsx(rG,{})})})}),l.jsx(on,{path:"*",element:l.jsx(dZ,{})})]})})]})})})});Xk(document.getElementById("root")).render(l.jsx(hZ,{}));
